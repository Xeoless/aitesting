var ik=Object.defineProperty;var ym=e=>{throw TypeError(e)};var ak=(e,t,r)=>t in e?ik(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vm=(e,t,r)=>ak(e,typeof t!="symbol"?t+"":t,r),Du=(e,t,r)=>t.has(e)||ym("Cannot "+r);var D=(e,t,r)=>(Du(e,t,"read from private field"),r?r.call(e):t.get(e)),$e=(e,t,r)=>t.has(e)?ym("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ee=(e,t,r,n)=>(Du(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Et=(e,t,r)=>(Du(e,t,"access private method"),r);var Xa=(e,t,r,n)=>({set _(s){Ee(e,t,s,r)},get _(){return D(e,t,n)}});function lk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function uv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dv={exports:{}},Lc={},hv={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aa=Symbol.for("react.element"),ck=Symbol.for("react.portal"),uk=Symbol.for("react.fragment"),dk=Symbol.for("react.strict_mode"),hk=Symbol.for("react.profiler"),fk=Symbol.for("react.provider"),pk=Symbol.for("react.context"),mk=Symbol.for("react.forward_ref"),gk=Symbol.for("react.suspense"),yk=Symbol.for("react.memo"),vk=Symbol.for("react.lazy"),wm=Symbol.iterator;function wk(e){return e===null||typeof e!="object"?null:(e=wm&&e[wm]||e["@@iterator"],typeof e=="function"?e:null)}var fv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pv=Object.assign,mv={};function ci(e,t,r){this.props=e,this.context=t,this.refs=mv,this.updater=r||fv}ci.prototype.isReactComponent={};ci.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gv(){}gv.prototype=ci.prototype;function pf(e,t,r){this.props=e,this.context=t,this.refs=mv,this.updater=r||fv}var mf=pf.prototype=new gv;mf.constructor=pf;pv(mf,ci.prototype);mf.isPureReactComponent=!0;var xm=Array.isArray,yv=Object.prototype.hasOwnProperty,gf={current:null},vv={key:!0,ref:!0,__self:!0,__source:!0};function wv(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)yv.call(t,n)&&!vv.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Aa,type:e,key:o,ref:i,props:s,_owner:gf.current}}function xk(e,t){return{$$typeof:Aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Aa}function bk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bm=/\/+/g;function $u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bk(""+e.key):t.toString(36)}function Pl(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Aa:case ck:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+$u(i,0):n,xm(s)?(r="",e!=null&&(r=e.replace(bm,"$&/")+"/"),Pl(s,t,r,"",function(u){return u})):s!=null&&(yf(s)&&(s=xk(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(bm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",xm(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+$u(o,l);i+=Pl(o,t,r,c,s)}else if(c=wk(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+$u(o,l++),i+=Pl(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Za(e,t,r){if(e==null)return e;var n=[],s=0;return Pl(e,n,"","",function(o){return t.call(r,o,s++)}),n}function _k(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},Al={transition:null},kk={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Al,ReactCurrentOwner:gf};function xv(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Za,forEach:function(e,t,r){Za(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Za(e,function(){t++}),t},toArray:function(e){return Za(e,function(t){return t})||[]},only:function(e){if(!yf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=ci;Re.Fragment=uk;Re.Profiler=hk;Re.PureComponent=pf;Re.StrictMode=dk;Re.Suspense=gk;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kk;Re.act=xv;Re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pv({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=gf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yv.call(t,c)&&!vv.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Aa,type:e.type,key:s,ref:o,props:n,_owner:i}};Re.createContext=function(e){return e={$$typeof:pk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fk,_context:e},e.Consumer=e};Re.createElement=wv;Re.createFactory=function(e){var t=wv.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:mk,render:e}};Re.isValidElement=yf;Re.lazy=function(e){return{$$typeof:vk,_payload:{_status:-1,_result:e},_init:_k}};Re.memo=function(e,t){return{$$typeof:yk,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Al.transition;Al.transition={};try{e()}finally{Al.transition=t}};Re.unstable_act=xv;Re.useCallback=function(e,t){return Ft.current.useCallback(e,t)};Re.useContext=function(e){return Ft.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Ft.current.useEffect(e,t)};Re.useId=function(){return Ft.current.useId()};Re.useImperativeHandle=function(e,t,r){return Ft.current.useImperativeHandle(e,t,r)};Re.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Ft.current.useMemo(e,t)};Re.useReducer=function(e,t,r){return Ft.current.useReducer(e,t,r)};Re.useRef=function(e){return Ft.current.useRef(e)};Re.useState=function(e){return Ft.current.useState(e)};Re.useSyncExternalStore=function(e,t,r){return Ft.current.useSyncExternalStore(e,t,r)};Re.useTransition=function(){return Ft.current.useTransition()};Re.version="18.3.1";hv.exports=Re;var h=hv.exports;const L=uv(h),bv=lk({__proto__:null,default:L},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk=h,jk=Symbol.for("react.element"),Ek=Symbol.for("react.fragment"),Ck=Object.prototype.hasOwnProperty,Nk=Sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rk={key:!0,ref:!0,__self:!0,__source:!0};function _v(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Ck.call(t,n)&&!Rk.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:jk,type:e,key:o,ref:i,props:s,_owner:Nk.current}}Lc.Fragment=Ek;Lc.jsx=_v;Lc.jsxs=_v;dv.exports=Lc;var a=dv.exports,kv={exports:{}},ar={},Sv={exports:{}},jv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,E){var P=R.length;R.push(E);e:for(;0<P;){var U=P-1>>>1,V=R[U];if(0<s(V,E))R[U]=E,R[P]=V,P=U;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var E=R[0],P=R.pop();if(P!==E){R[0]=P;e:for(var U=0,V=R.length,oe=V>>>1;U<oe;){var ee=2*(U+1)-1,ke=R[ee],ve=ee+1,me=R[ve];if(0>s(ke,P))ve<V&&0>s(me,ke)?(R[U]=me,R[ve]=P,U=ve):(R[U]=ke,R[ee]=P,U=ee);else if(ve<V&&0>s(me,P))R[U]=me,R[ve]=P,U=ve;else break e}}return E}function s(R,E){var P=R.sortIndex-E.sortIndex;return P!==0?P:R.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,m=!1,b=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var E=r(u);E!==null;){if(E.callback===null)n(u);else if(E.startTime<=R)n(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=r(u)}}function _(R){if(y=!1,v(R),!b)if(r(c)!==null)b=!0,Q(k);else{var E=r(u);E!==null&&re(_,E.startTime-R)}}function k(R,E){b=!1,y&&(y=!1,w(C),C=-1),m=!0;var P=p;try{for(v(E),f=r(c);f!==null&&(!(f.expirationTime>E)||R&&!se());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var V=U(f.expirationTime<=E);E=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),v(E)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var ee=r(u);ee!==null&&re(_,ee.startTime-E),oe=!1}return oe}finally{f=null,p=P,m=!1}}var S=!1,j=null,C=-1,A=5,$=-1;function se(){return!(e.unstable_now()-$<A)}function q(){if(j!==null){var R=e.unstable_now();$=R;var E=!0;try{E=j(!0,R)}finally{E?ie():(S=!1,j=null)}}else S=!1}var ie;if(typeof g=="function")ie=function(){g(q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,de=B.port2;B.port1.onmessage=q,ie=function(){de.postMessage(null)}}else ie=function(){x(q,0)};function Q(R){j=R,S||(S=!0,ie())}function re(R,E){C=x(function(){R(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,Q(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var P=p;p=E;try{return R()}finally{p=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,E){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var P=p;p=R;try{return E()}finally{p=P}},e.unstable_scheduleCallback=function(R,E,P){var U=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?U+P:U):P=U,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=P+V,R={id:d++,callback:E,priorityLevel:R,startTime:P,expirationTime:V,sortIndex:-1},P>U?(R.sortIndex=P,t(u,R),r(c)===null&&R===r(u)&&(y?(w(C),C=-1):y=!0,re(_,P-U))):(R.sortIndex=V,t(c,R),b||m||(b=!0,Q(k))),R},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(R){var E=p;return function(){var P=p;p=E;try{return R.apply(this,arguments)}finally{p=P}}}})(jv);Sv.exports=jv;var Tk=Sv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=h,or=Tk;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ev=new Set,ea={};function Xs(e,t){Xo(e,t),Xo(e+"Capture",t)}function Xo(e,t){for(ea[e]=t,e=0;e<t.length;e++)Ev.add(t[e])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ud=Object.prototype.hasOwnProperty,Ak=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_m={},km={};function Ok(e){return Ud.call(km,e)?!0:Ud.call(_m,e)?!1:Ak.test(e)?km[e]=!0:(_m[e]=!0,!1)}function Ik(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mk(e,t,r,n){if(t===null||typeof t>"u"||Ik(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ut(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var vf=/[\-:]([a-z])/g;function wf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vf,wf);_t[t]=new Ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vf,wf);_t[t]=new Ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vf,wf);_t[t]=new Ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function xf(e,t,r,n){var s=_t.hasOwnProperty(t)?_t[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mk(t,r,s,n)&&(r=null),n||s===null?Ok(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tn=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,el=Symbol.for("react.element"),xo=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),zd=Symbol.for("react.profiler"),Cv=Symbol.for("react.provider"),Nv=Symbol.for("react.context"),_f=Symbol.for("react.forward_ref"),Bd=Symbol.for("react.suspense"),Wd=Symbol.for("react.suspense_list"),kf=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Rv=Symbol.for("react.offscreen"),Sm=Symbol.iterator;function wi(e){return e===null||typeof e!="object"?null:(e=Sm&&e[Sm]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,Lu;function Ai(e){if(Lu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lu=t&&t[1]||""}return`
`+Lu+e}var Fu=!1;function Uu(e,t){if(!e||Fu)return"";Fu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Fu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ai(e):""}function Dk(e){switch(e.tag){case 5:return Ai(e.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 2:case 15:return e=Uu(e.type,!1),e;case 11:return e=Uu(e.type.render,!1),e;case 1:return e=Uu(e.type,!0),e;default:return""}}function Hd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bo:return"Fragment";case xo:return"Portal";case zd:return"Profiler";case bf:return"StrictMode";case Bd:return"Suspense";case Wd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nv:return(e.displayName||"Context")+".Consumer";case Cv:return(e._context.displayName||"Context")+".Provider";case _f:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kf:return t=e.displayName||null,t!==null?t:Hd(e.type)||"Memo";case Un:t=e._payload,e=e._init;try{return Hd(e(t))}catch{}}return null}function $k(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hd(t);case 8:return t===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lk(e){var t=Tv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tl(e){e._valueTracker||(e._valueTracker=Lk(e))}function Pv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Tv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vd(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=hs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Av(e,t){t=t.checked,t!=null&&xf(e,"checked",t,!1)}function Kd(e,t){Av(e,t);var r=hs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qd(e,t.type,r):t.hasOwnProperty("defaultValue")&&qd(e,t.type,hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Em(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qd(e,t,r){(t!=="number"||Xl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Oi=Array.isArray;function Oo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+hs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(Oi(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hs(r)}}function Ov(e,t){var r=hs(t.value),n=hs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Nm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Iv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Iv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rl,Mv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rl=rl||document.createElement("div"),rl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ta(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fk=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(e){Fk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ui[t]=Ui[e]})});function Dv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ui.hasOwnProperty(e)&&Ui[e]?(""+t).trim():t+"px"}function $v(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Dv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Uk=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qd(e,t){if(t){if(Uk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Jd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=null;function Sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zd=null,Io=null,Mo=null;function Rm(e){if(e=Ma(e)){if(typeof Zd!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Wc(t),Zd(e.stateNode,e.type,t))}}function Lv(e){Io?Mo?Mo.push(e):Mo=[e]:Io=e}function Fv(){if(Io){var e=Io,t=Mo;if(Mo=Io=null,Rm(e),t)for(e=0;e<t.length;e++)Rm(t[e])}}function Uv(e,t){return e(t)}function zv(){}var zu=!1;function Bv(e,t,r){if(zu)return e(t,r);zu=!0;try{return Uv(e,t,r)}finally{zu=!1,(Io!==null||Mo!==null)&&(zv(),Fv())}}function ra(e,t){var r=e.stateNode;if(r===null)return null;var n=Wc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var eh=!1;if(kn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){eh=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{eh=!1}function zk(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var zi=!1,Zl=null,ec=!1,th=null,Bk={onError:function(e){zi=!0,Zl=e}};function Wk(e,t,r,n,s,o,i,l,c){zi=!1,Zl=null,zk.apply(Bk,arguments)}function Hk(e,t,r,n,s,o,i,l,c){if(Wk.apply(this,arguments),zi){if(zi){var u=Zl;zi=!1,Zl=null}else throw Error(z(198));ec||(ec=!0,th=u)}}function Zs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tm(e){if(Zs(e)!==e)throw Error(z(188))}function Vk(e){var t=e.alternate;if(!t){if(t=Zs(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Tm(s),e;if(o===n)return Tm(s),t;o=o.sibling}throw Error(z(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function Hv(e){return e=Vk(e),e!==null?Vv(e):null}function Vv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vv(e);if(t!==null)return t;e=e.sibling}return null}var Kv=or.unstable_scheduleCallback,Pm=or.unstable_cancelCallback,Kk=or.unstable_shouldYield,qk=or.unstable_requestPaint,it=or.unstable_now,Gk=or.unstable_getCurrentPriorityLevel,jf=or.unstable_ImmediatePriority,qv=or.unstable_UserBlockingPriority,tc=or.unstable_NormalPriority,Yk=or.unstable_LowPriority,Gv=or.unstable_IdlePriority,Fc=null,nn=null;function Qk(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Fc,e,void 0,(e.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:Zk,Jk=Math.log,Xk=Math.LN2;function Zk(e){return e>>>=0,e===0?32:31-(Jk(e)/Xk|0)|0}var nl=64,sl=4194304;function Ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Ii(l):(o&=i,o!==0&&(n=Ii(o)))}else i=r&~s,i!==0?n=Ii(i):o!==0&&(n=Ii(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$r(t),s=1<<r,n|=e[r],t&=~s;return n}function eS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-$r(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=eS(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function rh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yv(){var e=nl;return nl<<=1,!(nl&4194240)&&(nl=64),e}function Bu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Oa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$r(t),e[t]=r}function rS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-$r(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Ef(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$r(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ue=0;function Qv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jv,Cf,Xv,Zv,ew,nh=!1,ol=[],Zn=null,es=null,ts=null,na=new Map,sa=new Map,Wn=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Am(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":na.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(t.pointerId)}}function bi(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ma(t),t!==null&&Cf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sS(e,t,r,n,s){switch(t){case"focusin":return Zn=bi(Zn,e,t,r,n,s),!0;case"dragenter":return es=bi(es,e,t,r,n,s),!0;case"mouseover":return ts=bi(ts,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return na.set(o,bi(na.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,sa.set(o,bi(sa.get(o)||null,e,t,r,n,s)),!0}return!1}function tw(e){var t=Rs(e.target);if(t!==null){var r=Zs(t);if(r!==null){if(t=r.tag,t===13){if(t=Wv(r),t!==null){e.blockedOn=t,ew(e.priority,function(){Xv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Xd=n,r.target.dispatchEvent(n),Xd=null}else return t=Ma(r),t!==null&&Cf(t),e.blockedOn=r,!1;t.shift()}return!0}function Om(e,t,r){Ol(e)&&r.delete(t)}function oS(){nh=!1,Zn!==null&&Ol(Zn)&&(Zn=null),es!==null&&Ol(es)&&(es=null),ts!==null&&Ol(ts)&&(ts=null),na.forEach(Om),sa.forEach(Om)}function _i(e,t){e.blockedOn===t&&(e.blockedOn=null,nh||(nh=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,oS)))}function oa(e){function t(s){return _i(s,e)}if(0<ol.length){_i(ol[0],e);for(var r=1;r<ol.length;r++){var n=ol[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zn!==null&&_i(Zn,e),es!==null&&_i(es,e),ts!==null&&_i(ts,e),na.forEach(t),sa.forEach(t),r=0;r<Wn.length;r++)n=Wn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wn.length&&(r=Wn[0],r.blockedOn===null);)tw(r),r.blockedOn===null&&Wn.shift()}var Do=Tn.ReactCurrentBatchConfig,nc=!0;function iS(e,t,r,n){var s=Ue,o=Do.transition;Do.transition=null;try{Ue=1,Nf(e,t,r,n)}finally{Ue=s,Do.transition=o}}function aS(e,t,r,n){var s=Ue,o=Do.transition;Do.transition=null;try{Ue=4,Nf(e,t,r,n)}finally{Ue=s,Do.transition=o}}function Nf(e,t,r,n){if(nc){var s=sh(e,t,r,n);if(s===null)Xu(e,t,n,sc,r),Am(e,n);else if(sS(s,e,t,r,n))n.stopPropagation();else if(Am(e,n),t&4&&-1<nS.indexOf(e)){for(;s!==null;){var o=Ma(s);if(o!==null&&Jv(o),o=sh(e,t,r,n),o===null&&Xu(e,t,n,sc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Xu(e,t,n,null,r)}}var sc=null;function sh(e,t,r,n){if(sc=null,e=Sf(n),e=Rs(e),e!==null)if(t=Zs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sc=e,null}function rw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gk()){case jf:return 1;case qv:return 4;case tc:case Yk:return 16;case Gv:return 536870912;default:return 16}default:return 16}}var Jn=null,Rf=null,Il=null;function nw(){if(Il)return Il;var e,t=Rf,r=t.length,n,s="value"in Jn?Jn.value:Jn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Il=s.slice(e,1<n?1-n:void 0)}function Ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function Im(){return!1}function lr(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?il:Im,this.isPropagationStopped=Im,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=lr(ui),Ia=et({},ui,{view:0,detail:0}),lS=lr(Ia),Wu,Hu,ki,Uc=et({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(Wu=e.screenX-ki.screenX,Hu=e.screenY-ki.screenY):Hu=Wu=0,ki=e),Wu)},movementY:function(e){return"movementY"in e?e.movementY:Hu}}),Mm=lr(Uc),cS=et({},Uc,{dataTransfer:0}),uS=lr(cS),dS=et({},Ia,{relatedTarget:0}),Vu=lr(dS),hS=et({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=lr(hS),pS=et({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mS=lr(pS),gS=et({},ui,{data:0}),Dm=lr(gS),yS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wS[e])?!!t[e]:!1}function Pf(){return xS}var bS=et({},Ia,{key:function(e){if(e.key){var t=yS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_S=lr(bS),kS=et({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$m=lr(kS),SS=et({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),jS=lr(SS),ES=et({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),CS=lr(ES),NS=et({},Uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RS=lr(NS),TS=[9,13,27,32],Af=kn&&"CompositionEvent"in window,Bi=null;kn&&"documentMode"in document&&(Bi=document.documentMode);var PS=kn&&"TextEvent"in window&&!Bi,sw=kn&&(!Af||Bi&&8<Bi&&11>=Bi),Lm=" ",Fm=!1;function ow(e,t){switch(e){case"keyup":return TS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _o=!1;function AS(e,t){switch(e){case"compositionend":return iw(t);case"keypress":return t.which!==32?null:(Fm=!0,Lm);case"textInput":return e=t.data,e===Lm&&Fm?null:e;default:return null}}function OS(e,t){if(_o)return e==="compositionend"||!Af&&ow(e,t)?(e=nw(),Il=Rf=Jn=null,_o=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sw&&t.locale!=="ko"?null:t.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IS[e.type]:t==="textarea"}function aw(e,t,r,n){Lv(n),t=oc(t,"onChange"),0<t.length&&(r=new Tf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wi=null,ia=null;function MS(e){vw(e,0)}function zc(e){var t=jo(e);if(Pv(t))return e}function DS(e,t){if(e==="change")return t}var lw=!1;if(kn){var Ku;if(kn){var qu="oninput"in document;if(!qu){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),qu=typeof zm.oninput=="function"}Ku=qu}else Ku=!1;lw=Ku&&(!document.documentMode||9<document.documentMode)}function Bm(){Wi&&(Wi.detachEvent("onpropertychange",cw),ia=Wi=null)}function cw(e){if(e.propertyName==="value"&&zc(ia)){var t=[];aw(t,ia,e,Sf(e)),Bv(MS,t)}}function $S(e,t,r){e==="focusin"?(Bm(),Wi=t,ia=r,Wi.attachEvent("onpropertychange",cw)):e==="focusout"&&Bm()}function LS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zc(ia)}function FS(e,t){if(e==="click")return zc(t)}function US(e,t){if(e==="input"||e==="change")return zc(t)}function zS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fr=typeof Object.is=="function"?Object.is:zS;function aa(e,t){if(Fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ud.call(t,s)||!Fr(e[s],t[s]))return!1}return!0}function Wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hm(e,t){var r=Wm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wm(r)}}function uw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dw(){for(var e=window,t=Xl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xl(e.document)}return t}function Of(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BS(e){var t=dw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&uw(r.ownerDocument.documentElement,r)){if(n!==null&&Of(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Hm(r,o);var i=Hm(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WS=kn&&"documentMode"in document&&11>=document.documentMode,ko=null,oh=null,Hi=null,ih=!1;function Vm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ih||ko==null||ko!==Xl(n)||(n=ko,"selectionStart"in n&&Of(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hi&&aa(Hi,n)||(Hi=n,n=oc(oh,"onSelect"),0<n.length&&(t=new Tf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ko)))}function al(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var So={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},Gu={},hw={};kn&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Bc(e){if(Gu[e])return Gu[e];if(!So[e])return e;var t=So[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hw)return Gu[e]=t[r];return e}var fw=Bc("animationend"),pw=Bc("animationiteration"),mw=Bc("animationstart"),gw=Bc("transitionend"),yw=new Map,Km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(e,t){yw.set(e,t),Xs(t,[e])}for(var Yu=0;Yu<Km.length;Yu++){var Qu=Km[Yu],HS=Qu.toLowerCase(),VS=Qu[0].toUpperCase()+Qu.slice(1);gs(HS,"on"+VS)}gs(fw,"onAnimationEnd");gs(pw,"onAnimationIteration");gs(mw,"onAnimationStart");gs("dblclick","onDoubleClick");gs("focusin","onFocus");gs("focusout","onBlur");gs(gw,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function qm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Hk(n,t,void 0,e),e.currentTarget=null}function vw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;qm(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;qm(s,l,u),o=c}}}if(ec)throw e=th,ec=!1,th=null,e}function Ke(e,t){var r=t[dh];r===void 0&&(r=t[dh]=new Set);var n=e+"__bubble";r.has(n)||(ww(t,e,2,!1),r.add(n))}function Ju(e,t,r){var n=0;t&&(n|=4),ww(r,e,n,t)}var ll="_reactListening"+Math.random().toString(36).slice(2);function la(e){if(!e[ll]){e[ll]=!0,Ev.forEach(function(r){r!=="selectionchange"&&(KS.has(r)||Ju(r,!1,e),Ju(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ll]||(t[ll]=!0,Ju("selectionchange",!1,t))}}function ww(e,t,r,n){switch(rw(t)){case 1:var s=iS;break;case 4:s=aS;break;default:s=Nf}r=s.bind(null,t,r,e),s=void 0,!eh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Xu(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Rs(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}Bv(function(){var u=o,d=Sf(r),f=[];e:{var p=yw.get(e);if(p!==void 0){var m=Tf,b=e;switch(e){case"keypress":if(Ml(r)===0)break e;case"keydown":case"keyup":m=_S;break;case"focusin":b="focus",m=Vu;break;case"focusout":b="blur",m=Vu;break;case"beforeblur":case"afterblur":m=Vu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jS;break;case fw:case pw:case mw:m=fS;break;case gw:m=CS;break;case"scroll":m=lS;break;case"wheel":m=RS;break;case"copy":case"cut":case"paste":m=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$m}var y=(t&4)!==0,x=!y&&e==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var g=u,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,w!==null&&(_=ra(g,w),_!=null&&y.push(ca(g,_,v)))),x)break;g=g.return}0<y.length&&(p=new m(p,b,null,r,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Xd&&(b=r.relatedTarget||r.fromElement)&&(Rs(b)||b[Sn]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(b=r.relatedTarget||r.toElement,m=u,b=b?Rs(b):null,b!==null&&(x=Zs(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(y=Mm,_="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=$m,_="onPointerLeave",w="onPointerEnter",g="pointer"),x=m==null?p:jo(m),v=b==null?p:jo(b),p=new y(_,g+"leave",m,r,d),p.target=x,p.relatedTarget=v,_=null,Rs(d)===u&&(y=new y(w,g+"enter",b,r,d),y.target=v,y.relatedTarget=x,_=y),x=_,m&&b)t:{for(y=m,w=b,g=0,v=y;v;v=oo(v))g++;for(v=0,_=w;_;_=oo(_))v++;for(;0<g-v;)y=oo(y),g--;for(;0<v-g;)w=oo(w),v--;for(;g--;){if(y===w||w!==null&&y===w.alternate)break t;y=oo(y),w=oo(w)}y=null}else y=null;m!==null&&Gm(f,p,m,y,!1),b!==null&&x!==null&&Gm(f,x,b,y,!0)}}e:{if(p=u?jo(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=DS;else if(Um(p))if(lw)k=US;else{k=LS;var S=$S}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=FS);if(k&&(k=k(e,u))){aw(f,k,r,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&qd(p,"number",p.value)}switch(S=u?jo(u):window,e){case"focusin":(Um(S)||S.contentEditable==="true")&&(ko=S,oh=u,Hi=null);break;case"focusout":Hi=oh=ko=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Vm(f,r,d);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":Vm(f,r,d)}var j;if(Af)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else _o?ow(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(sw&&r.locale!=="ko"&&(_o||C!=="onCompositionStart"?C==="onCompositionEnd"&&_o&&(j=nw()):(Jn=d,Rf="value"in Jn?Jn.value:Jn.textContent,_o=!0)),S=oc(u,C),0<S.length&&(C=new Dm(C,e,null,r,d),f.push({event:C,listeners:S}),j?C.data=j:(j=iw(r),j!==null&&(C.data=j)))),(j=PS?AS(e,r):OS(e,r))&&(u=oc(u,"onBeforeInput"),0<u.length&&(d=new Dm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}vw(f,t)})}function ca(e,t,r){return{instance:e,listener:t,currentTarget:r}}function oc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ra(e,r),o!=null&&n.unshift(ca(e,o,s)),o=ra(e,t),o!=null&&n.push(ca(e,o,s))),e=e.return}return n}function oo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gm(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ra(r,o),c!=null&&i.unshift(ca(r,c,l))):s||(c=ra(r,o),c!=null&&i.push(ca(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var qS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function Ym(e){return(typeof e=="string"?e:""+e).replace(qS,`
`).replace(GS,"")}function cl(e,t,r){if(t=Ym(t),Ym(e)!==t&&r)throw Error(z(425))}function ic(){}var ah=null,lh=null;function ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(e){return Qm.resolve(null).then(e).catch(JS)}:uh;function JS(e){setTimeout(function(){throw e})}function Zu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),oa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);oa(t)}function rs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),en="__reactFiber$"+di,ua="__reactProps$"+di,Sn="__reactContainer$"+di,dh="__reactEvents$"+di,XS="__reactListeners$"+di,ZS="__reactHandles$"+di;function Rs(e){var t=e[en];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sn]||r[en]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jm(e);e!==null;){if(r=e[en])return r;e=Jm(e)}return t}e=r,r=e.parentNode}return null}function Ma(e){return e=e[en]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Wc(e){return e[ua]||null}var hh=[],Eo=-1;function ys(e){return{current:e}}function qe(e){0>Eo||(e.current=hh[Eo],hh[Eo]=null,Eo--)}function He(e,t){Eo++,hh[Eo]=e.current,e.current=t}var fs={},Pt=ys(fs),Kt=ys(!1),Ws=fs;function Zo(e,t){var r=e.type.contextTypes;if(!r)return fs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qt(e){return e=e.childContextTypes,e!=null}function ac(){qe(Kt),qe(Pt)}function Xm(e,t,r){if(Pt.current!==fs)throw Error(z(168));He(Pt,t),He(Kt,r)}function xw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(z(108,$k(e)||"Unknown",s));return et({},r,n)}function lc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fs,Ws=Pt.current,He(Pt,e),He(Kt,Kt.current),!0}function Zm(e,t,r){var n=e.stateNode;if(!n)throw Error(z(169));r?(e=xw(e,t,Ws),n.__reactInternalMemoizedMergedChildContext=e,qe(Kt),qe(Pt),He(Pt,e)):qe(Kt),He(Kt,r)}var gn=null,Hc=!1,ed=!1;function bw(e){gn===null?gn=[e]:gn.push(e)}function ej(e){Hc=!0,bw(e)}function vs(){if(!ed&&gn!==null){ed=!0;var e=0,t=Ue;try{var r=gn;for(Ue=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gn=null,Hc=!1}catch(s){throw gn!==null&&(gn=gn.slice(e+1)),Kv(jf,vs),s}finally{Ue=t,ed=!1}}return null}var Co=[],No=0,cc=null,uc=0,hr=[],fr=0,Hs=null,vn=1,wn="";function ks(e,t){Co[No++]=uc,Co[No++]=cc,cc=e,uc=t}function _w(e,t,r){hr[fr++]=vn,hr[fr++]=wn,hr[fr++]=Hs,Hs=e;var n=vn;e=wn;var s=32-$r(n)-1;n&=~(1<<s),r+=1;var o=32-$r(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,vn=1<<32-$r(t)+s|r<<s|n,wn=o+e}else vn=1<<o|r<<s|n,wn=e}function If(e){e.return!==null&&(ks(e,1),_w(e,1,0))}function Mf(e){for(;e===cc;)cc=Co[--No],Co[No]=null,uc=Co[--No],Co[No]=null;for(;e===Hs;)Hs=hr[--fr],hr[fr]=null,wn=hr[--fr],hr[fr]=null,vn=hr[--fr],hr[fr]=null}var nr=null,rr=null,Ye=!1,Dr=null;function kw(e,t){var r=pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nr=e,rr=rs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nr=e,rr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hs!==null?{id:vn,overflow:wn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nr=e,rr=null,!0):!1;default:return!1}}function fh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ph(e){if(Ye){var t=rr;if(t){var r=t;if(!eg(e,t)){if(fh(e))throw Error(z(418));t=rs(r.nextSibling);var n=nr;t&&eg(e,t)?kw(n,r):(e.flags=e.flags&-4097|2,Ye=!1,nr=e)}}else{if(fh(e))throw Error(z(418));e.flags=e.flags&-4097|2,Ye=!1,nr=e}}}function tg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nr=e}function ul(e){if(e!==nr)return!1;if(!Ye)return tg(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ch(e.type,e.memoizedProps)),t&&(t=rr)){if(fh(e))throw Sw(),Error(z(418));for(;t;)kw(e,t),t=rs(t.nextSibling)}if(tg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rr=rs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rr=null}}else rr=nr?rs(e.stateNode.nextSibling):null;return!0}function Sw(){for(var e=rr;e;)e=rs(e.nextSibling)}function ei(){rr=nr=null,Ye=!1}function Df(e){Dr===null?Dr=[e]:Dr.push(e)}var tj=Tn.ReactCurrentBatchConfig;function Si(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function dl(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rg(e){var t=e._init;return t(e._payload)}function jw(e){function t(w,g){if(e){var v=w.deletions;v===null?(w.deletions=[g],w.flags|=16):v.push(g)}}function r(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function n(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=is(w,g),w.index=0,w.sibling=null,w}function o(w,g,v){return w.index=v,e?(v=w.alternate,v!==null?(v=v.index,v<g?(w.flags|=2,g):v):(w.flags|=2,g)):(w.flags|=1048576,g)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,g,v,_){return g===null||g.tag!==6?(g=ad(v,w.mode,_),g.return=w,g):(g=s(g,v),g.return=w,g)}function c(w,g,v,_){var k=v.type;return k===bo?d(w,g,v.props.children,_,v.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Un&&rg(k)===g.type)?(_=s(g,v.props),_.ref=Si(w,g,v),_.return=w,_):(_=Bl(v.type,v.key,v.props,null,w.mode,_),_.ref=Si(w,g,v),_.return=w,_)}function u(w,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=ld(v,w.mode,_),g.return=w,g):(g=s(g,v.children||[]),g.return=w,g)}function d(w,g,v,_,k){return g===null||g.tag!==7?(g=zs(v,w.mode,_,k),g.return=w,g):(g=s(g,v),g.return=w,g)}function f(w,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ad(""+g,w.mode,v),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case el:return v=Bl(g.type,g.key,g.props,null,w.mode,v),v.ref=Si(w,null,g),v.return=w,v;case xo:return g=ld(g,w.mode,v),g.return=w,g;case Un:var _=g._init;return f(w,_(g._payload),v)}if(Oi(g)||wi(g))return g=zs(g,w.mode,v,null),g.return=w,g;dl(w,g)}return null}function p(w,g,v,_){var k=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(w,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case el:return v.key===k?c(w,g,v,_):null;case xo:return v.key===k?u(w,g,v,_):null;case Un:return k=v._init,p(w,g,k(v._payload),_)}if(Oi(v)||wi(v))return k!==null?null:d(w,g,v,_,null);dl(w,v)}return null}function m(w,g,v,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(v)||null,l(g,w,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case el:return w=w.get(_.key===null?v:_.key)||null,c(g,w,_,k);case xo:return w=w.get(_.key===null?v:_.key)||null,u(g,w,_,k);case Un:var S=_._init;return m(w,g,v,S(_._payload),k)}if(Oi(_)||wi(_))return w=w.get(v)||null,d(g,w,_,k,null);dl(g,_)}return null}function b(w,g,v,_){for(var k=null,S=null,j=g,C=g=0,A=null;j!==null&&C<v.length;C++){j.index>C?(A=j,j=null):A=j.sibling;var $=p(w,j,v[C],_);if($===null){j===null&&(j=A);break}e&&j&&$.alternate===null&&t(w,j),g=o($,g,C),S===null?k=$:S.sibling=$,S=$,j=A}if(C===v.length)return r(w,j),Ye&&ks(w,C),k;if(j===null){for(;C<v.length;C++)j=f(w,v[C],_),j!==null&&(g=o(j,g,C),S===null?k=j:S.sibling=j,S=j);return Ye&&ks(w,C),k}for(j=n(w,j);C<v.length;C++)A=m(j,w,C,v[C],_),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?C:A.key),g=o(A,g,C),S===null?k=A:S.sibling=A,S=A);return e&&j.forEach(function(se){return t(w,se)}),Ye&&ks(w,C),k}function y(w,g,v,_){var k=wi(v);if(typeof k!="function")throw Error(z(150));if(v=k.call(v),v==null)throw Error(z(151));for(var S=k=null,j=g,C=g=0,A=null,$=v.next();j!==null&&!$.done;C++,$=v.next()){j.index>C?(A=j,j=null):A=j.sibling;var se=p(w,j,$.value,_);if(se===null){j===null&&(j=A);break}e&&j&&se.alternate===null&&t(w,j),g=o(se,g,C),S===null?k=se:S.sibling=se,S=se,j=A}if($.done)return r(w,j),Ye&&ks(w,C),k;if(j===null){for(;!$.done;C++,$=v.next())$=f(w,$.value,_),$!==null&&(g=o($,g,C),S===null?k=$:S.sibling=$,S=$);return Ye&&ks(w,C),k}for(j=n(w,j);!$.done;C++,$=v.next())$=m(j,w,C,$.value,_),$!==null&&(e&&$.alternate!==null&&j.delete($.key===null?C:$.key),g=o($,g,C),S===null?k=$:S.sibling=$,S=$);return e&&j.forEach(function(q){return t(w,q)}),Ye&&ks(w,C),k}function x(w,g,v,_){if(typeof v=="object"&&v!==null&&v.type===bo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case el:e:{for(var k=v.key,S=g;S!==null;){if(S.key===k){if(k=v.type,k===bo){if(S.tag===7){r(w,S.sibling),g=s(S,v.props.children),g.return=w,w=g;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Un&&rg(k)===S.type){r(w,S.sibling),g=s(S,v.props),g.ref=Si(w,S,v),g.return=w,w=g;break e}r(w,S);break}else t(w,S);S=S.sibling}v.type===bo?(g=zs(v.props.children,w.mode,_,v.key),g.return=w,w=g):(_=Bl(v.type,v.key,v.props,null,w.mode,_),_.ref=Si(w,g,v),_.return=w,w=_)}return i(w);case xo:e:{for(S=v.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(w,g.sibling),g=s(g,v.children||[]),g.return=w,w=g;break e}else{r(w,g);break}else t(w,g);g=g.sibling}g=ld(v,w.mode,_),g.return=w,w=g}return i(w);case Un:return S=v._init,x(w,g,S(v._payload),_)}if(Oi(v))return b(w,g,v,_);if(wi(v))return y(w,g,v,_);dl(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(w,g.sibling),g=s(g,v),g.return=w,w=g):(r(w,g),g=ad(v,w.mode,_),g.return=w,w=g),i(w)):r(w,g)}return x}var ti=jw(!0),Ew=jw(!1),dc=ys(null),hc=null,Ro=null,$f=null;function Lf(){$f=Ro=hc=null}function Ff(e){var t=dc.current;qe(dc),e._currentValue=t}function mh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $o(e,t){hc=e,$f=Ro=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function vr(e){var t=e._currentValue;if($f!==e)if(e={context:e,memoizedValue:t,next:null},Ro===null){if(hc===null)throw Error(z(308));Ro=e,hc.dependencies={lanes:0,firstContext:e}}else Ro=Ro.next=e;return t}var Ts=null;function Uf(e){Ts===null?Ts=[e]:Ts.push(e)}function Cw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Uf(t)):(r.next=s.next,s.next=r),t.interleaved=r,jn(e,n)}function jn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zn=!1;function zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,jn(e,r)}return s=n.interleaved,s===null?(t.next=t,Uf(n)):(t.next=s.next,s.next=t),n.interleaved=t,jn(e,r)}function Dl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ef(e,r)}}function ng(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fc(e,t,r,n){var s=e.updateQueue;zn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var p=l.lane,m=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,y=l;switch(p=t,m=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(m,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,p=typeof b=="function"?b.call(m,f,p):b,p==null)break e;f=et({},f,p);break e;case 2:zn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ks|=i,e.lanes=i,e.memoizedState=f}}function sg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(z(191,s));s.call(n)}}}var Da={},sn=ys(Da),da=ys(Da),ha=ys(Da);function Ps(e){if(e===Da)throw Error(z(174));return e}function Bf(e,t){switch(He(ha,t),He(da,e),He(sn,Da),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yd(t,e)}qe(sn),He(sn,t)}function ri(){qe(sn),qe(da),qe(ha)}function Rw(e){Ps(ha.current);var t=Ps(sn.current),r=Yd(t,e.type);t!==r&&(He(da,e),He(sn,r))}function Wf(e){da.current===e&&(qe(sn),qe(da))}var Je=ys(0);function pc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var td=[];function Hf(){for(var e=0;e<td.length;e++)td[e]._workInProgressVersionPrimary=null;td.length=0}var $l=Tn.ReactCurrentDispatcher,rd=Tn.ReactCurrentBatchConfig,Vs=0,Xe=null,ht=null,pt=null,mc=!1,Vi=!1,fa=0,rj=0;function Ct(){throw Error(z(321))}function Vf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fr(e[r],t[r]))return!1;return!0}function Kf(e,t,r,n,s,o){if(Vs=o,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$l.current=e===null||e.memoizedState===null?ij:aj,e=r(n,s),Vi){o=0;do{if(Vi=!1,fa=0,25<=o)throw Error(z(301));o+=1,pt=ht=null,t.updateQueue=null,$l.current=lj,e=r(n,s)}while(Vi)}if($l.current=gc,t=ht!==null&&ht.next!==null,Vs=0,pt=ht=Xe=null,mc=!1,t)throw Error(z(300));return e}function qf(){var e=fa!==0;return fa=0,e}function Qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Xe.memoizedState=pt=e:pt=pt.next=e,pt}function wr(){if(ht===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=pt===null?Xe.memoizedState:pt.next;if(t!==null)pt=t,ht=e;else{if(e===null)throw Error(z(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},pt===null?Xe.memoizedState=pt=e:pt=pt.next=e}return pt}function pa(e,t){return typeof t=="function"?t(e):t}function nd(e){var t=wr(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=ht,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Vs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Xe.lanes|=d,Ks|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Fr(n,t.memoizedState)||(Vt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Xe.lanes|=o,Ks|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sd(e){var t=wr(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Fr(o,t.memoizedState)||(Vt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Tw(){}function Pw(e,t){var r=Xe,n=wr(),s=t(),o=!Fr(n.memoizedState,s);if(o&&(n.memoizedState=s,Vt=!0),n=n.queue,Gf(Iw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,ma(9,Ow.bind(null,r,n,s,t),void 0,null),gt===null)throw Error(z(349));Vs&30||Aw(r,t,s)}return s}function Aw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ow(e,t,r,n){t.value=r,t.getSnapshot=n,Mw(t)&&Dw(e)}function Iw(e,t,r){return r(function(){Mw(t)&&Dw(e)})}function Mw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fr(e,r)}catch{return!0}}function Dw(e){var t=jn(e,1);t!==null&&Lr(t,e,1,-1)}function og(e){var t=Qr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t.queue=e,e=e.dispatch=oj.bind(null,Xe,e),[t.memoizedState,e]}function ma(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function $w(){return wr().memoizedState}function Ll(e,t,r,n){var s=Qr();Xe.flags|=e,s.memoizedState=ma(1|t,r,void 0,n===void 0?null:n)}function Vc(e,t,r,n){var s=wr();n=n===void 0?null:n;var o=void 0;if(ht!==null){var i=ht.memoizedState;if(o=i.destroy,n!==null&&Vf(n,i.deps)){s.memoizedState=ma(t,r,o,n);return}}Xe.flags|=e,s.memoizedState=ma(1|t,r,o,n)}function ig(e,t){return Ll(8390656,8,e,t)}function Gf(e,t){return Vc(2048,8,e,t)}function Lw(e,t){return Vc(4,2,e,t)}function Fw(e,t){return Vc(4,4,e,t)}function Uw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zw(e,t,r){return r=r!=null?r.concat([e]):null,Vc(4,4,Uw.bind(null,t,e),r)}function Yf(){}function Bw(e,t){var r=wr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ww(e,t){var r=wr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hw(e,t,r){return Vs&21?(Fr(r,t)||(r=Yv(),Xe.lanes|=r,Ks|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=r)}function nj(e,t){var r=Ue;Ue=r!==0&&4>r?r:4,e(!0);var n=rd.transition;rd.transition={};try{e(!1),t()}finally{Ue=r,rd.transition=n}}function Vw(){return wr().memoizedState}function sj(e,t,r){var n=os(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kw(e))qw(t,r);else if(r=Cw(e,t,r,n),r!==null){var s=Lt();Lr(r,e,n,s),Gw(r,t,n)}}function oj(e,t,r){var n=os(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kw(e))qw(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Fr(l,i)){var c=t.interleaved;c===null?(s.next=s,Uf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Cw(e,t,s,n),r!==null&&(s=Lt(),Lr(r,e,n,s),Gw(r,t,n))}}function Kw(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function qw(e,t){Vi=mc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ef(e,r)}}var gc={readContext:vr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},ij={readContext:vr,useCallback:function(e,t){return Qr().memoizedState=[e,t===void 0?null:t],e},useContext:vr,useEffect:ig,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ll(4194308,4,Uw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ll(4,2,e,t)},useMemo:function(e,t){var r=Qr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sj.bind(null,Xe,e),[n.memoizedState,e]},useRef:function(e){var t=Qr();return e={current:e},t.memoizedState=e},useState:og,useDebugValue:Yf,useDeferredValue:function(e){return Qr().memoizedState=e},useTransition:function(){var e=og(!1),t=e[0];return e=nj.bind(null,e[1]),Qr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xe,s=Qr();if(Ye){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),gt===null)throw Error(z(349));Vs&30||Aw(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,ig(Iw.bind(null,n,o,e),[e]),n.flags|=2048,ma(9,Ow.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Qr(),t=gt.identifierPrefix;if(Ye){var r=wn,n=vn;r=(n&~(1<<32-$r(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aj={readContext:vr,useCallback:Bw,useContext:vr,useEffect:Gf,useImperativeHandle:zw,useInsertionEffect:Lw,useLayoutEffect:Fw,useMemo:Ww,useReducer:nd,useRef:$w,useState:function(){return nd(pa)},useDebugValue:Yf,useDeferredValue:function(e){var t=wr();return Hw(t,ht.memoizedState,e)},useTransition:function(){var e=nd(pa)[0],t=wr().memoizedState;return[e,t]},useMutableSource:Tw,useSyncExternalStore:Pw,useId:Vw,unstable_isNewReconciler:!1},lj={readContext:vr,useCallback:Bw,useContext:vr,useEffect:Gf,useImperativeHandle:zw,useInsertionEffect:Lw,useLayoutEffect:Fw,useMemo:Ww,useReducer:sd,useRef:$w,useState:function(){return sd(pa)},useDebugValue:Yf,useDeferredValue:function(e){var t=wr();return ht===null?t.memoizedState=e:Hw(t,ht.memoizedState,e)},useTransition:function(){var e=sd(pa)[0],t=wr().memoizedState;return[e,t]},useMutableSource:Tw,useSyncExternalStore:Pw,useId:Vw,unstable_isNewReconciler:!1};function Rr(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kc={isMounted:function(e){return(e=e._reactInternals)?Zs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Lt(),s=os(e),o=bn(n,s);o.payload=t,r!=null&&(o.callback=r),t=ns(e,o,s),t!==null&&(Lr(t,e,s,n),Dl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Lt(),s=os(e),o=bn(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ns(e,o,s),t!==null&&(Lr(t,e,s,n),Dl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lt(),n=os(e),s=bn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ns(e,s,n),t!==null&&(Lr(t,e,n,r),Dl(t,e,n))}};function ag(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!aa(r,n)||!aa(s,o):!0}function Yw(e,t,r){var n=!1,s=fs,o=t.contextType;return typeof o=="object"&&o!==null?o=vr(o):(s=qt(t)?Ws:Pt.current,n=t.contextTypes,o=(n=n!=null)?Zo(e,s):fs),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function lg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Kc.enqueueReplaceState(t,t.state,null)}function yh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},zf(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=vr(o):(o=qt(t)?Ws:Pt.current,s.context=Zo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(gh(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Kc.enqueueReplaceState(s,s.state,null),fc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ni(e,t){try{var r="",n=t;do r+=Dk(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function od(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cj=typeof WeakMap=="function"?WeakMap:Map;function Qw(e,t,r){r=bn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vc||(vc=!0,Nh=n),vh(e,t)},r}function Jw(e,t,r){r=bn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){vh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){vh(e,t),typeof n!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function cg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=kj.bind(null,e,t,r),t.then(e,e))}function ug(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bn(-1,1),t.tag=2,ns(r,t,1))),r.lanes|=1),e)}var uj=Tn.ReactCurrentOwner,Vt=!1;function Dt(e,t,r,n){t.child=e===null?Ew(t,null,r,n):ti(t,e.child,r,n)}function hg(e,t,r,n,s){r=r.render;var o=t.ref;return $o(t,s),n=Kf(e,t,r,n,o,s),r=qf(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(Ye&&r&&If(t),t.flags|=1,Dt(e,t,n,s),t.child)}function fg(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!np(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Xw(e,t,o,n,s)):(e=Bl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:aa,r(i,n)&&e.ref===t.ref)return En(e,t,s)}return t.flags|=1,e=is(o,n),e.ref=t.ref,e.return=t,t.child=e}function Xw(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(aa(o,n)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,En(e,t,s)}return wh(e,t,r,n,s)}function Zw(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Po,Xt),Xt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(Po,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,He(Po,Xt),Xt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,He(Po,Xt),Xt|=n;return Dt(e,t,s,r),t.child}function ex(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function wh(e,t,r,n,s){var o=qt(r)?Ws:Pt.current;return o=Zo(t,o),$o(t,s),r=Kf(e,t,r,n,o,s),n=qf(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(Ye&&n&&If(t),t.flags|=1,Dt(e,t,r,s),t.child)}function pg(e,t,r,n,s){if(qt(r)){var o=!0;lc(t)}else o=!1;if($o(t,s),t.stateNode===null)Fl(e,t),Yw(t,r,n),yh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=vr(u):(u=qt(r)?Ws:Pt.current,u=Zo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&lg(t,i,n,u),zn=!1;var p=t.memoizedState;i.state=p,fc(t,n,i,s),c=t.memoizedState,l!==n||p!==c||Kt.current||zn?(typeof d=="function"&&(gh(t,r,d,n),c=t.memoizedState),(l=zn||ag(t,r,l,n,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Nw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Rr(t.type,l),i.props=u,f=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=vr(c):(c=qt(r)?Ws:Pt.current,c=Zo(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&lg(t,i,n,c),zn=!1,p=t.memoizedState,i.state=p,fc(t,n,i,s);var b=t.memoizedState;l!==f||p!==b||Kt.current||zn?(typeof m=="function"&&(gh(t,r,m,n),b=t.memoizedState),(u=zn||ag(t,r,u,n,p,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return xh(e,t,r,n,o,s)}function xh(e,t,r,n,s,o){ex(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Zm(t,r,!1),En(e,t,o);n=t.stateNode,uj.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ti(t,e.child,null,o),t.child=ti(t,null,l,o)):Dt(e,t,l,o),t.memoizedState=n.state,s&&Zm(t,r,!0),t.child}function tx(e){var t=e.stateNode;t.pendingContext?Xm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xm(e,t.context,!1),Bf(e,t.containerInfo)}function mg(e,t,r,n,s){return ei(),Df(s),t.flags|=256,Dt(e,t,r,n),t.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function _h(e){return{baseLanes:e,cachePool:null,transitions:null}}function rx(e,t,r){var n=t.pendingProps,s=Je.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),He(Je,s&1),e===null)return ph(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Yc(i,n,0,null),e=zs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=_h(r),t.memoizedState=bh,e):Qf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return dj(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=is(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=is(l,o):(o=zs(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?_h(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=bh,n}return o=e.child,e=o.sibling,n=is(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Qf(e,t){return t=Yc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hl(e,t,r,n){return n!==null&&Df(n),ti(t,e.child,null,r),e=Qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dj(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=od(Error(z(422))),hl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Yc({mode:"visible",children:n.children},s,0,null),o=zs(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ti(t,e.child,null,i),t.child.memoizedState=_h(i),t.memoizedState=bh,o);if(!(t.mode&1))return hl(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(z(419)),n=od(o,n,void 0),hl(e,t,i,n)}if(l=(i&e.childLanes)!==0,Vt||l){if(n=gt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,jn(e,s),Lr(n,e,s,-1))}return rp(),n=od(Error(z(421))),hl(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Sj.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,rr=rs(s.nextSibling),nr=t,Ye=!0,Dr=null,e!==null&&(hr[fr++]=vn,hr[fr++]=wn,hr[fr++]=Hs,vn=e.id,wn=e.overflow,Hs=t),t=Qf(t,n.children),t.flags|=4096,t)}function gg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mh(e.return,t,r)}function id(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function nx(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Dt(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gg(e,r,t);else if(e.tag===19)gg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(He(Je,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&pc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),id(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}id(t,!0,r,null,o);break;case"together":id(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ks|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=is(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=is(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hj(e,t,r){switch(t.tag){case 3:tx(t),ei();break;case 5:Rw(t);break;case 1:qt(t.type)&&lc(t);break;case 4:Bf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;He(dc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(He(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?rx(e,t,r):(He(Je,Je.current&1),e=En(e,t,r),e!==null?e.sibling:null);He(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nx(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,Zw(e,t,r)}return En(e,t,r)}var sx,kh,ox,ix;sx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kh=function(){};ox=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ps(sn.current);var o=null;switch(r){case"input":s=Vd(e,s),n=Vd(e,n),o=[];break;case"select":s=et({},s,{value:void 0}),n=et({},n,{value:void 0}),o=[];break;case"textarea":s=Gd(e,s),n=Gd(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ic)}Qd(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ea.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ea.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ke("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ix=function(e,t,r,n){r!==n&&(t.flags|=4)};function ji(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fj(e,t,r){var n=t.pendingProps;switch(Mf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return qt(t.type)&&ac(),Nt(t),null;case 3:return n=t.stateNode,ri(),qe(Kt),qe(Pt),Hf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dr!==null&&(Ph(Dr),Dr=null))),kh(e,t),Nt(t),null;case 5:Wf(t);var s=Ps(ha.current);if(r=t.type,e!==null&&t.stateNode!=null)ox(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return Nt(t),null}if(e=Ps(sn.current),ul(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[en]=t,n[ua]=o,e=(t.mode&1)!==0,r){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(s=0;s<Mi.length;s++)Ke(Mi[s],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":jm(n,o),Ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",n);break;case"textarea":Cm(n,o),Ke("invalid",n)}Qd(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&cl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&cl(n.textContent,l,e),s=["children",""+l]):ea.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ke("scroll",n)}switch(r){case"input":tl(n),Em(n,o,!0);break;case"textarea":tl(n),Nm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ic)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Iv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[en]=t,e[ua]=n,sx(e,t,!1,!1),t.stateNode=e;e:{switch(i=Jd(r,n),r){case"dialog":Ke("cancel",e),Ke("close",e),s=n;break;case"iframe":case"object":case"embed":Ke("load",e),s=n;break;case"video":case"audio":for(s=0;s<Mi.length;s++)Ke(Mi[s],e);s=n;break;case"source":Ke("error",e),s=n;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),s=n;break;case"details":Ke("toggle",e),s=n;break;case"input":jm(e,n),s=Vd(e,n),Ke("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=et({},n,{value:void 0}),Ke("invalid",e);break;case"textarea":Cm(e,n),s=Gd(e,n),Ke("invalid",e);break;default:s=n}Qd(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?$v(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mv(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ta(e,c):typeof c=="number"&&ta(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ea.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ke("scroll",e):c!=null&&xf(e,o,c,i))}switch(r){case"input":tl(e),Em(e,n,!1);break;case"textarea":tl(e),Nm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+hs(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Oo(e,!!n.multiple,o,!1):n.defaultValue!=null&&Oo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ic)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)ix(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(r=Ps(ha.current),Ps(sn.current),ul(t)){if(n=t.stateNode,r=t.memoizedProps,n[en]=t,(o=n.nodeValue!==r)&&(e=nr,e!==null))switch(e.tag){case 3:cl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cl(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[en]=t,t.stateNode=n}return Nt(t),null;case 13:if(qe(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&rr!==null&&t.mode&1&&!(t.flags&128))Sw(),ei(),t.flags|=98560,o=!1;else if(o=ul(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[en]=t}else ei(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),o=!1}else Dr!==null&&(Ph(Dr),Dr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?ft===0&&(ft=3):rp())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return ri(),kh(e,t),e===null&&la(t.stateNode.containerInfo),Nt(t),null;case 10:return Ff(t.type._context),Nt(t),null;case 17:return qt(t.type)&&ac(),Nt(t),null;case 19:if(qe(Je),o=t.memoizedState,o===null)return Nt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)ji(o,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=pc(e),i!==null){for(t.flags|=128,ji(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(Je,Je.current&1|2),t.child}e=e.sibling}o.tail!==null&&it()>si&&(t.flags|=128,n=!0,ji(o,!1),t.lanes=4194304)}else{if(!n)if(e=pc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ji(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ye)return Nt(t),null}else 2*it()-o.renderingStartTime>si&&r!==1073741824&&(t.flags|=128,n=!0,ji(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=it(),t.sibling=null,r=Je.current,He(Je,n?r&1|2:r&1),t):(Nt(t),null);case 22:case 23:return tp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xt&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function pj(e,t){switch(Mf(t),t.tag){case 1:return qt(t.type)&&ac(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ri(),qe(Kt),qe(Pt),Hf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wf(t),null;case 13:if(qe(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Je),null;case 4:return ri(),null;case 10:return Ff(t.type._context),null;case 22:case 23:return tp(),null;case 24:return null;default:return null}}var fl=!1,Tt=!1,mj=typeof WeakSet=="function"?WeakSet:Set,te=null;function To(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function Sh(e,t,r){try{r()}catch(n){nt(e,t,n)}}var yg=!1;function gj(e,t){if(ah=nc,e=dw(),Of(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===s&&(l=i),p===o&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(lh={focusedElem:e,selectionRange:r},nc=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,x=b.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:Rr(t.type,y),x);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(_){nt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return b=yg,yg=!1,b}function Ki(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Sh(t,r,o)}s=s.next}while(s!==n)}}function qc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ax(e){var t=e.alternate;t!==null&&(e.alternate=null,ax(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[ua],delete t[dh],delete t[XS],delete t[ZS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lx(e){return e.tag===5||e.tag===3||e.tag===4}function vg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ic));else if(n!==4&&(e=e.child,e!==null))for(Eh(e,t,r),e=e.sibling;e!==null;)Eh(e,t,r),e=e.sibling}function Ch(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ch(e,t,r),e=e.sibling;e!==null;)Ch(e,t,r),e=e.sibling}var xt=null,Ir=!1;function In(e,t,r){for(r=r.child;r!==null;)cx(e,t,r),r=r.sibling}function cx(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Fc,r)}catch{}switch(r.tag){case 5:Tt||To(r,t);case 6:var n=xt,s=Ir;xt=null,In(e,t,r),xt=n,Ir=s,xt!==null&&(Ir?(e=xt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xt.removeChild(r.stateNode));break;case 18:xt!==null&&(Ir?(e=xt,r=r.stateNode,e.nodeType===8?Zu(e.parentNode,r):e.nodeType===1&&Zu(e,r),oa(e)):Zu(xt,r.stateNode));break;case 4:n=xt,s=Ir,xt=r.stateNode.containerInfo,Ir=!0,In(e,t,r),xt=n,Ir=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Sh(r,t,i),s=s.next}while(s!==n)}In(e,t,r);break;case 1:if(!Tt&&(To(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nt(r,t,l)}In(e,t,r);break;case 21:In(e,t,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,In(e,t,r),Tt=n):In(e,t,r);break;default:In(e,t,r)}}function wg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mj),t.forEach(function(n){var s=jj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Er(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:xt=l.stateNode,Ir=!1;break e;case 3:xt=l.stateNode.containerInfo,Ir=!0;break e;case 4:xt=l.stateNode.containerInfo,Ir=!0;break e}l=l.return}if(xt===null)throw Error(z(160));cx(o,i,s),xt=null,Ir=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){nt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ux(t,e),t=t.sibling}function ux(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Er(t,e),Yr(e),n&4){try{Ki(3,e,e.return),qc(3,e)}catch(y){nt(e,e.return,y)}try{Ki(5,e,e.return)}catch(y){nt(e,e.return,y)}}break;case 1:Er(t,e),Yr(e),n&512&&r!==null&&To(r,r.return);break;case 5:if(Er(t,e),Yr(e),n&512&&r!==null&&To(r,r.return),e.flags&32){var s=e.stateNode;try{ta(s,"")}catch(y){nt(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Av(s,o),Jd(l,i);var u=Jd(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?$v(s,f):d==="dangerouslySetInnerHTML"?Mv(s,f):d==="children"?ta(s,f):xf(s,d,f,u)}switch(l){case"input":Kd(s,o);break;case"textarea":Ov(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Oo(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Oo(s,!!o.multiple,o.defaultValue,!0):Oo(s,!!o.multiple,o.multiple?[]:"",!1))}s[ua]=o}catch(y){nt(e,e.return,y)}}break;case 6:if(Er(t,e),Yr(e),n&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){nt(e,e.return,y)}}break;case 3:if(Er(t,e),Yr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oa(t.containerInfo)}catch(y){nt(e,e.return,y)}break;case 4:Er(t,e),Yr(e);break;case 13:Er(t,e),Yr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Zf=it())),n&4&&wg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||d,Er(t,e),Tt=u):Er(t,e),Yr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(p=te,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ki(4,p,p.return);break;case 1:To(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){nt(n,r,y)}}break;case 5:To(p,p.return);break;case 22:if(p.memoizedState!==null){bg(f);continue}}m!==null?(m.return=p,te=m):bg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Dv("display",i))}catch(y){nt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){nt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Er(t,e),Yr(e),n&4&&wg(e);break;case 21:break;default:Er(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(lx(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ta(s,""),n.flags&=-33);var o=vg(e);Ch(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=vg(e);Eh(e,l,i);break;default:throw Error(z(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yj(e,t,r){te=e,dx(e)}function dx(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var s=te,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||fl;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Tt;l=fl;var u=Tt;if(fl=i,(Tt=c)&&!u)for(te=s;te!==null;)i=te,c=i.child,i.tag===22&&i.memoizedState!==null?_g(s):c!==null?(c.return=i,te=c):_g(s);for(;o!==null;)te=o,dx(o),o=o.sibling;te=s,fl=l,Tt=u}xg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,te=o):xg(e)}}function xg(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||qc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Rr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&sg(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sg(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&oa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Tt||t.flags&512&&jh(t)}catch(p){nt(t,t.return,p)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function bg(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function _g(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qc(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){nt(t,s,c)}}var o=t.return;try{jh(t)}catch(c){nt(t,o,c)}break;case 5:var i=t.return;try{jh(t)}catch(c){nt(t,i,c)}}}catch(c){nt(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var vj=Math.ceil,yc=Tn.ReactCurrentDispatcher,Jf=Tn.ReactCurrentOwner,gr=Tn.ReactCurrentBatchConfig,Oe=0,gt=null,ct=null,bt=0,Xt=0,Po=ys(0),ft=0,ga=null,Ks=0,Gc=0,Xf=0,qi=null,Ht=null,Zf=0,si=1/0,pn=null,vc=!1,Nh=null,ss=null,pl=!1,Xn=null,wc=0,Gi=0,Rh=null,Ul=-1,zl=0;function Lt(){return Oe&6?it():Ul!==-1?Ul:Ul=it()}function os(e){return e.mode&1?Oe&2&&bt!==0?bt&-bt:tj.transition!==null?(zl===0&&(zl=Yv()),zl):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:rw(e.type)),e):1}function Lr(e,t,r,n){if(50<Gi)throw Gi=0,Rh=null,Error(z(185));Oa(e,r,n),(!(Oe&2)||e!==gt)&&(e===gt&&(!(Oe&2)&&(Gc|=r),ft===4&&Hn(e,bt)),Gt(e,n),r===1&&Oe===0&&!(t.mode&1)&&(si=it()+500,Hc&&vs()))}function Gt(e,t){var r=e.callbackNode;tS(e,t);var n=rc(e,e===gt?bt:0);if(n===0)r!==null&&Pm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pm(r),t===1)e.tag===0?ej(kg.bind(null,e)):bw(kg.bind(null,e)),QS(function(){!(Oe&6)&&vs()}),r=null;else{switch(Qv(n)){case 1:r=jf;break;case 4:r=qv;break;case 16:r=tc;break;case 536870912:r=Gv;break;default:r=tc}r=wx(r,hx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hx(e,t){if(Ul=-1,zl=0,Oe&6)throw Error(z(327));var r=e.callbackNode;if(Lo()&&e.callbackNode!==r)return null;var n=rc(e,e===gt?bt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xc(e,n);else{t=n;var s=Oe;Oe|=2;var o=px();(gt!==e||bt!==t)&&(pn=null,si=it()+500,Us(e,t));do try{bj();break}catch(l){fx(e,l)}while(!0);Lf(),yc.current=o,Oe=s,ct!==null?t=0:(gt=null,bt=0,t=ft)}if(t!==0){if(t===2&&(s=rh(e),s!==0&&(n=s,t=Th(e,s))),t===1)throw r=ga,Us(e,0),Hn(e,n),Gt(e,it()),r;if(t===6)Hn(e,n);else{if(s=e.current.alternate,!(n&30)&&!wj(s)&&(t=xc(e,n),t===2&&(o=rh(e),o!==0&&(n=o,t=Th(e,o))),t===1))throw r=ga,Us(e,0),Hn(e,n),Gt(e,it()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:Ss(e,Ht,pn);break;case 3:if(Hn(e,n),(n&130023424)===n&&(t=Zf+500-it(),10<t)){if(rc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=uh(Ss.bind(null,e,Ht,pn),t);break}Ss(e,Ht,pn);break;case 4:if(Hn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-$r(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vj(n/1960))-n,10<n){e.timeoutHandle=uh(Ss.bind(null,e,Ht,pn),n);break}Ss(e,Ht,pn);break;case 5:Ss(e,Ht,pn);break;default:throw Error(z(329))}}}return Gt(e,it()),e.callbackNode===r?hx.bind(null,e):null}function Th(e,t){var r=qi;return e.current.memoizedState.isDehydrated&&(Us(e,t).flags|=256),e=xc(e,t),e!==2&&(t=Ht,Ht=r,t!==null&&Ph(t)),e}function Ph(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function wj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Fr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hn(e,t){for(t&=~Xf,t&=~Gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$r(t),n=1<<r;e[r]=-1,t&=~n}}function kg(e){if(Oe&6)throw Error(z(327));Lo();var t=rc(e,0);if(!(t&1))return Gt(e,it()),null;var r=xc(e,t);if(e.tag!==0&&r===2){var n=rh(e);n!==0&&(t=n,r=Th(e,n))}if(r===1)throw r=ga,Us(e,0),Hn(e,t),Gt(e,it()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e,Ht,pn),Gt(e,it()),null}function ep(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(si=it()+500,Hc&&vs())}}function qs(e){Xn!==null&&Xn.tag===0&&!(Oe&6)&&Lo();var t=Oe;Oe|=1;var r=gr.transition,n=Ue;try{if(gr.transition=null,Ue=1,e)return e()}finally{Ue=n,gr.transition=r,Oe=t,!(Oe&6)&&vs()}}function tp(){Xt=Po.current,qe(Po)}function Us(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,YS(r)),ct!==null)for(r=ct.return;r!==null;){var n=r;switch(Mf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ac();break;case 3:ri(),qe(Kt),qe(Pt),Hf();break;case 5:Wf(n);break;case 4:ri();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:Ff(n.type._context);break;case 22:case 23:tp()}r=r.return}if(gt=e,ct=e=is(e.current,null),bt=Xt=t,ft=0,ga=null,Xf=Gc=Ks=0,Ht=qi=null,Ts!==null){for(t=0;t<Ts.length;t++)if(r=Ts[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Ts=null}return e}function fx(e,t){do{var r=ct;try{if(Lf(),$l.current=gc,mc){for(var n=Xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}mc=!1}if(Vs=0,pt=ht=Xe=null,Vi=!1,fa=0,Jf.current=null,r===null||r.return===null){ft=1,ga=t,ct=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ug(i);if(m!==null){m.flags&=-257,dg(m,i,l,o,t),m.mode&1&&cg(o,u,t),t=m,c=u;var b=t.updateQueue;if(b===null){var y=new Set;y.add(c),t.updateQueue=y}else b.add(c);break e}else{if(!(t&1)){cg(o,u,t),rp();break e}c=Error(z(426))}}else if(Ye&&l.mode&1){var x=ug(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dg(x,i,l,o,t),Df(ni(c,l));break e}}o=c=ni(c,l),ft!==4&&(ft=2),qi===null?qi=[o]:qi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Qw(o,c,t);ng(o,w);break e;case 1:l=c;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ss===null||!ss.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Jw(o,l,t);ng(o,_);break e}}o=o.return}while(o!==null)}gx(r)}catch(k){t=k,ct===r&&r!==null&&(ct=r=r.return);continue}break}while(!0)}function px(){var e=yc.current;return yc.current=gc,e===null?gc:e}function rp(){(ft===0||ft===3||ft===2)&&(ft=4),gt===null||!(Ks&268435455)&&!(Gc&268435455)||Hn(gt,bt)}function xc(e,t){var r=Oe;Oe|=2;var n=px();(gt!==e||bt!==t)&&(pn=null,Us(e,t));do try{xj();break}catch(s){fx(e,s)}while(!0);if(Lf(),Oe=r,yc.current=n,ct!==null)throw Error(z(261));return gt=null,bt=0,ft}function xj(){for(;ct!==null;)mx(ct)}function bj(){for(;ct!==null&&!Kk();)mx(ct)}function mx(e){var t=vx(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?gx(e):ct=t,Jf.current=null}function gx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pj(r,t),r!==null){r.flags&=32767,ct=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,ct=null;return}}else if(r=fj(r,t,Xt),r!==null){ct=r;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);ft===0&&(ft=5)}function Ss(e,t,r){var n=Ue,s=gr.transition;try{gr.transition=null,Ue=1,_j(e,t,r,n)}finally{gr.transition=s,Ue=n}return null}function _j(e,t,r,n){do Lo();while(Xn!==null);if(Oe&6)throw Error(z(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(rS(e,o),e===gt&&(ct=gt=null,bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pl||(pl=!0,wx(tc,function(){return Lo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=gr.transition,gr.transition=null;var i=Ue;Ue=1;var l=Oe;Oe|=4,Jf.current=null,gj(e,r),ux(r,e),BS(lh),nc=!!ah,lh=ah=null,e.current=r,yj(r),qk(),Oe=l,Ue=i,gr.transition=o}else e.current=r;if(pl&&(pl=!1,Xn=e,wc=s),o=e.pendingLanes,o===0&&(ss=null),Qk(r.stateNode),Gt(e,it()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(vc)throw vc=!1,e=Nh,Nh=null,e;return wc&1&&e.tag!==0&&Lo(),o=e.pendingLanes,o&1?e===Rh?Gi++:(Gi=0,Rh=e):Gi=0,vs(),null}function Lo(){if(Xn!==null){var e=Qv(wc),t=gr.transition,r=Ue;try{if(gr.transition=null,Ue=16>e?16:e,Xn===null)var n=!1;else{if(e=Xn,Xn=null,wc=0,Oe&6)throw Error(z(331));var s=Oe;for(Oe|=4,te=e.current;te!==null;){var o=te,i=o.child;if(te.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Ki(8,d,o)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var p=d.sibling,m=d.return;if(ax(d),d===u){te=null;break}if(p!==null){p.return=m,te=p;break}te=m}}}var b=o.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}te=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,te=i;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ki(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,te=w;break e}te=o.return}}var g=e.current;for(te=g;te!==null;){i=te;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,te=v;else e:for(i=g;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qc(9,l)}}catch(k){nt(l,l.return,k)}if(l===i){te=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,te=_;break e}te=l.return}}if(Oe=s,vs(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Fc,e)}catch{}n=!0}return n}finally{Ue=r,gr.transition=t}}return!1}function Sg(e,t,r){t=ni(r,t),t=Qw(e,t,1),e=ns(e,t,1),t=Lt(),e!==null&&(Oa(e,1,t),Gt(e,t))}function nt(e,t,r){if(e.tag===3)Sg(e,e,r);else for(;t!==null;){if(t.tag===3){Sg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ss===null||!ss.has(n))){e=ni(r,e),e=Jw(t,e,1),t=ns(t,e,1),e=Lt(),t!==null&&(Oa(t,1,e),Gt(t,e));break}}t=t.return}}function kj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&r,gt===e&&(bt&r)===r&&(ft===4||ft===3&&(bt&130023424)===bt&&500>it()-Zf?Us(e,0):Xf|=r),Gt(e,t)}function yx(e,t){t===0&&(e.mode&1?(t=sl,sl<<=1,!(sl&130023424)&&(sl=4194304)):t=1);var r=Lt();e=jn(e,t),e!==null&&(Oa(e,t,r),Gt(e,r))}function Sj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yx(e,r)}function jj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),yx(e,r)}var vx;vx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kt.current)Vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vt=!1,hj(e,t,r);Vt=!!(e.flags&131072)}else Vt=!1,Ye&&t.flags&1048576&&_w(t,uc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fl(e,t),e=t.pendingProps;var s=Zo(t,Pt.current);$o(t,r),s=Kf(null,t,n,e,s,r);var o=qf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(n)?(o=!0,lc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zf(t),s.updater=Kc,t.stateNode=s,s._reactInternals=t,yh(t,n,e,r),t=xh(null,t,n,!0,o,r)):(t.tag=0,Ye&&o&&If(t),Dt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Cj(n),e=Rr(n,e),s){case 0:t=wh(null,t,n,e,r);break e;case 1:t=pg(null,t,n,e,r);break e;case 11:t=hg(null,t,n,e,r);break e;case 14:t=fg(null,t,n,Rr(n.type,e),r);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),wh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),pg(e,t,n,s,r);case 3:e:{if(tx(t),e===null)throw Error(z(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Nw(e,t),fc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ni(Error(z(423)),t),t=mg(e,t,n,r,s);break e}else if(n!==s){s=ni(Error(z(424)),t),t=mg(e,t,n,r,s);break e}else for(rr=rs(t.stateNode.containerInfo.firstChild),nr=t,Ye=!0,Dr=null,r=Ew(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ei(),n===s){t=En(e,t,r);break e}Dt(e,t,n,r)}t=t.child}return t;case 5:return Rw(t),e===null&&ph(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,ch(n,s)?i=null:o!==null&&ch(n,o)&&(t.flags|=32),ex(e,t),Dt(e,t,i,r),t.child;case 6:return e===null&&ph(t),null;case 13:return rx(e,t,r);case 4:return Bf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ti(t,null,n,r):Dt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),hg(e,t,n,s,r);case 7:return Dt(e,t,t.pendingProps,r),t.child;case 8:return Dt(e,t,t.pendingProps.children,r),t.child;case 12:return Dt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,He(dc,n._currentValue),n._currentValue=i,o!==null)if(Fr(o.value,i)){if(o.children===s.children&&!Kt.current){t=En(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=bn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),mh(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(z(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),mh(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Dt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$o(t,r),s=vr(s),n=n(s),t.flags|=1,Dt(e,t,n,r),t.child;case 14:return n=t.type,s=Rr(n,t.pendingProps),s=Rr(n.type,s),fg(e,t,n,s,r);case 15:return Xw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),Fl(e,t),t.tag=1,qt(n)?(e=!0,lc(t)):e=!1,$o(t,r),Yw(t,n,s),yh(t,n,s,r),xh(null,t,n,!0,e,r);case 19:return nx(e,t,r);case 22:return Zw(e,t,r)}throw Error(z(156,t.tag))};function wx(e,t){return Kv(e,t)}function Ej(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,r,n){return new Ej(e,t,r,n)}function np(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cj(e){if(typeof e=="function")return np(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_f)return 11;if(e===kf)return 14}return 2}function is(e,t){var r=e.alternate;return r===null?(r=pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bl(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")np(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bo:return zs(r.children,s,o,t);case bf:i=8,s|=8;break;case zd:return e=pr(12,r,t,s|2),e.elementType=zd,e.lanes=o,e;case Bd:return e=pr(13,r,t,s),e.elementType=Bd,e.lanes=o,e;case Wd:return e=pr(19,r,t,s),e.elementType=Wd,e.lanes=o,e;case Rv:return Yc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cv:i=10;break e;case Nv:i=9;break e;case _f:i=11;break e;case kf:i=14;break e;case Un:i=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=pr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function zs(e,t,r,n){return e=pr(7,e,n,t),e.lanes=r,e}function Yc(e,t,r,n){return e=pr(22,e,n,t),e.elementType=Rv,e.lanes=r,e.stateNode={isHidden:!1},e}function ad(e,t,r){return e=pr(6,e,null,t),e.lanes=r,e}function ld(e,t,r){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bu(0),this.expirationTimes=Bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sp(e,t,r,n,s,o,i,l,c){return e=new Nj(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(o),e}function Rj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function xx(e){if(!e)return fs;e=e._reactInternals;e:{if(Zs(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(qt(r))return xw(e,r,t)}return t}function bx(e,t,r,n,s,o,i,l,c){return e=sp(r,n,!0,e,s,o,i,l,c),e.context=xx(null),r=e.current,n=Lt(),s=os(r),o=bn(n,s),o.callback=t??null,ns(r,o,s),e.current.lanes=s,Oa(e,s,n),Gt(e,n),e}function Qc(e,t,r,n){var s=t.current,o=Lt(),i=os(s);return r=xx(r),t.context===null?t.context=r:t.pendingContext=r,t=bn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ns(s,t,i),e!==null&&(Lr(e,s,i,o),Dl(e,s,i)),i}function bc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function op(e,t){jg(e,t),(e=e.alternate)&&jg(e,t)}function Tj(){return null}var _x=typeof reportError=="function"?reportError:function(e){console.error(e)};function ip(e){this._internalRoot=e}Jc.prototype.render=ip.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Qc(e,t,null,null)};Jc.prototype.unmount=ip.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qs(function(){Qc(null,e,null,null)}),t[Sn]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wn.length&&t!==0&&t<Wn[r].priority;r++);Wn.splice(r,0,e),r===0&&tw(e)}};function ap(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Eg(){}function Pj(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=bc(i);o.call(u)}}var i=bx(t,n,e,0,null,!1,!1,"",Eg);return e._reactRootContainer=i,e[Sn]=i.current,la(e.nodeType===8?e.parentNode:e),qs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=bc(c);l.call(u)}}var c=sp(e,0,!1,null,null,!1,!1,"",Eg);return e._reactRootContainer=c,e[Sn]=c.current,la(e.nodeType===8?e.parentNode:e),qs(function(){Qc(t,c,r,n)}),c}function Zc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=bc(i);l.call(c)}}Qc(t,i,e,s)}else i=Pj(r,t,e,s,n);return bc(i)}Jv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ii(t.pendingLanes);r!==0&&(Ef(t,r|1),Gt(t,it()),!(Oe&6)&&(si=it()+500,vs()))}break;case 13:qs(function(){var n=jn(e,1);if(n!==null){var s=Lt();Lr(n,e,1,s)}}),op(e,1)}};Cf=function(e){if(e.tag===13){var t=jn(e,134217728);if(t!==null){var r=Lt();Lr(t,e,134217728,r)}op(e,134217728)}};Xv=function(e){if(e.tag===13){var t=os(e),r=jn(e,t);if(r!==null){var n=Lt();Lr(r,e,t,n)}op(e,t)}};Zv=function(){return Ue};ew=function(e,t){var r=Ue;try{return Ue=e,t()}finally{Ue=r}};Zd=function(e,t,r){switch(t){case"input":if(Kd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Wc(n);if(!s)throw Error(z(90));Pv(n),Kd(n,s)}}}break;case"textarea":Ov(e,r);break;case"select":t=r.value,t!=null&&Oo(e,!!r.multiple,t,!1)}};Uv=ep;zv=qs;var Aj={usingClientEntryPoint:!1,Events:[Ma,jo,Wc,Lv,Fv,ep]},Ei={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oj={bundleType:Ei.bundleType,version:Ei.version,rendererPackageName:Ei.rendererPackageName,rendererConfig:Ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hv(e),e===null?null:e.stateNode},findFiberByHostInstance:Ei.findFiberByHostInstance||Tj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Fc=ml.inject(Oj),nn=ml}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aj;ar.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ap(t))throw Error(z(200));return Rj(e,t,null,r)};ar.createRoot=function(e,t){if(!ap(e))throw Error(z(299));var r=!1,n="",s=_x;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sp(e,1,!1,null,null,r,!1,n,s),e[Sn]=t.current,la(e.nodeType===8?e.parentNode:e),new ip(t)};ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Hv(t),e=e===null?null:e.stateNode,e};ar.flushSync=function(e){return qs(e)};ar.hydrate=function(e,t,r){if(!Xc(t))throw Error(z(200));return Zc(null,e,t,!0,r)};ar.hydrateRoot=function(e,t,r){if(!ap(e))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=_x;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=bx(t,null,e,1,r??null,s,!1,o,i),e[Sn]=t.current,la(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Jc(t)};ar.render=function(e,t,r){if(!Xc(t))throw Error(z(200));return Zc(null,e,t,!1,r)};ar.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(z(40));return e._reactRootContainer?(qs(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};ar.unstable_batchedUpdates=ep;ar.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xc(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Zc(e,t,r,!1,n)};ar.version="18.3.1-next-f1338f8080-20240426";function kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kx)}catch(e){console.error(e)}}kx(),kv.exports=ar;var $a=kv.exports;const Sx=uv($a);var jx,Cg=$a;jx=Cg.createRoot,Cg.hydrateRoot;const Ij=1,Mj=1e6;let cd=0;function Dj(){return cd=(cd+1)%Number.MAX_SAFE_INTEGER,cd.toString()}const ud=new Map,Ng=e=>{if(ud.has(e))return;const t=setTimeout(()=>{ud.delete(e),Yi({type:"REMOVE_TOAST",toastId:e})},Mj);ud.set(e,t)},$j=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ij)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ng(r):e.toasts.forEach(n=>{Ng(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Wl=[];let Hl={toasts:[]};function Yi(e){Hl=$j(Hl,e),Wl.forEach(t=>{t(Hl)})}function Lj({...e}){const t=Dj(),r=s=>Yi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Yi({type:"DISMISS_TOAST",toastId:t});return Yi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Fj(){const[e,t]=h.useState(Hl);return h.useEffect(()=>(Wl.push(t),()=>{const r=Wl.indexOf(t);r>-1&&Wl.splice(r,1)}),[e]),{...e,toast:Lj,dismiss:r=>Yi({type:"DISMISS_TOAST",toastId:r})}}function ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Rg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eu(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Rg(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Rg(e[s],null)}}}}function Be(...e){return h.useCallback(eu(...e),e)}function Uj(e,t){const r=h.createContext(t),n=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function xr(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];const u=f=>{var w;const{scope:p,children:m,...b}=f,y=((w=p==null?void 0:p[e])==null?void 0:w[c])||l,x=h.useMemo(()=>b,Object.values(b));return a.jsx(y.Provider,{value:x,children:m})};u.displayName=o+"Provider";function d(f,p){var y;const m=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,b=h.useContext(m);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,zj(s,...t)]}function zj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function oi(e){const t=Wj(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,l=h.Children.toArray(o),c=l.find(Vj);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var Bj=oi("Slot");function Wj(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=qj(s),l=Kj(o,s.props);return s.type!==h.Fragment&&(l.ref=n?eu(n,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ex=Symbol("radix.slottable");function Hj(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Ex,t}function Vj(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ex}function Kj(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function qj(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tu(e){const t=e+"CollectionProvider",[r,n]=xr(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:x,children:w}=y,g=L.useRef(null),v=L.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:v,collectionRef:g,children:w})};i.displayName=t;const l=e+"CollectionSlot",c=oi(l),u=L.forwardRef((y,x)=>{const{scope:w,children:g}=y,v=o(l,w),_=Be(x,v.collectionRef);return a.jsx(c,{ref:_,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=oi(d),m=L.forwardRef((y,x)=>{const{scope:w,children:g,...v}=y,_=L.useRef(null),k=Be(x,_),S=o(d,w);return L.useEffect(()=>(S.itemMap.set(_,{ref:_,...v}),()=>void S.itemMap.delete(_))),a.jsx(p,{[f]:"",ref:k,children:g})});m.displayName=d;function b(y){const x=o(e+"CollectionConsumer",y);return L.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,j)=>v.indexOf(S.ref.current)-v.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},b,n]}var Gj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=Gj.reduce((e,t)=>{const r=oi(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lp(e,t){e&&$a.flushSync(()=>e.dispatchEvent(t))}function ir(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Yj(e,t=globalThis==null?void 0:globalThis.document){const r=ir(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Qj="DismissableLayer",Ah="dismissableLayer.update",Jj="dismissableLayer.pointerDownOutside",Xj="dismissableLayer.focusOutside",Tg,Cx=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),La=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(Cx),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=h.useState({}),b=Be(t,j=>f(j)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(x),g=d?y.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=w,k=eE(j=>{const C=j.target,A=[...u.branches].some($=>$.contains(C));!_||A||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},p),S=tE(j=>{const C=j.target;[...u.branches].some($=>$.contains(C))||(o==null||o(j),i==null||i(j),j.defaultPrevented||l==null||l())},p);return Yj(j=>{g===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},p),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Pg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Tg)}},[d,p,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Pg())},[d,u]),h.useEffect(()=>{const j=()=>m({});return document.addEventListener(Ah,j),()=>document.removeEventListener(Ah,j)},[]),a.jsx(Ne.div,{...c,ref:b,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,k.onPointerDownCapture)})});La.displayName=Qj;var Zj="DismissableLayerBranch",Nx=h.forwardRef((e,t)=>{const r=h.useContext(Cx),n=h.useRef(null),s=Be(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Ne.div,{...e,ref:s})});Nx.displayName=Zj;function eE(e,t=globalThis==null?void 0:globalThis.document){const r=ir(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){Rx(Jj,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function tE(e,t=globalThis==null?void 0:globalThis.document){const r=ir(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&Rx(Xj,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Pg(){const e=new CustomEvent(Ah);document.dispatchEvent(e)}function Rx(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?lp(s,o):s.dispatchEvent(o)}var rE=La,nE=Nx,an=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},sE="Portal",ru=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=h.useState(!1);an(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Sx.createPortal(a.jsx(Ne.div,{...n,ref:t}),i):null});ru.displayName=sE;function oE(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var br=e=>{const{present:t,children:r}=e,n=iE(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=Be(n.ref,aE(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};br.displayName="Presence";function iE(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=oE(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=gl(n.current);o.current=l==="mounted"?u:"none"},[l]),an(()=>{const u=n.current,d=s.current;if(d!==e){const p=o.current,m=gl(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),an(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const y=gl(n.current).includes(m.animationName);if(m.target===t&&y&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=m=>{m.target===t&&(o.current=gl(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function gl(e){return(e==null?void 0:e.animationName)||"none"}function aE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lE=bv[" useInsertionEffect ".trim().toString()]||an;function Pn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=cE({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=h.useCallback(d=>{var f;if(l){const p=uE(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else o(d)},[l,e,o,i]);return[c,u]}function cE({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return lE(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function uE(e){return typeof e=="function"}var dE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hE="VisuallyHidden",nu=h.forwardRef((e,t)=>a.jsx(Ne.span,{...e,ref:t,style:{...dE,...e.style}}));nu.displayName=hE;var fE=nu,cp="ToastProvider",[up,pE,mE]=tu("Toast"),[Tx,R5]=xr("Toast",[mE]),[gE,su]=Tx(cp),Px=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),p=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cp}\`. Expected non-empty \`string\`.`),a.jsx(up.Provider,{scope:t,children:a.jsx(gE,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(m=>m+1),[]),onToastRemove:h.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};Px.displayName=cp;var Ax="ToastViewport",yE=["F8"],Oh="toast.viewportPause",Ih="toast.viewportResume",Ox=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=yE,label:s="Notifications ({hotkey})",...o}=e,i=su(Ax,r),l=pE(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=Be(t,f,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const x=w=>{var v;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),h.useEffect(()=>{const x=c.current,w=f.current;if(b&&x&&w){const g=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Oh);w.dispatchEvent(S),i.isClosePausedRef.current=!0}},v=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Ih);w.dispatchEvent(S),i.isClosePausedRef.current=!1}},_=S=>{!x.contains(S.relatedTarget)&&v()},k=()=>{x.contains(document.activeElement)||v()};return x.addEventListener("focusin",g),x.addEventListener("focusout",_),x.addEventListener("pointermove",g),x.addEventListener("pointerleave",k),window.addEventListener("blur",g),window.addEventListener("focus",v),()=>{x.removeEventListener("focusin",g),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",g),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",g),window.removeEventListener("focus",v)}}},[b,i.isClosePausedRef]);const y=h.useCallback(({tabbingDirection:x})=>{const g=l().map(v=>{const _=v.ref.current,k=[_,...TE(_)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?g.reverse():g).flat()},[l]);return h.useEffect(()=>{const x=f.current;if(x){const w=g=>{var k,S,j;const v=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!v){const C=document.activeElement,A=g.shiftKey;if(g.target===x&&A){(k=u.current)==null||k.focus();return}const q=y({tabbingDirection:A?"backwards":"forwards"}),ie=q.findIndex(B=>B===C);dd(q.slice(ie+1))?g.preventDefault():A?(S=u.current)==null||S.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[l,y]),a.jsxs(nE,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Mh,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});dd(x)}}),a.jsx(up.Slot,{scope:r,children:a.jsx(Ne.ol,{tabIndex:-1,...o,ref:p})}),b&&a.jsx(Mh,{ref:d,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});dd(x)}})]})});Ox.displayName=Ax;var Ix="ToastFocusProxy",Mh=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=su(Ix,r);return a.jsx(nu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});Mh.displayName=Ix;var Fa="Toast",vE="toast.swipeStart",wE="toast.swipeMove",xE="toast.swipeCancel",bE="toast.swipeEnd",Mx=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=Pn({prop:n,defaultProp:s??!0,onChange:o,caller:Fa});return a.jsx(br,{present:r||l,children:a.jsx(SE,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:ir(e.onPause),onResume:ir(e.onResume),onSwipeStart:ce(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ce(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Mx.displayName=Fa;var[_E,kE]=Tx(Fa,{onClose(){}}),SE=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...b}=e,y=su(Fa,r),[x,w]=h.useState(null),g=Be(t,B=>w(B)),v=h.useRef(null),_=h.useRef(null),k=s||y.duration,S=h.useRef(0),j=h.useRef(k),C=h.useRef(0),{onToastAdd:A,onToastRemove:$}=y,se=ir(()=>{var de;(x==null?void 0:x.contains(document.activeElement))&&((de=y.viewport)==null||de.focus()),i()}),q=h.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(se,B))},[se]);h.useEffect(()=>{const B=y.viewport;if(B){const de=()=>{q(j.current),u==null||u()},Q=()=>{const re=new Date().getTime()-S.current;j.current=j.current-re,window.clearTimeout(C.current),c==null||c()};return B.addEventListener(Oh,Q),B.addEventListener(Ih,de),()=>{B.removeEventListener(Oh,Q),B.removeEventListener(Ih,de)}}},[y.viewport,k,c,u,q]),h.useEffect(()=>{o&&!y.isClosePausedRef.current&&q(k)},[o,k,y.isClosePausedRef,q]),h.useEffect(()=>(A(),()=>$()),[A,$]);const ie=h.useMemo(()=>x?Bx(x):null,[x]);return y.viewport?a.jsxs(a.Fragment,{children:[ie&&a.jsx(jE,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:ie}),a.jsx(_E,{scope:r,onClose:se,children:$a.createPortal(a.jsx(up.ItemSlot,{scope:r,children:a.jsx(rE,{asChild:!0,onEscapeKeyDown:ce(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||se(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ce(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,se()))}),onPointerDown:ce(e.onPointerDown,B=>{B.button===0&&(v.current={x:B.clientX,y:B.clientY})}),onPointerMove:ce(e.onPointerMove,B=>{if(!v.current)return;const de=B.clientX-v.current.x,Q=B.clientY-v.current.y,re=!!_.current,R=["left","right"].includes(y.swipeDirection),E=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,P=R?E(0,de):0,U=R?0:E(0,Q),V=B.pointerType==="touch"?10:2,oe={x:P,y:U},ee={originalEvent:B,delta:oe};re?(_.current=oe,yl(wE,f,ee,{discrete:!1})):Ag(oe,y.swipeDirection,V)?(_.current=oe,yl(vE,d,ee,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(de)>V||Math.abs(Q)>V)&&(v.current=null)}),onPointerUp:ce(e.onPointerUp,B=>{const de=_.current,Q=B.target;if(Q.hasPointerCapture(B.pointerId)&&Q.releasePointerCapture(B.pointerId),_.current=null,v.current=null,de){const re=B.currentTarget,R={originalEvent:B,delta:de};Ag(de,y.swipeDirection,y.swipeThreshold)?yl(bE,m,R,{discrete:!0}):yl(xE,p,R,{discrete:!0}),re.addEventListener("click",E=>E.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),jE=e=>{const{__scopeToast:t,children:r,...n}=e,s=su(Fa,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return NE(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(ru,{asChild:!0,children:a.jsx(nu,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},EE="ToastTitle",Dx=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Ne.div,{...n,ref:t})});Dx.displayName=EE;var CE="ToastDescription",$x=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Ne.div,{...n,ref:t})});$x.displayName=CE;var Lx="ToastAction",Fx=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(zx,{altText:r,asChild:!0,children:a.jsx(dp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Lx}\`. Expected non-empty \`string\`.`),null)});Fx.displayName=Lx;var Ux="ToastClose",dp=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=kE(Ux,r);return a.jsx(zx,{asChild:!0,children:a.jsx(Ne.button,{type:"button",...n,ref:t,onClick:ce(e.onClick,s.onClose)})})});dp.displayName=Ux;var zx=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Bx(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),RE(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Bx(n))}}),t}function yl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?lp(s,o):s.dispatchEvent(o)}var Ag=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function NE(e=()=>{}){const t=ir(e);an(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function RE(e){return e.nodeType===e.ELEMENT_NODE}function TE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var PE=Px,Wx=Ox,Hx=Mx,Vx=Dx,Kx=$x,qx=Fx,Gx=dp;function Yx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Yx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qx(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Yx(e))&&(n&&(n+=" "),n+=t);return n}const Og=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ig=Qx,ou=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Ig(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const p=Og(d)||Og(f);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(b=>{let[y,x]=b;return Array.isArray(x)?x.includes({...o,...l}[y]):{...o,...l}[y]===x})?[...u,f,p]:u},[]);return Ig(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...OE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Jx("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(IE,{ref:o,iconNode:t,className:Jx(`lucide-${AE(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=he("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=he("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=he("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=he("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=he("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=he("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=he("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=he("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=he("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=he("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=he("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=he("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=he("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=he("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=he("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=he("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),fp="-",hC=e=>{const t=pC(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(fp);return l[0]===""&&l.length!==1&&l.shift(),n0(l,t)||fC(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},n0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?n0(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(fp);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Lg=/^\[(.+)\]$/,fC=e=>{if(Lg.test(e)){const t=Lg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},pC=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return gC(Object.entries(e.classGroups),r).forEach(([o,i])=>{Lh(i,n,o,t)}),n},Lh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Fg(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(mC(s)){Lh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Lh(i,Fg(t,o),r,n)})})},Fg=(e,t)=>{let r=e;return t.split(fp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},mC=e=>e.isThemeGetter,gC=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,yC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},s0="!",vC=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let w=l[x];if(u===0){if(w===s&&(n||l.slice(x,x+o)===t)){c.push(l.slice(d,x)),d=x+o;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const p=c.length===0?l:l.substring(d),m=p.startsWith(s0),b=m?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:i}):i},wC=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},xC=e=>({cache:yC(e.cacheSize),parseClassName:vC(e),...hC(e)}),bC=/\s+/,_C=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(bC);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=r(u);let b=!!m,y=n(b?p.substring(0,m):p);if(!y){if(!b){l=u+(l.length>0?" "+l:l);continue}if(y=n(p),!y){l=u+(l.length>0?" "+l:l);continue}b=!1}const x=wC(d).join(":"),w=f?x+s0:x,g=w+y;if(o.includes(g))continue;o.push(g);const v=s(y,b);for(let _=0;_<v.length;++_){const k=v[_];o.push(w+k)}l=u+(l.length>0?" "+l:l)}return l};function kC(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=o0(t))&&(n&&(n+=" "),n+=r);return n}const o0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=o0(e[n]))&&(r&&(r+=" "),r+=t);return r};function SC(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=xC(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=_C(c,r);return s(c,d),d}return function(){return o(kC.apply(null,arguments))}}const Ve=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},i0=/^\[(?:([a-z-]+):)?(.+)\]$/i,jC=/^\d+\/\d+$/,EC=new Set(["px","full","screen"]),CC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dn=e=>Fo(e)||EC.has(e)||jC.test(e),Mn=e=>hi(e,"length",FC),Fo=e=>!!e&&!Number.isNaN(Number(e)),fd=e=>hi(e,"number",Fo),Ri=e=>!!e&&Number.isInteger(Number(e)),AC=e=>e.endsWith("%")&&Fo(e.slice(0,-1)),Ce=e=>i0.test(e),Dn=e=>CC.test(e),OC=new Set(["length","size","percentage"]),IC=e=>hi(e,OC,a0),MC=e=>hi(e,"position",a0),DC=new Set(["image","url"]),$C=e=>hi(e,DC,zC),LC=e=>hi(e,"",UC),Ti=()=>!0,hi=(e,t,r)=>{const n=i0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},FC=e=>NC.test(e)&&!RC.test(e),a0=()=>!1,UC=e=>TC.test(e),zC=e=>PC.test(e),BC=()=>{const e=Ve("colors"),t=Ve("spacing"),r=Ve("blur"),n=Ve("brightness"),s=Ve("borderColor"),o=Ve("borderRadius"),i=Ve("borderSpacing"),l=Ve("borderWidth"),c=Ve("contrast"),u=Ve("grayscale"),d=Ve("hueRotate"),f=Ve("invert"),p=Ve("gap"),m=Ve("gradientColorStops"),b=Ve("gradientColorStopPositions"),y=Ve("inset"),x=Ve("margin"),w=Ve("opacity"),g=Ve("padding"),v=Ve("saturate"),_=Ve("scale"),k=Ve("sepia"),S=Ve("skew"),j=Ve("space"),C=Ve("translate"),A=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],se=()=>["auto",Ce,t],q=()=>[Ce,t],ie=()=>["",dn,Mn],B=()=>["auto",Fo,Ce],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",Ce],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Fo,Ce];return{cacheSize:500,separator:":",theme:{colors:[Ti],spacing:[dn,Mn],blur:["none","",Dn,Ce],brightness:U(),borderColor:[e],borderRadius:["none","","full",Dn,Ce],borderSpacing:q(),borderWidth:ie(),contrast:U(),grayscale:E(),hueRotate:U(),invert:E(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[AC,Mn],inset:se(),margin:se(),opacity:U(),padding:q(),saturate:U(),scale:U(),sepia:E(),skew:U(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Dn]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),Ce]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ri,Ce]}],basis:[{basis:se()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Ri,Ce]}],"grid-cols":[{"grid-cols":[Ti]}],"col-start-end":[{col:["auto",{span:["full",Ri,Ce]},Ce]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ti]}],"row-start-end":[{row:["auto",{span:[Ri,Ce]},Ce]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[Dn]},Dn]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dn,Mn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fd]}],"font-family":[{font:[Ti]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Fo,fd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dn,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dn,Mn]}],"underline-offset":[{"underline-offset":["auto",dn,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),MC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$C]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[dn,Ce]}],"outline-w":[{outline:[dn,Mn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[dn,Mn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dn,LC]}],"shadow-color":[{shadow:[Ti]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dn,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ri,Ce]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[dn,Mn,fd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WC=SC(BC);function Se(...e){return WC(Qx(e))}const HC=PE,l0=h.forwardRef(({className:e,...t},r)=>a.jsx(Wx,{ref:r,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));l0.displayName=Wx.displayName;const VC=ou("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c0=h.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(Hx,{ref:n,className:Se(VC({variant:t}),e),...r}));c0.displayName=Hx.displayName;const KC=h.forwardRef(({className:e,...t},r)=>a.jsx(qx,{ref:r,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));KC.displayName=qx.displayName;const u0=h.forwardRef(({className:e,...t},r)=>a.jsx(Gx,{ref:r,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(eo,{className:"h-4 w-4"})}));u0.displayName=Gx.displayName;const d0=h.forwardRef(({className:e,...t},r)=>a.jsx(Vx,{ref:r,className:Se("text-sm font-semibold",e),...t}));d0.displayName=Vx.displayName;const h0=h.forwardRef(({className:e,...t},r)=>a.jsx(Kx,{ref:r,className:Se("text-sm opacity-90",e),...t}));h0.displayName=Kx.displayName;function qC(){const{toasts:e}=Fj();return a.jsxs(HC,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(c0,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(d0,{children:r}),n&&a.jsx(h0,{children:n})]}),s,a.jsx(u0,{})]},t)}),a.jsx(l0,{})]})}var Ug=["light","dark"],GC="(prefers-color-scheme: dark)",YC=h.createContext(void 0),QC={setTheme:e=>{},themes:[]},JC=()=>{var e;return(e=h.useContext(YC))!=null?e:QC};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Ug.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,y=!1,x=!0)=>{let w=i?i[b]:b,g=y?b+"|| ''":`'${w}'`,v="";return s&&x&&!y&&Ug.includes(b)&&(v+=`d.style.colorScheme = '${b}';`),r==="class"?y||w?v+=`c.add(${g})`:v+="null":w&&(v+=`d[s](n,${g})`),v},m=e?`!function(){${d}${p(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${GC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${u?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var XC=e=>{switch(e){case"success":return tN;case"info":return nN;case"warning":return rN;case"error":return sN;default:return null}},ZC=Array(12).fill(0),eN=({visible:e,className:t})=>L.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},L.createElement("div",{className:"sonner-spinner"},ZC.map((r,n)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),tN=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rN=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nN=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sN=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oN=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iN=()=>{let[e,t]=L.useState(document.hidden);return L.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Fh=1,aN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Fh++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],L.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(cN(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Fh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wt=new aN,lN=(e,t)=>{let r=(t==null?void 0:t.id)||Fh++;return Wt.addToast({title:e,...t,id:r}),r},cN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",uN=lN,dN=()=>Wt.toasts,hN=()=>Wt.getActiveToasts(),H=Object.assign(uN,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:dN,getToasts:hN});function fN(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}fN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wl(e){return e.label!==void 0}var pN=3,mN="32px",gN="16px",zg=4e3,yN=356,vN=14,wN=20,xN=200;function Cr(...e){return e.filter(Boolean).join(" ")}function bN(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var _N=e=>{var t,r,n,s,o,i,l,c,u,d,f;let{invert:p,toast:m,unstyled:b,interacting:y,setHeights:x,visibleToasts:w,heights:g,index:v,toasts:_,expanded:k,removeToast:S,defaultRichColors:j,closeButton:C,style:A,cancelButtonStyle:$,actionButtonStyle:se,className:q="",descriptionClassName:ie="",duration:B,position:de,gap:Q,loadingIcon:re,expandByDefault:R,classNames:E,icons:P,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:V}=e,[oe,ee]=L.useState(null),[ke,ve]=L.useState(null),[me,Le]=L.useState(!1),[Fe,yt]=L.useState(!1),[kt,ut]=L.useState(!1),[St,kr]=L.useState(!1),[Sr,At]=L.useState(!1),[Vr,Yt]=L.useState(0),[Bt,Kr]=L.useState(0),Qt=L.useRef(m.duration||B||zg),cr=L.useRef(null),Ot=L.useRef(null),qr=v===0,Gr=v+1<=w,N=m.type,G=m.dismissible!==!1,O=m.className||"",I=m.descriptionClassName||"",M=L.useMemo(()=>g.findIndex(ae=>ae.toastId===m.id)||0,[g,m.id]),K=L.useMemo(()=>{var ae;return(ae=m.closeButton)!=null?ae:C},[m.closeButton,C]),pe=L.useMemo(()=>m.duration||B||zg,[m.duration,B]),Y=L.useRef(0),le=L.useRef(0),J=L.useRef(0),ne=L.useRef(null),[je,ge]=de.split("-"),Ie=L.useMemo(()=>g.reduce((ae,be,F)=>F>=M?ae:ae+be.height,0),[g,M]),ye=iN(),Te=m.invert||p,_e=N==="loading";le.current=L.useMemo(()=>M*Q+Ie,[M,Ie]),L.useEffect(()=>{Qt.current=pe},[pe]),L.useEffect(()=>{Le(!0)},[]),L.useEffect(()=>{let ae=Ot.current;if(ae){let be=ae.getBoundingClientRect().height;return Kr(be),x(F=>[{toastId:m.id,height:be,position:m.position},...F]),()=>x(F=>F.filter(fe=>fe.toastId!==m.id))}},[x,m.id]),L.useLayoutEffect(()=>{if(!me)return;let ae=Ot.current,be=ae.style.height;ae.style.height="auto";let F=ae.getBoundingClientRect().height;ae.style.height=be,Kr(F),x(fe=>fe.find(Ae=>Ae.toastId===m.id)?fe.map(Ae=>Ae.toastId===m.id?{...Ae,height:F}:Ae):[{toastId:m.id,height:F,position:m.position},...fe])},[me,m.title,m.description,x,m.id]);let st=L.useCallback(()=>{yt(!0),Yt(le.current),x(ae=>ae.filter(be=>be.toastId!==m.id)),setTimeout(()=>{S(m)},xN)},[m,S,x,le]);L.useEffect(()=>{if(m.promise&&N==="loading"||m.duration===1/0||m.type==="loading")return;let ae;return k||y||V&&ye?(()=>{if(J.current<Y.current){let be=new Date().getTime()-Y.current;Qt.current=Qt.current-be}J.current=new Date().getTime()})():Qt.current!==1/0&&(Y.current=new Date().getTime(),ae=setTimeout(()=>{var be;(be=m.onAutoClose)==null||be.call(m,m),st()},Qt.current)),()=>clearTimeout(ae)},[k,y,m,N,V,ye,st]),L.useEffect(()=>{m.delete&&st()},[st,m.delete]);function ur(){var ae,be,F;return P!=null&&P.loading?L.createElement("div",{className:Cr(E==null?void 0:E.loader,(ae=m==null?void 0:m.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":N==="loading"},P.loading):re?L.createElement("div",{className:Cr(E==null?void 0:E.loader,(be=m==null?void 0:m.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":N==="loading"},re):L.createElement(eN,{className:Cr(E==null?void 0:E.loader,(F=m==null?void 0:m.classNames)==null?void 0:F.loader),visible:N==="loading"})}return L.createElement("li",{tabIndex:0,ref:Ot,className:Cr(q,O,E==null?void 0:E.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[N],(r=m==null?void 0:m.classNames)==null?void 0:r[N]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:j,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":me,"data-promise":!!m.promise,"data-swiped":Sr,"data-removed":Fe,"data-visible":Gr,"data-y-position":je,"data-x-position":ge,"data-index":v,"data-front":qr,"data-swiping":kt,"data-dismissible":G,"data-type":N,"data-invert":Te,"data-swipe-out":St,"data-swipe-direction":ke,"data-expanded":!!(k||R&&me),style:{"--index":v,"--toasts-before":v,"--z-index":_.length-v,"--offset":`${Fe?Vr:le.current}px`,"--initial-height":R?"auto":`${Bt}px`,...A,...m.style},onDragEnd:()=>{ut(!1),ee(null),ne.current=null},onPointerDown:ae=>{_e||!G||(cr.current=new Date,Yt(le.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(ut(!0),ne.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,be,F,fe;if(St||!G)return;ne.current=null;let Ae=Number(((ae=Ot.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Me=Number(((be=Ot.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),De=new Date().getTime()-((F=cr.current)==null?void 0:F.getTime()),Pe=oe==="x"?Ae:Me,jt=Math.abs(Pe)/De;if(Math.abs(Pe)>=wN||jt>.11){Yt(le.current),(fe=m.onDismiss)==null||fe.call(m,m),ve(oe==="x"?Ae>0?"right":"left":Me>0?"down":"up"),st(),kr(!0),At(!1);return}ut(!1),ee(null)},onPointerMove:ae=>{var be,F,fe,Ae;if(!ne.current||!G||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let Me=ae.clientY-ne.current.y,De=ae.clientX-ne.current.x,Pe=(F=e.swipeDirections)!=null?F:bN(de);!oe&&(Math.abs(De)>1||Math.abs(Me)>1)&&ee(Math.abs(De)>Math.abs(Me)?"x":"y");let jt={x:0,y:0};oe==="y"?(Pe.includes("top")||Pe.includes("bottom"))&&(Pe.includes("top")&&Me<0||Pe.includes("bottom")&&Me>0)&&(jt.y=Me):oe==="x"&&(Pe.includes("left")||Pe.includes("right"))&&(Pe.includes("left")&&De<0||Pe.includes("right")&&De>0)&&(jt.x=De),(Math.abs(jt.x)>0||Math.abs(jt.y)>0)&&At(!0),(fe=Ot.current)==null||fe.style.setProperty("--swipe-amount-x",`${jt.x}px`),(Ae=Ot.current)==null||Ae.style.setProperty("--swipe-amount-y",`${jt.y}px`)}},K&&!m.jsx?L.createElement("button",{"aria-label":U,"data-disabled":_e,"data-close-button":!0,onClick:_e||!G?()=>{}:()=>{var ae;st(),(ae=m.onDismiss)==null||ae.call(m,m)},className:Cr(E==null?void 0:E.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=P==null?void 0:P.close)!=null?o:oN):null,m.jsx||h.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:L.createElement(L.Fragment,null,N||m.icon||m.promise?L.createElement("div",{"data-icon":"",className:Cr(E==null?void 0:E.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ur():null,m.type!=="loading"?m.icon||(P==null?void 0:P[N])||XC(N):null):null,L.createElement("div",{"data-content":"",className:Cr(E==null?void 0:E.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},L.createElement("div",{"data-title":"",className:Cr(E==null?void 0:E.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?L.createElement("div",{"data-description":"",className:Cr(ie,I,E==null?void 0:E.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),h.isValidElement(m.cancel)?m.cancel:m.cancel&&wl(m.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||$,onClick:ae=>{var be,F;wl(m.cancel)&&G&&((F=(be=m.cancel).onClick)==null||F.call(be,ae),st())},className:Cr(E==null?void 0:E.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,h.isValidElement(m.action)?m.action:m.action&&wl(m.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||se,onClick:ae=>{var be,F;wl(m.action)&&((F=(be=m.action).onClick)==null||F.call(be,ae),!ae.defaultPrevented&&st())},className:Cr(E==null?void 0:E.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Bg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kN(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",l=o?gN:mN;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var SN=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:m,visibleToasts:b=pN,toastOptions:y,dir:x=Bg(),gap:w=vN,loadingIcon:g,icons:v,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:k}=e,[S,j]=L.useState([]),C=L.useMemo(()=>Array.from(new Set([n].concat(S.filter(V=>V.position).map(V=>V.position)))),[S,n]),[A,$]=L.useState([]),[se,q]=L.useState(!1),[ie,B]=L.useState(!1),[de,Q]=L.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=L.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=L.useRef(null),P=L.useRef(!1),U=L.useCallback(V=>{j(oe=>{var ee;return(ee=oe.find(ke=>ke.id===V.id))!=null&&ee.delete||Wt.dismiss(V.id),oe.filter(({id:ke})=>ke!==V.id)})},[]);return L.useEffect(()=>Wt.subscribe(V=>{if(V.dismiss){j(oe=>oe.map(ee=>ee.id===V.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{Sx.flushSync(()=>{j(oe=>{let ee=oe.findIndex(ke=>ke.id===V.id);return ee!==-1?[...oe.slice(0,ee),{...oe[ee],...V},...oe.slice(ee+1)]:[V,...oe]})})})}),[]),L.useEffect(()=>{if(d!=="system"){Q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:oe})=>{Q(oe?"dark":"light")})}catch{V.addListener(({matches:ee})=>{try{Q(ee?"dark":"light")}catch(ke){console.error(ke)}})}},[d]),L.useEffect(()=>{S.length<=1&&q(!1)},[S]),L.useEffect(()=>{let V=oe=>{var ee,ke;s.every(ve=>oe[ve]||oe.code===ve)&&(q(!0),(ee=re.current)==null||ee.focus()),oe.code==="Escape"&&(document.activeElement===re.current||(ke=re.current)!=null&&ke.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),L.useEffect(()=>{if(re.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,P.current=!1)}},[re.current]),L.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((V,oe)=>{var ee;let[ke,ve]=V.split("-");return S.length?L.createElement("ol",{key:V,dir:x==="auto"?Bg():x,tabIndex:-1,ref:re,className:l,"data-sonner-toaster":!0,"data-theme":de,"data-y-position":ke,"data-lifted":se&&S.length>1&&!o,"data-x-position":ve,style:{"--front-toast-height":`${((ee=A[0])==null?void 0:ee.height)||0}px`,"--width":`${yN}px`,"--gap":`${w}px`,...m,...kN(c,u)},onBlur:me=>{P.current&&!me.currentTarget.contains(me.relatedTarget)&&(P.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||P.current||(P.current=!0,E.current=me.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{ie||q(!1)},onDragEnd:()=>q(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},S.filter(me=>!me.position&&oe===0||me.position===V).map((me,Le)=>{var Fe,yt;return L.createElement(_N,{key:me.id,icons:v,index:Le,toast:me,defaultRichColors:f,duration:(Fe=y==null?void 0:y.duration)!=null?Fe:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:b,closeButton:(yt=y==null?void 0:y.closeButton)!=null?yt:i,interacting:ie,position:V,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:U,toasts:S.filter(kt=>kt.position==me.position),heights:A.filter(kt=>kt.position==me.position),setHeights:$,expandByDefault:o,gap:w,loadingIcon:g,expanded:se,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});const jN=({...e})=>{const{theme:t="system"}=JC();return a.jsx(SN,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var EN=bv[" useId ".trim().toString()]||(()=>{}),CN=0;function as(e){const[t,r]=h.useState(EN());return an(()=>{r(n=>n??String(CN++))},[e]),t?`radix-${t}`:""}const NN=["top","right","bottom","left"],ps=Math.min,Zt=Math.max,_c=Math.round,xl=Math.floor,on=e=>({x:e,y:e}),RN={left:"right",right:"left",bottom:"top",top:"bottom"},TN={start:"end",end:"start"};function Uh(e,t,r){return Zt(e,ps(t,r))}function Cn(e,t){return typeof e=="function"?e(t):e}function Nn(e){return e.split("-")[0]}function fi(e){return e.split("-")[1]}function pp(e){return e==="x"?"y":"x"}function mp(e){return e==="y"?"height":"width"}const PN=new Set(["top","bottom"]);function rn(e){return PN.has(Nn(e))?"y":"x"}function gp(e){return pp(rn(e))}function AN(e,t,r){r===void 0&&(r=!1);const n=fi(e),s=gp(e),o=mp(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=kc(i)),[i,kc(i)]}function ON(e){const t=kc(e);return[zh(e),t,zh(t)]}function zh(e){return e.replace(/start|end/g,t=>TN[t])}const Wg=["left","right"],Hg=["right","left"],IN=["top","bottom"],MN=["bottom","top"];function DN(e,t,r){switch(e){case"top":case"bottom":return r?t?Hg:Wg:t?Wg:Hg;case"left":case"right":return t?IN:MN;default:return[]}}function $N(e,t,r,n){const s=fi(e);let o=DN(Nn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(zh)))),o}function kc(e){return e.replace(/left|right|bottom|top/g,t=>RN[t])}function LN(e){return{top:0,right:0,bottom:0,left:0,...e}}function f0(e){return typeof e!="number"?LN(e):{top:e,right:e,bottom:e,left:e}}function Sc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Vg(e,t,r){let{reference:n,floating:s}=e;const o=rn(t),i=gp(t),l=mp(i),c=Nn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(fi(t)){case"start":m[i]-=p*(r&&u?-1:1);break;case"end":m[i]+=p*(r&&u?-1:1);break}return m}const FN=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Vg(u,n,c),p=n,m={},b=0;for(let y=0;y<l.length;y++){const{name:x,fn:w}=l[y],{x:g,y:v,data:_,reset:k}=await w({x:d,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=g??d,f=v??f,m={...m,[x]:{...m[x],..._}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:f}=Vg(u,p,c)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function ya(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Cn(t,e),b=f0(m),x=l[p?f==="floating"?"reference":"floating":f],w=Sc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},k=Sc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:c}):g);return{top:(w.top-k.top+b.top)/_.y,bottom:(k.bottom-w.bottom+b.bottom)/_.y,left:(w.left-k.left+b.left)/_.x,right:(k.right-w.right+b.right)/_.x}}const UN=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Cn(e,t)||{};if(u==null)return{};const f=f0(d),p={x:r,y:n},m=gp(s),b=mp(m),y=await i.getDimensions(u),x=m==="y",w=x?"top":"left",g=x?"bottom":"right",v=x?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[m]-p[m]-o.floating[b],k=p[m]-o.reference[m],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=S?S[v]:0;(!j||!await(i.isElement==null?void 0:i.isElement(S)))&&(j=l.floating[v]||o.floating[b]);const C=_/2-k/2,A=j/2-y[b]/2-1,$=ps(f[w],A),se=ps(f[g],A),q=$,ie=j-y[b]-se,B=j/2-y[b]/2+C,de=Uh(q,B,ie),Q=!c.arrow&&fi(s)!=null&&B!==de&&o.reference[b]/2-(B<q?$:se)-y[b]/2<0,re=Q?B<q?B-q:B-ie:0;return{[m]:p[m]+re,data:{[m]:de,centerOffset:B-de-re,...Q&&{alignmentOffset:re}},reset:Q}}}),zN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...x}=Cn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=Nn(s),g=rn(l),v=Nn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=p||(v||!y?[kc(l)]:ON(l)),S=b!=="none";!p&&S&&k.push(...$N(l,y,b,_));const j=[l,...k],C=await ya(t,x),A=[];let $=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&A.push(C[w]),f){const B=AN(s,i,_);A.push(C[B[0]],C[B[1]])}if($=[...$,{placement:s,overflows:A}],!A.every(B=>B<=0)){var se,q;const B=(((se=o.flip)==null?void 0:se.index)||0)+1,de=j[B];if(de&&(!(f==="alignment"?g!==rn(de):!1)||$.every(R=>R.overflows[0]>0&&rn(R.placement)===g)))return{data:{index:B,overflows:$},reset:{placement:de}};let Q=(q=$.filter(re=>re.overflows[0]<=0).sort((re,R)=>re.overflows[1]-R.overflows[1])[0])==null?void 0:q.placement;if(!Q)switch(m){case"bestFit":{var ie;const re=(ie=$.filter(R=>{if(S){const E=rn(R.placement);return E===g||E==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(E=>E>0).reduce((E,P)=>E+P,0)]).sort((R,E)=>R[1]-E[1])[0])==null?void 0:ie[0];re&&(Q=re);break}case"initialPlacement":Q=l;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function Kg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qg(e){return NN.some(t=>e[t]>=0)}const BN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Cn(e,t);switch(n){case"referenceHidden":{const o=await ya(t,{...s,elementContext:"reference"}),i=Kg(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:qg(i)}}}case"escaped":{const o=await ya(t,{...s,altBoundary:!0}),i=Kg(o,r.floating);return{data:{escapedOffsets:i,escaped:qg(i)}}}default:return{}}}}},p0=new Set(["left","top"]);async function WN(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Nn(r),l=fi(r),c=rn(r)==="y",u=p0.has(i)?-1:1,d=o&&c?-1:1,f=Cn(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(m=l==="end"?b*-1:b),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const HN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await WN(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},VN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:w,y:g}=x;return{x:w,y:g}}},...c}=Cn(e,t),u={x:r,y:n},d=await ya(t,c),f=rn(Nn(s)),p=pp(f);let m=u[p],b=u[f];if(o){const x=p==="y"?"top":"left",w=p==="y"?"bottom":"right",g=m+d[x],v=m-d[w];m=Uh(g,m,v)}if(i){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",g=b+d[x],v=b-d[w];b=Uh(g,b,v)}const y=l.fn({...t,[p]:m,[f]:b});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[p]:o,[f]:i}}}}}},KN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Cn(e,t),d={x:r,y:n},f=rn(s),p=pp(f);let m=d[p],b=d[f];const y=Cn(l,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const v=p==="y"?"height":"width",_=o.reference[p]-o.floating[v]+x.mainAxis,k=o.reference[p]+o.reference[v]-x.mainAxis;m<_?m=_:m>k&&(m=k)}if(u){var w,g;const v=p==="y"?"width":"height",_=p0.has(Nn(s)),k=o.reference[f]-o.floating[v]+(_&&((w=i.offset)==null?void 0:w[f])||0)+(_?0:x.crossAxis),S=o.reference[f]+o.reference[v]+(_?0:((g=i.offset)==null?void 0:g[f])||0)-(_?x.crossAxis:0);b<k?b=k:b>S&&(b=S)}return{[p]:m,[f]:b}}}},qN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Cn(e,t),d=await ya(t,u),f=Nn(s),p=fi(s),m=rn(s)==="y",{width:b,height:y}=o.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,x=p==="end"?"top":"bottom");const g=y-d.top-d.bottom,v=b-d.left-d.right,_=ps(y-d[x],g),k=ps(b-d[w],v),S=!t.middlewareData.shift;let j=_,C=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=g),S&&!p){const $=Zt(d.left,0),se=Zt(d.right,0),q=Zt(d.top,0),ie=Zt(d.bottom,0);m?C=b-2*($!==0||se!==0?$+se:Zt(d.left,d.right)):j=y-2*(q!==0||ie!==0?q+ie:Zt(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:j});const A=await i.getDimensions(l.floating);return b!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function lu(){return typeof window<"u"}function pi(e){return m0(e)?(e.nodeName||"").toLowerCase():"#document"}function sr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cn(e){var t;return(t=(m0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m0(e){return lu()?e instanceof Node||e instanceof sr(e).Node:!1}function Ur(e){return lu()?e instanceof Element||e instanceof sr(e).Element:!1}function ln(e){return lu()?e instanceof HTMLElement||e instanceof sr(e).HTMLElement:!1}function Gg(e){return!lu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sr(e).ShadowRoot}const GN=new Set(["inline","contents"]);function Ua(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=zr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!GN.has(s)}const YN=new Set(["table","td","th"]);function QN(e){return YN.has(pi(e))}const JN=[":popover-open",":modal"];function cu(e){return JN.some(t=>{try{return e.matches(t)}catch{return!1}})}const XN=["transform","translate","scale","rotate","perspective"],ZN=["transform","translate","scale","rotate","perspective","filter"],e2=["paint","layout","strict","content"];function yp(e){const t=vp(),r=Ur(e)?zr(e):e;return XN.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||ZN.some(n=>(r.willChange||"").includes(n))||e2.some(n=>(r.contain||"").includes(n))}function t2(e){let t=ms(e);for(;ln(t)&&!ii(t);){if(yp(t))return t;if(cu(t))return null;t=ms(t)}return null}function vp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const r2=new Set(["html","body","#document"]);function ii(e){return r2.has(pi(e))}function zr(e){return sr(e).getComputedStyle(e)}function uu(e){return Ur(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ms(e){if(pi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gg(e)&&e.host||cn(e);return Gg(t)?t.host:t}function g0(e){const t=ms(e);return ii(t)?e.ownerDocument?e.ownerDocument.body:e.body:ln(t)&&Ua(t)?t:g0(t)}function va(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=g0(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=sr(s);if(o){const l=Bh(i);return t.concat(i,i.visualViewport||[],Ua(s)?s:[],l&&r?va(l):[])}return t.concat(s,va(s,[],r))}function Bh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function y0(e){const t=zr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ln(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=_c(r)!==o||_c(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function wp(e){return Ur(e)?e:e.contextElement}function Uo(e){const t=wp(e);if(!ln(t))return on(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=y0(t);let i=(o?_c(r.width):r.width)/n,l=(o?_c(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const n2=on(0);function v0(e){const t=sr(e);return!vp()||!t.visualViewport?n2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function s2(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==sr(e)?!1:t}function Ys(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=wp(e);let i=on(1);t&&(n?Ur(n)&&(i=Uo(n)):i=Uo(e));const l=s2(o,r,n)?v0(o):on(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=sr(o),m=n&&Ur(n)?sr(n):n;let b=p,y=Bh(b);for(;y&&n&&m!==b;){const x=Uo(y),w=y.getBoundingClientRect(),g=zr(y),v=w.left+(y.clientLeft+parseFloat(g.paddingLeft))*x.x,_=w.top+(y.clientTop+parseFloat(g.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=v,u+=_,b=sr(y),y=Bh(b)}}return Sc({width:d,height:f,x:c,y:u})}function xp(e,t){const r=uu(e).scrollLeft;return t?t.left+r:Ys(cn(e)).left+r}function w0(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:xp(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function o2(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=cn(n),l=t?cu(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=on(1);const d=on(0),f=ln(n);if((f||!f&&!o)&&((pi(n)!=="body"||Ua(i))&&(c=uu(n)),ln(n))){const m=Ys(n);u=Uo(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const p=i&&!f&&!o?w0(i,c,!0):on(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function i2(e){return Array.from(e.getClientRects())}function a2(e){const t=cn(e),r=uu(e),n=e.ownerDocument.body,s=Zt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Zt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+xp(e);const l=-r.scrollTop;return zr(n).direction==="rtl"&&(i+=Zt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function l2(e,t){const r=sr(e),n=cn(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=vp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const c2=new Set(["absolute","fixed"]);function u2(e,t){const r=Ys(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=ln(e)?Uo(e):on(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function Yg(e,t,r){let n;if(t==="viewport")n=l2(e,r);else if(t==="document")n=a2(cn(e));else if(Ur(t))n=u2(t,r);else{const s=v0(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Sc(n)}function x0(e,t){const r=ms(e);return r===t||!Ur(r)||ii(r)?!1:zr(r).position==="fixed"||x0(r,t)}function d2(e,t){const r=t.get(e);if(r)return r;let n=va(e,[],!1).filter(l=>Ur(l)&&pi(l)!=="body"),s=null;const o=zr(e).position==="fixed";let i=o?ms(e):e;for(;Ur(i)&&!ii(i);){const l=zr(i),c=yp(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&c2.has(s.position)||Ua(i)&&!c&&x0(e,i))?n=n.filter(d=>d!==i):s=l,i=ms(i)}return t.set(e,n),n}function h2(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?cu(t)?[]:d2(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=Yg(t,d,s);return u.top=Zt(f.top,u.top),u.right=ps(f.right,u.right),u.bottom=ps(f.bottom,u.bottom),u.left=Zt(f.left,u.left),u},Yg(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function f2(e){const{width:t,height:r}=y0(e);return{width:t,height:r}}function p2(e,t,r){const n=ln(t),s=cn(t),o=r==="fixed",i=Ys(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=on(0);function u(){c.x=xp(s)}if(n||!n&&!o)if((pi(t)!=="body"||Ua(s))&&(l=uu(t)),n){const m=Ys(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?w0(s,l):on(0),f=i.left+l.scrollLeft-c.x-d.x,p=i.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function pd(e){return zr(e).position==="static"}function Qg(e,t){if(!ln(e)||zr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return cn(e)===r&&(r=r.ownerDocument.body),r}function b0(e,t){const r=sr(e);if(cu(e))return r;if(!ln(e)){let s=ms(e);for(;s&&!ii(s);){if(Ur(s)&&!pd(s))return s;s=ms(s)}return r}let n=Qg(e,t);for(;n&&QN(n)&&pd(n);)n=Qg(n,t);return n&&ii(n)&&pd(n)&&!yp(n)?r:n||t2(e)||r}const m2=async function(e){const t=this.getOffsetParent||b0,r=this.getDimensions,n=await r(e.floating);return{reference:p2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function g2(e){return zr(e).direction==="rtl"}const y2={convertOffsetParentRelativeRectToViewportRelativeRect:o2,getDocumentElement:cn,getClippingRect:h2,getOffsetParent:b0,getElementRects:m2,getClientRects:i2,getDimensions:f2,getScale:Uo,isElement:Ur,isRTL:g2};function _0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function v2(e,t){let r=null,n;const s=cn(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(l||t(),!p||!m)return;const b=xl(f),y=xl(s.clientWidth-(d+p)),x=xl(s.clientHeight-(f+m)),w=xl(d),v={rootMargin:-b+"px "+-y+"px "+-x+"px "+-w+"px",threshold:Zt(0,ps(1,c))||1};let _=!0;function k(S){const j=S[0].intersectionRatio;if(j!==c){if(!_)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!_0(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(k,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,v)}r.observe(e)}return i(!0),o}function w2(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=wp(e),d=s||o?[...u?va(u):[],...va(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const f=u&&l?v2(u,r):null;let p=-1,m=null;i&&(m=new ResizeObserver(w=>{let[g]=w;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let b,y=c?Ys(e):null;c&&x();function x(){const w=Ys(e);y&&!_0(y,w)&&r(),y=w,b=requestAnimationFrame(x)}return r(),()=>{var w;d.forEach(g=>{s&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const x2=HN,b2=VN,_2=zN,k2=qN,S2=BN,Jg=UN,j2=KN,E2=(e,t,r)=>{const n=new Map,s={platform:y2,...r},o={...s.platform,_c:n};return FN(e,t,{...s,platform:o})};var C2=typeof document<"u",N2=function(){},ql=C2?h.useLayoutEffect:N2;function jc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!jc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!jc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function k0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xg(e,t){const r=k0(e);return Math.round(t*r)/r}function md(e){const t=h.useRef(e);return ql(()=>{t.current=e}),t}function R2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(n);jc(p,n)||m(n);const[b,y]=h.useState(null),[x,w]=h.useState(null),g=h.useCallback(R=>{R!==S.current&&(S.current=R,y(R))},[]),v=h.useCallback(R=>{R!==j.current&&(j.current=R,w(R))},[]),_=o||b,k=i||x,S=h.useRef(null),j=h.useRef(null),C=h.useRef(d),A=c!=null,$=md(c),se=md(s),q=md(u),ie=h.useCallback(()=>{if(!S.current||!j.current)return;const R={placement:t,strategy:r,middleware:p};se.current&&(R.platform=se.current),E2(S.current,j.current,R).then(E=>{const P={...E,isPositioned:q.current!==!1};B.current&&!jc(C.current,P)&&(C.current=P,$a.flushSync(()=>{f(P)}))})},[p,t,r,se,q]);ql(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const B=h.useRef(!1);ql(()=>(B.current=!0,()=>{B.current=!1}),[]),ql(()=>{if(_&&(S.current=_),k&&(j.current=k),_&&k){if($.current)return $.current(_,k,ie);ie()}},[_,k,ie,$,A]);const de=h.useMemo(()=>({reference:S,floating:j,setReference:g,setFloating:v}),[g,v]),Q=h.useMemo(()=>({reference:_,floating:k}),[_,k]),re=h.useMemo(()=>{const R={position:r,left:0,top:0};if(!Q.floating)return R;const E=Xg(Q.floating,d.x),P=Xg(Q.floating,d.y);return l?{...R,transform:"translate("+E+"px, "+P+"px)",...k0(Q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:E,top:P}},[r,l,Q.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:ie,refs:de,elements:Q,floatingStyles:re}),[d,ie,de,Q,re])}const T2=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Jg({element:n.current,padding:s}).fn(r):{}:n?Jg({element:n,padding:s}).fn(r):{}}}},P2=(e,t)=>({...x2(e),options:[e,t]}),A2=(e,t)=>({...b2(e),options:[e,t]}),O2=(e,t)=>({...j2(e),options:[e,t]}),I2=(e,t)=>({..._2(e),options:[e,t]}),M2=(e,t)=>({...k2(e),options:[e,t]}),D2=(e,t)=>({...S2(e),options:[e,t]}),$2=(e,t)=>({...T2(e),options:[e,t]});var L2="Arrow",S0=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(Ne.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});S0.displayName=L2;var F2=S0;function bp(e){const[t,r]=h.useState(void 0);return an(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var _p="Popper",[j0,du]=xr(_p),[U2,E0]=j0(_p),C0=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return a.jsx(U2,{scope:t,anchor:n,onAnchorChange:s,children:r})};C0.displayName=_p;var N0="PopperAnchor",R0=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=E0(N0,r),i=h.useRef(null),l=Be(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(Ne.div,{...s,ref:l})});R0.displayName=N0;var kp="PopperContent",[z2,B2]=j0(kp),T0=h.forwardRef((e,t)=>{var me,Le,Fe,yt,kt,ut;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:b,...y}=e,x=E0(kp,r),[w,g]=h.useState(null),v=Be(t,St=>g(St)),[_,k]=h.useState(null),S=bp(_),j=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,A=n+(o!=="center"?"-"+o:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},se=Array.isArray(u)?u:[u],q=se.length>0,ie={padding:$,boundary:se.filter(H2),altBoundary:q},{refs:B,floatingStyles:de,placement:Q,isPositioned:re,middlewareData:R}=R2({strategy:"fixed",placement:A,whileElementsMounted:(...St)=>w2(...St,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[P2({mainAxis:s+C,alignmentAxis:i}),c&&A2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?O2():void 0,...ie}),c&&I2({...ie}),M2({...ie,apply:({elements:St,rects:kr,availableWidth:Sr,availableHeight:At})=>{const{width:Vr,height:Yt}=kr.reference,Bt=St.floating.style;Bt.setProperty("--radix-popper-available-width",`${Sr}px`),Bt.setProperty("--radix-popper-available-height",`${At}px`),Bt.setProperty("--radix-popper-anchor-width",`${Vr}px`),Bt.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),_&&$2({element:_,padding:l}),V2({arrowWidth:j,arrowHeight:C}),p&&D2({strategy:"referenceHidden",...ie})]}),[E,P]=O0(Q),U=ir(b);an(()=>{re&&(U==null||U())},[re,U]);const V=(me=R.arrow)==null?void 0:me.x,oe=(Le=R.arrow)==null?void 0:Le.y,ee=((Fe=R.arrow)==null?void 0:Fe.centerOffset)!==0,[ke,ve]=h.useState();return an(()=>{w&&ve(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:re?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(yt=R.transformOrigin)==null?void 0:yt.x,(kt=R.transformOrigin)==null?void 0:kt.y].join(" "),...((ut=R.hide)==null?void 0:ut.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(z2,{scope:r,placedSide:E,onArrowChange:k,arrowX:V,arrowY:oe,shouldHideArrow:ee,children:a.jsx(Ne.div,{"data-side":E,"data-align":P,...y,ref:v,style:{...y.style,animation:re?void 0:"none"}})})})});T0.displayName=kp;var P0="PopperArrow",W2={top:"bottom",right:"left",bottom:"top",left:"right"},A0=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=B2(P0,n),i=W2[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(F2,{...s,ref:r,style:{...s.style,display:"block"}})})});A0.displayName=P0;function H2(e){return e!==null}var V2=e=>({name:"transformOrigin",options:e,fn(t){var x,w,g;const{placement:r,rects:n,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=O0(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let b="",y="";return u==="bottom"?(b=i?f:`${p}px`,y=`${-c}px`):u==="top"?(b=i?f:`${p}px`,y=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=i?f:`${m}px`):u==="left"&&(b=`${n.floating.width+c}px`,y=i?f:`${m}px`),{data:{x:b,y}}}});function O0(e){const[t,r="center"]=e.split("-");return[t,r]}var K2=C0,I0=R0,M0=T0,D0=A0,[hu,T5]=xr("Tooltip",[du]),Sp=du(),$0="TooltipProvider",q2=700,Zg="tooltip.open",[G2,L0]=hu($0),F0=e=>{const{__scopeTooltip:t,delayDuration:r=q2,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(G2,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};F0.displayName=$0;var U0="Tooltip",[P5,fu]=hu(U0),Wh="TooltipTrigger",Y2=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=fu(Wh,r),o=L0(Wh,r),i=Sp(r),l=h.useRef(null),c=Be(t,l,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(I0,{asChild:!0,...i,children:a.jsx(Ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ce(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ce(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ce(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ce(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ce(e.onBlur,s.onClose),onClick:ce(e.onClick,s.onClose)})})});Y2.displayName=Wh;var Q2="TooltipPortal",[A5,J2]=hu(Q2,{forceMount:void 0}),ai="TooltipContent",z0=h.forwardRef((e,t)=>{const r=J2(ai,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=fu(ai,e.__scopeTooltip);return a.jsx(br,{present:n||i.open,children:i.disableHoverableContent?a.jsx(B0,{side:s,...o,ref:t}):a.jsx(X2,{side:s,...o,ref:t})})}),X2=h.forwardRef((e,t)=>{const r=fu(ai,e.__scopeTooltip),n=L0(ai,e.__scopeTooltip),s=h.useRef(null),o=Be(t,s),[i,l]=h.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,p=h.useCallback(()=>{l(null),f(!1)},[f]),m=h.useCallback((b,y)=>{const x=b.currentTarget,w={x:b.clientX,y:b.clientY},g=nR(w,x.getBoundingClientRect()),v=sR(w,g),_=oR(y.getBoundingClientRect()),k=aR([...v,..._]);l(k),f(!0)},[f]);return h.useEffect(()=>()=>p(),[p]),h.useEffect(()=>{if(c&&d){const b=x=>m(x,d),y=x=>m(x,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",y)}}},[c,d,m,p]),h.useEffect(()=>{if(i){const b=y=>{const x=y.target,w={x:y.clientX,y:y.clientY},g=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),v=!iR(w,i);g?p():v&&(p(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,i,u,p]),a.jsx(B0,{...e,ref:o})}),[Z2,eR]=hu(U0,{isInside:!1}),tR=Hj("TooltipContent"),B0=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=fu(ai,r),u=Sp(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(Zg,d),()=>document.removeEventListener(Zg,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(La,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(M0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(tR,{children:n}),a.jsx(Z2,{scope:r,isInside:!0,children:a.jsx(fE,{id:c.contentId,role:"tooltip",children:s||n})})]})})});z0.displayName=ai;var W0="TooltipArrow",rR=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Sp(r);return eR(W0,r).isInside?null:a.jsx(D0,{...s,...n,ref:t})});rR.displayName=W0;function nR(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function sR(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function oR(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function iR(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,p=c.y;d>n!=p>n&&r<(f-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function aR(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),lR(t)}function lR(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var cR=F0,H0=z0;const uR=cR,dR=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(H0,{ref:n,sideOffset:t,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));dR.displayName=H0.displayName;var pu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mu=typeof window>"u"||"Deno"in globalThis;function Tr(){}function hR(e,t){return typeof e=="function"?e(t):e}function fR(e){return typeof e=="number"&&e>=0&&e!==1/0}function pR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hh(e,t){return typeof e=="function"?e(t):e}function mR(e,t){return typeof e=="function"?e(t):e}function ey(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==jp(i,t.options))return!1}else if(!xa(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function ty(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(wa(t.options.mutationKey)!==wa(o))return!1}else if(!xa(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function jp(e,t){return((t==null?void 0:t.queryKeyHashFn)||wa)(e)}function wa(e){return JSON.stringify(e,(t,r)=>Vh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function xa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>xa(e[r],t[r])):!1}function V0(e,t){if(e===t)return e;const r=ry(e)&&ry(t);if(r||Vh(e)&&Vh(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:o[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=V0(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function ry(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vh(e){if(!ny(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ny(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ny(e){return Object.prototype.toString.call(e)==="[object Object]"}function gR(e){return new Promise(t=>{setTimeout(t,e)})}function yR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?V0(e,t):t}function vR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function wR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ep=Symbol();function K0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ep?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Is,Kn,Ho,rv,xR=(rv=class extends pu{constructor(){super();$e(this,Is);$e(this,Kn);$e(this,Ho);Ee(this,Ho,t=>{if(!mu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){D(this,Kn)||this.setEventListener(D(this,Ho))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,Kn))==null||t.call(this),Ee(this,Kn,void 0))}setEventListener(t){var r;Ee(this,Ho,t),(r=D(this,Kn))==null||r.call(this),Ee(this,Kn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){D(this,Is)!==t&&(Ee(this,Is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof D(this,Is)=="boolean"?D(this,Is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Is=new WeakMap,Kn=new WeakMap,Ho=new WeakMap,rv),q0=new xR,Vo,qn,Ko,nv,bR=(nv=class extends pu{constructor(){super();$e(this,Vo,!0);$e(this,qn);$e(this,Ko);Ee(this,Ko,t=>{if(!mu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){D(this,qn)||this.setEventListener(D(this,Ko))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,qn))==null||t.call(this),Ee(this,qn,void 0))}setEventListener(t){var r;Ee(this,Ko,t),(r=D(this,qn))==null||r.call(this),Ee(this,qn,t(this.setOnline.bind(this)))}setOnline(t){D(this,Vo)!==t&&(Ee(this,Vo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return D(this,Vo)}},Vo=new WeakMap,qn=new WeakMap,Ko=new WeakMap,nv),Ec=new bR;function _R(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function kR(e){return Math.min(1e3*2**e,3e4)}function G0(e){return(e??"online")==="online"?Ec.isOnline():!0}var Y0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gd(e){return e instanceof Y0}function Q0(e){let t=!1,r=0,n=!1,s;const o=_R(),i=y=>{var x;n||(p(new Y0(y)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>q0.isFocused()&&(e.networkMode==="always"||Ec.isOnline())&&e.canRun(),d=()=>G0(e.networkMode)&&e.canRun(),f=y=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,y),s==null||s(),o.resolve(y))},p=y=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,y),s==null||s(),o.reject(y))},m=()=>new Promise(y=>{var x;s=w=>{(n||u())&&y(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),b=()=>{if(n)return;let y;const x=r===0?e.initialPromise:void 0;try{y=x??e.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{var S;if(n)return;const g=e.retry??(mu?0:3),v=e.retryDelay??kR,_=typeof v=="function"?v(r,w):v,k=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,w);if(t||!k){p(w);return}r++,(S=e.onFail)==null||S.call(e,r,w),gR(_).then(()=>u()?void 0:m()).then(()=>{t?p(w):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():m().then(b),o)}}var SR=e=>setTimeout(e,0);function jR(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=SR;const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var $t=jR(),Ms,sv,J0=(sv=class{constructor(){$e(this,Ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fR(this.gcTime)&&Ee(this,Ms,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mu?1/0:5*60*1e3))}clearGcTimeout(){D(this,Ms)&&(clearTimeout(D(this,Ms)),Ee(this,Ms,void 0))}},Ms=new WeakMap,sv),qo,Ds,dr,$s,Rt,Ta,Ls,Ar,hn,ov,ER=(ov=class extends J0{constructor(t){super();$e(this,Ar);$e(this,qo);$e(this,Ds);$e(this,dr);$e(this,$s);$e(this,Rt);$e(this,Ta);$e(this,Ls);Ee(this,Ls,!1),Ee(this,Ta,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ee(this,$s,t.client),Ee(this,dr,D(this,$s).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ee(this,qo,NR(this.options)),this.state=t.state??D(this,qo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,Rt))==null?void 0:t.promise}setOptions(t){this.options={...D(this,Ta),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,dr).remove(this)}setData(t,r){const n=yR(this.state.data,t,this.options);return Et(this,Ar,hn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Et(this,Ar,hn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=D(this,Rt))==null?void 0:n.promise;return(s=D(this,Rt))==null||s.cancel(t),r?r.then(Tr).catch(Tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,qo))}isActive(){return this.observers.some(t=>mR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ep||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!pR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=D(this,Rt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=D(this,Rt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,dr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(D(this,Rt)&&(D(this,Ls)?D(this,Rt).cancel({revert:!0}):D(this,Rt).cancelRetry()),this.scheduleGc()),D(this,dr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Et(this,Ar,hn).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(D(this,Rt))return D(this,Rt).continueRetry(),D(this,Rt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ee(this,Ls,!0),n.signal)})},o=()=>{const p=K0(this.options,r),b=(()=>{const y={client:D(this,$s),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return Ee(this,Ls,!1),this.options.persister?this.options.persister(p,b,this):p(b)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:D(this,$s),state:this.state,fetchFn:o};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),Ee(this,Ds,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Et(this,Ar,hn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=p=>{var m,b,y,x;gd(p)&&p.silent||Et(this,Ar,hn).call(this,{type:"error",error:p}),gd(p)||((b=(m=D(this,dr).config).onError)==null||b.call(m,p,this),(x=(y=D(this,dr).config).onSettled)==null||x.call(y,this.state.data,p,this)),this.scheduleGc()};return Ee(this,Rt,Q0({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var m,b,y,x;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){c(w);return}(b=(m=D(this,dr).config).onSuccess)==null||b.call(m,p,this),(x=(y=D(this,dr).config).onSettled)==null||x.call(y,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,m)=>{Et(this,Ar,hn).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Et(this,Ar,hn).call(this,{type:"pause"})},onContinue:()=>{Et(this,Ar,hn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),D(this,Rt).start()}},qo=new WeakMap,Ds=new WeakMap,dr=new WeakMap,$s=new WeakMap,Rt=new WeakMap,Ta=new WeakMap,Ls=new WeakMap,Ar=new WeakSet,hn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...CR(n.data,this.options),fetchMeta:t.meta??null};case"success":return Ee(this,Ds,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return gd(s)&&s.revert&&D(this,Ds)?{...D(this,Ds),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),$t.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),D(this,dr).notify({query:this,type:"updated",action:t})})},ov);function CR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function NR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Jr,iv,RR=(iv=class extends pu{constructor(t={}){super();$e(this,Jr);this.config=t,Ee(this,Jr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??jp(s,r);let i=this.get(o);return i||(i=new ER({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){D(this,Jr).has(t.queryHash)||(D(this,Jr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=D(this,Jr).get(t.queryHash);r&&(t.destroy(),r===t&&D(this,Jr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,Jr).get(t)}getAll(){return[...D(this,Jr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ey(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ey(t,n)):r}notify(t){$t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){$t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Jr=new WeakMap,iv),Xr,It,Fs,Zr,Ln,av,TR=(av=class extends J0{constructor(t){super();$e(this,Zr);$e(this,Xr);$e(this,It);$e(this,Fs);this.mutationId=t.mutationId,Ee(this,It,t.mutationCache),Ee(this,Xr,[]),this.state=t.state||PR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,Xr).includes(t)||(D(this,Xr).push(t),this.clearGcTimeout(),D(this,It).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ee(this,Xr,D(this,Xr).filter(r=>r!==t)),this.scheduleGc(),D(this,It).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,Xr).length||(this.state.status==="pending"?this.scheduleGc():D(this,It).remove(this))}continue(){var t;return((t=D(this,Fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,u,d,f,p,m,b,y,x,w,g,v,_,k,S,j,C;const r=()=>{Et(this,Zr,Ln).call(this,{type:"continue"})};Ee(this,Fs,Q0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,$)=>{Et(this,Zr,Ln).call(this,{type:"failed",failureCount:A,error:$})},onPause:()=>{Et(this,Zr,Ln).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,It).canRun(this)}));const n=this.state.status==="pending",s=!D(this,Fs).canStart();try{if(n)r();else{Et(this,Zr,Ln).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=D(this,It).config).onMutate)==null?void 0:i.call(o,t,this));const $=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));$!==this.state.context&&Et(this,Zr,Ln).call(this,{type:"pending",context:$,variables:t,isPaused:s})}const A=await D(this,Fs).start();return await((d=(u=D(this,It).config).onSuccess)==null?void 0:d.call(u,A,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,A,t,this.state.context)),await((b=(m=D(this,It).config).onSettled)==null?void 0:b.call(m,A,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,A,null,t,this.state.context)),Et(this,Zr,Ln).call(this,{type:"success",data:A}),A}catch(A){try{throw await((g=(w=D(this,It).config).onError)==null?void 0:g.call(w,A,t,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,A,t,this.state.context)),await((S=(k=D(this,It).config).onSettled)==null?void 0:S.call(k,void 0,A,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,A,t,this.state.context)),A}finally{Et(this,Zr,Ln).call(this,{type:"error",error:A})}}finally{D(this,It).runNext(this)}}},Xr=new WeakMap,It=new WeakMap,Fs=new WeakMap,Zr=new WeakSet,Ln=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$t.batch(()=>{D(this,Xr).forEach(n=>{n.onMutationUpdate(t)}),D(this,It).notify({mutation:this,type:"updated",action:t})})},av);function PR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yn,Or,Pa,lv,AR=(lv=class extends pu{constructor(t={}){super();$e(this,yn);$e(this,Or);$e(this,Pa);this.config=t,Ee(this,yn,new Set),Ee(this,Or,new Map),Ee(this,Pa,0)}build(t,r,n){const s=new TR({mutationCache:this,mutationId:++Xa(this,Pa)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){D(this,yn).add(t);const r=bl(t);if(typeof r=="string"){const n=D(this,Or).get(r);n?n.push(t):D(this,Or).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,yn).delete(t)){const r=bl(t);if(typeof r=="string"){const n=D(this,Or).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&D(this,Or).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=bl(t);if(typeof r=="string"){const n=D(this,Or).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=bl(t);if(typeof r=="string"){const s=(n=D(this,Or).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$t.batch(()=>{D(this,yn).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,yn).clear(),D(this,Or).clear()})}getAll(){return Array.from(D(this,yn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ty(r,n))}findAll(t={}){return this.getAll().filter(r=>ty(t,r))}notify(t){$t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return $t.batch(()=>Promise.all(t.map(r=>r.continue().catch(Tr))))}},yn=new WeakMap,Or=new WeakMap,Pa=new WeakMap,lv);function bl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function sy(e){return{onFetch:(t,r)=>{var d,f,p,m,b;const n=t.options,s=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const x=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},w=K0(t.options,t.fetchOptions),g=async(v,_,k)=>{if(y)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const j=(()=>{const se={client:t.client,queryKey:t.queryKey,pageParam:_,direction:k?"backward":"forward",meta:t.options.meta};return x(se),se})(),C=await w(j),{maxPages:A}=t.options,$=k?wR:vR;return{pages:$(v.pages,C,A),pageParams:$(v.pageParams,_,A)}};if(s&&o.length){const v=s==="backward",_=v?OR:oy,k={pages:o,pageParams:i},S=_(n,k);l=await g(k,S,v)}else{const v=e??o.length;do{const _=c===0?i[0]??n.initialPageParam:oy(n,l);if(c>0&&_==null)break;l=await g(l,_),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var y,x;return(x=(y=t.options).persister)==null?void 0:x.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function oy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function OR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var tt,Gn,Yn,Go,Yo,Qn,Qo,Jo,cv,IR=(cv=class{constructor(e={}){$e(this,tt);$e(this,Gn);$e(this,Yn);$e(this,Go);$e(this,Yo);$e(this,Qn);$e(this,Qo);$e(this,Jo);Ee(this,tt,e.queryCache||new RR),Ee(this,Gn,e.mutationCache||new AR),Ee(this,Yn,e.defaultOptions||{}),Ee(this,Go,new Map),Ee(this,Yo,new Map),Ee(this,Qn,0)}mount(){Xa(this,Qn)._++,D(this,Qn)===1&&(Ee(this,Qo,q0.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,tt).onFocus())})),Ee(this,Jo,Ec.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,tt).onOnline())})))}unmount(){var e,t;Xa(this,Qn)._--,D(this,Qn)===0&&((e=D(this,Qo))==null||e.call(this),Ee(this,Qo,void 0),(t=D(this,Jo))==null||t.call(this),Ee(this,Jo,void 0))}isFetching(e){return D(this,tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,Gn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=D(this,tt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=D(this,tt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Hh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return D(this,tt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=D(this,tt).get(n.queryHash),o=s==null?void 0:s.state.data,i=hR(t,o);if(i!==void 0)return D(this,tt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return $t.batch(()=>D(this,tt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=D(this,tt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=D(this,tt);$t.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=D(this,tt);return $t.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=$t.batch(()=>D(this,tt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Tr).catch(Tr)}invalidateQueries(e,t={}){return $t.batch(()=>(D(this,tt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=$t.batch(()=>D(this,tt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Tr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Tr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=D(this,tt).build(this,t);return r.isStaleByTime(Hh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tr).catch(Tr)}fetchInfiniteQuery(e){return e.behavior=sy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tr).catch(Tr)}ensureInfiniteQueryData(e){return e.behavior=sy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ec.isOnline()?D(this,Gn).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,tt)}getMutationCache(){return D(this,Gn)}getDefaultOptions(){return D(this,Yn)}setDefaultOptions(e){Ee(this,Yn,e)}setQueryDefaults(e,t){D(this,Go).set(wa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,Go).values()],r={};return t.forEach(n=>{xa(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){D(this,Yo).set(wa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,Yo).values()],r={};return t.forEach(n=>{xa(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,Yn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=jp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ep&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,Yn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,tt).clear(),D(this,Gn).clear()}},tt=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,Go=new WeakMap,Yo=new WeakMap,Qn=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,cv),MR=h.createContext(void 0),DR=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(MR.Provider,{value:e,children:t}));/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iy="popstate";function $R(e={}){function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return Kh("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ba(s)}return FR(t,r,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Br(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LR(){return Math.random().toString(36).substring(2,10)}function ay(e,t){return{usr:e.state,key:e.key,idx:t}}function Kh(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mi(t):t,state:r,key:t&&t.key||n||LR()}}function ba({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function FR(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let x=d(),w=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:w})}function p(x,w){l="PUSH";let g=Kh(y.location,x,w);u=d()+1;let v=ay(g,u),_=y.createHref(g);try{i.pushState(v,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}o&&c&&c({action:l,location:y.location,delta:1})}function m(x,w){l="REPLACE";let g=Kh(y.location,x,w);u=d();let v=ay(g,u),_=y.createHref(g);i.replaceState(v,"",_),o&&c&&c({action:l,location:y.location,delta:0})}function b(x){return UR(x)}let y={get action(){return l},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(iy,f),c=x,()=>{s.removeEventListener(iy,f),c=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let w=b(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(x){return i.go(x)}};return y}function UR(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ba(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function X0(e,t,r="/"){return zR(e,t,r,!1)}function zR(e,t,r,n){let s=typeof t=="string"?mi(t):t,o=Rn(s.pathname||"/",r);if(o==null)return null;let i=Z0(e);BR(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=ZR(o);l=JR(i[c],u,n)}return l}function Z0(e,t=[],r=[],n="",s=!1){let o=(i,l,c=s,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Ze(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=_n([n,d.relativePath]),p=r.concat(d);i.children&&i.children.length>0&&(Ze(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Z0(i.children,t,p,f,c)),!(i.path==null&&!i.index)&&t.push({path:f,score:YR(f,i.index),routesMeta:p})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))o(i,l);else for(let u of eb(i.path))o(i,l,!0,u)}),t}function eb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=eb(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function BR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:QR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var WR=/^:[\w-]+$/,HR=3,VR=2,KR=1,qR=10,GR=-2,ly=e=>e==="*";function YR(e,t){let r=e.split("/"),n=r.length;return r.some(ly)&&(n+=GR),t&&(n+=VR),r.filter(s=>!ly(s)).reduce((s,o)=>s+(WR.test(o)?HR:o===""?KR:qR),n)}function QR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function JR(e,t,r=!1){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Cc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Cc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:_n([o,f.pathname]),pathnameBase:nT(_n([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=_n([o,f.pathnameBase]))}return i}function Cc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=XR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let b=l[p]||"";i=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const m=l[p];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function XR(e,t=!1,r=!0){Br(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ZR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Br(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eT=e=>tb.test(e);function tT(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?mi(e):e,o;if(r)if(eT(r))o=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${r}`)}r.startsWith("/")?o=cy(r.substring(1),"/"):o=cy(r,t)}else o=t;return{pathname:o,search:sT(n),hash:oT(s)}}function cy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yd(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rb(e){let t=rT(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function nb(e,t,r,n=!1){let s;typeof e=="string"?s=mi(e):(s={...e},Ze(!s.pathname||!s.pathname.includes("?"),yd("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),yd("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),yd("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=tT(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var _n=e=>e.join("/").replace(/\/\/+/g,"/"),nT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,iT=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function aT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function lT(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ob(e,t){let r=e;if(typeof r!="string"||!tb.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(sb)try{let o=new URL(window.location.href),i=r.startsWith("//")?new URL(o.protocol+r):new URL(r),l=Rn(i.pathname,t);i.origin===o.origin&&l!=null?r=l+i.search+i.hash:s=!0}catch{Br(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ib=["POST","PUT","PATCH","DELETE"];new Set(ib);var cT=["GET",...ib];new Set(cT);var gi=h.createContext(null);gi.displayName="DataRouter";var gu=h.createContext(null);gu.displayName="DataRouterState";var uT=h.createContext(!1),ab=h.createContext({isTransitioning:!1});ab.displayName="ViewTransition";var dT=h.createContext(new Map);dT.displayName="Fetchers";var hT=h.createContext(null);hT.displayName="Await";var _r=h.createContext(null);_r.displayName="Navigation";var za=h.createContext(null);za.displayName="Location";var An=h.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Cp=h.createContext(null);Cp.displayName="RouteError";var lb="REACT_ROUTER_ERROR",fT="REDIRECT",pT="ROUTE_ERROR_RESPONSE";function mT(e){if(e.startsWith(`${lb}:${fT}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function gT(e){if(e.startsWith(`${lb}:${pT}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new iT(t.status,t.statusText,t.data)}catch{}}function yT(e,{relative:t}={}){Ze(Ba(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=h.useContext(_r),{hash:s,pathname:o,search:i}=Ha(e,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:_n([r,o])),n.createHref({pathname:l,search:i,hash:s})}function Ba(){return h.useContext(za)!=null}function un(){return Ze(Ba(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(za).location}var cb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ub(e){h.useContext(_r).static||h.useLayoutEffect(e)}function Wa(){let{isDataRoute:e}=h.useContext(An);return e?TT():vT()}function vT(){Ze(Ba(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(gi),{basename:t,navigator:r}=h.useContext(_r),{matches:n}=h.useContext(An),{pathname:s}=un(),o=JSON.stringify(rb(n)),i=h.useRef(!1);return ub(()=>{i.current=!0}),h.useCallback((c,u={})=>{if(Br(i.current,cb),!i.current)return;if(typeof c=="number"){r.go(c);return}let d=nb(c,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:_n([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,s,e])}h.createContext(null);function Ha(e,{relative:t}={}){let{matches:r}=h.useContext(An),{pathname:n}=un(),s=JSON.stringify(rb(r));return h.useMemo(()=>nb(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function wT(e,t){return db(e,t)}function db(e,t,r,n,s){var g;Ze(Ba(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=h.useContext(_r),{matches:i}=h.useContext(An),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let v=f&&f.path||"";fb(u,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let p=un(),m;if(t){let v=typeof t=="string"?mi(t):t;Ze(d==="/"||((g=v.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),m=v}else m=p;let b=m.pathname||"/",y=b;if(d!=="/"){let v=d.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=X0(e,{pathname:y});Br(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Br(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ST(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:_n([d,o.encodeLocation?o.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:_n([d,o.encodeLocation?o.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),i,r,n,s);return t&&w?h.createElement(za.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function xT(){let e=RT(),t=aT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:o},"ErrorBoundary")," or"," ",h.createElement("code",{style:o},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,i)}var bT=h.createElement(xT,null),hb=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=gT(e.digest);r&&(e=r)}let t=e!==void 0?h.createElement(An.Provider,{value:this.props.routeContext},h.createElement(Cp.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?h.createElement(_T,{error:e},t):t}};hb.contextType=uT;var vd=new WeakMap;function _T({children:e,error:t}){let{basename:r}=h.useContext(_r);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=mT(t.digest);if(n){let s=vd.get(t);if(s)throw s;let o=ob(n.location,r);if(sb&&!vd.get(t))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw vd.set(t,i),i}return h.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function kT({routeContext:e,match:t,children:r}){let n=h.useContext(gi);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(An.Provider,{value:e},r)}function ST(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,i=r==null?void 0:r.errors;if(i!=null){let d=o.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);Ze(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=r,b=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let u=r&&n?(d,f)=>{var p,m;n(d,{location:r.location,params:((m=(p=r.matches)==null?void 0:p[0])==null?void 0:m.params)??{},unstable_pattern:lT(r.matches),errorInfo:f})}:void 0;return o.reduceRight((d,f,p)=>{let m,b=!1,y=null,x=null;r&&(m=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||bT,l&&(c<0&&p===0?(fb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):c===p&&(b=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,p+1)),g=()=>{let v;return m?v=y:b?v=x:f.route.Component?v=h.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,h.createElement(kT,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?h.createElement(hb,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):g()},null)}function Np(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jT(e){let t=h.useContext(gi);return Ze(t,Np(e)),t}function ET(e){let t=h.useContext(gu);return Ze(t,Np(e)),t}function CT(e){let t=h.useContext(An);return Ze(t,Np(e)),t}function Rp(e){let t=CT(e),r=t.matches[t.matches.length-1];return Ze(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function NT(){return Rp("useRouteId")}function RT(){var n;let e=h.useContext(Cp),t=ET("useRouteError"),r=Rp("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function TT(){let{router:e}=jT("useNavigate"),t=Rp("useNavigate"),r=h.useRef(!1);return ub(()=>{r.current=!0}),h.useCallback(async(s,o={})=>{Br(r.current,cb),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var uy={};function fb(e,t,r){!t&&!uy[e]&&(uy[e]=!0,Br(!1,r))}h.memo(PT);function PT({routes:e,future:t,state:r,onError:n}){return db(e,void 0,r,n,t)}function fn(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AT({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:o=!1,unstable_useTransitions:i}){Ze(!Ba(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:s,static:o,unstable_useTransitions:i,future:{}}),[l,s,o,i]);typeof r=="string"&&(r=mi(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,b=h.useMemo(()=>{let y=Rn(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:p,key:m},navigationType:n}},[l,u,d,f,p,m,n]);return Br(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:h.createElement(_r.Provider,{value:c},h.createElement(za.Provider,{children:t,value:b}))}function OT({children:e,location:t}){return wT(qh(e),t)}function qh(e,t=[]){let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,qh(n.props.children,o));return}Ze(n.type===fn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=qh(n.props.children,o)),r.push(i)}),r}var Gl="get",Yl="application/x-www-form-urlencoded";function yu(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function IT(e){return yu(e)&&e.tagName.toLowerCase()==="button"}function MT(e){return yu(e)&&e.tagName.toLowerCase()==="form"}function DT(e){return yu(e)&&e.tagName.toLowerCase()==="input"}function $T(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LT(e,t){return e.button===0&&(!t||t==="_self")&&!$T(e)}var _l=null;function FT(){if(_l===null)try{new FormData(document.createElement("form"),0),_l=!1}catch{_l=!0}return _l}var UT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wd(e){return e!=null&&!UT.has(e)?(Br(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yl}"`),null):e}function zT(e,t){let r,n,s,o,i;if(MT(e)){let l=e.getAttribute("action");n=l?Rn(l,t):null,r=e.getAttribute("method")||Gl,s=wd(e.getAttribute("enctype"))||Yl,o=new FormData(e)}else if(IT(e)||DT(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Rn(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Gl,s=wd(e.getAttribute("formenctype"))||wd(l.getAttribute("enctype"))||Yl,o=new FormData(l,e),!FT()){let{name:u,type:d,value:f}=e;if(d==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,f)}}else{if(yu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Gl,n=null,s=Yl,i=e}return o&&s==="text/plain"&&(i=o,o=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BT(e,t,r,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:t&&Rn(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function WT(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VT(e,t,r){let n=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let i=await WT(o,r);return i.links?i.links():[]}return[]}));return YT(n.flat(1).filter(HT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function dy(e,t,r,n,s,o){let i=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):o==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function KT(e,t,{includeHydrateFallback:r}={}){return qT(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function qT(e){return[...new Set(e)]}function GT(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function YT(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let o=JSON.stringify(GT(s));return r.has(o)||(r.add(o),n.push({key:o,link:s})),n},[])}function pb(){let e=h.useContext(gi);return Tp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function QT(){let e=h.useContext(gu);return Tp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Pp=h.createContext(void 0);Pp.displayName="FrameworkContext";function mb(){let e=h.useContext(Pp);return Tp(e,"You must render this element inside a <HydratedRouter> element"),e}function JT(e,t){let r=h.useContext(Pp),[n,s]=h.useState(!1),[o,i]=h.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,p=h.useRef(null);h.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let y=w=>{w.forEach(g=>{i(g.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),h.useEffect(()=>{if(n){let y=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(y)}}},[n]);let m=()=>{s(!0)},b=()=>{s(!1),i(!1)};return r?e!=="intent"?[o,p,{}]:[o,p,{onFocus:Pi(l,m),onBlur:Pi(c,b),onMouseEnter:Pi(u,m),onMouseLeave:Pi(d,b),onTouchStart:Pi(f,m)}]:[!1,p,{}]}function Pi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function XT({page:e,...t}){let{router:r}=pb(),n=h.useMemo(()=>X0(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?h.createElement(eP,{page:e,matches:n,...t}):null}function ZT(e){let{manifest:t,routeModules:r}=mb(),[n,s]=h.useState([]);return h.useEffect(()=>{let o=!1;return VT(e,t,r).then(i=>{o||s(i)}),()=>{o=!0}},[e,t,r]),n}function eP({page:e,matches:t,...r}){let n=un(),{future:s,manifest:o,routeModules:i}=mb(),{basename:l}=pb(),{loaderData:c,matches:u}=QT(),d=h.useMemo(()=>dy(e,t,u,o,n,"data"),[e,t,u,o,n]),f=h.useMemo(()=>dy(e,t,u,o,n,"assets"),[e,t,u,o,n]),p=h.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(t.forEach(g=>{var _;let v=o.routes[g.route.id];!v||!v.hasLoader||(!d.some(k=>k.route.id===g.route.id)&&g.route.id in c&&((_=i[g.route.id])!=null&&_.shouldRevalidate)||v.hasClientLoader?x=!0:y.add(g.route.id))}),y.size===0)return[];let w=BT(e,l,s.unstable_trailingSlashAwareDataRequests,"data");return x&&y.size>0&&w.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[l,s.unstable_trailingSlashAwareDataRequests,c,n,o,d,t,e,i]),m=h.useMemo(()=>KT(f,o),[f,o]),b=ZT(f);return h.createElement(h.Fragment,null,p.map(y=>h.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>h.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),b.map(({key:y,link:x})=>h.createElement("link",{key:y,nonce:r.nonce,...x})))}function tP(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var rP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rP&&(window.__reactRouterVersion="7.12.0")}catch{}function nP({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=h.useRef();s.current==null&&(s.current=$R({window:n,v5Compat:!0}));let o=s.current,[i,l]=h.useState({action:o.action,location:o.location}),c=h.useCallback(u=>{r===!1?l(u):h.startTransition(()=>l(u))},[r]);return h.useLayoutEffect(()=>o.listen(c),[o,c]),h.createElement(AT,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:o,unstable_useTransitions:r})}var gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=h.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},b){let{basename:y,unstable_useTransitions:x}=h.useContext(_r),w=typeof u=="string"&&gb.test(u),g=ob(u,y);u=g.to;let v=yT(u,{relative:s}),[_,k,S]=JT(n,m),j=aP(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:x});function C($){t&&t($),$.defaultPrevented||j($)}let A=h.createElement("a",{...m,...S,href:g.absoluteURL||v,onClick:g.isExternal||o?t:C,ref:tP(b,k),target:c,"data-discover":!w&&r==="render"?"true":void 0});return _&&!w?h.createElement(h.Fragment,null,A,h.createElement(XT,{page:v})):A});at.displayName="Link";var sP=h.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:o,to:i,viewTransition:l,children:c,...u},d){let f=Ha(i,{relative:u.relative}),p=un(),m=h.useContext(gu),{navigator:b,basename:y}=h.useContext(_r),x=m!=null&&hP(f)&&l===!0,w=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,g=p.pathname,v=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(g=g.toLowerCase(),v=v?v.toLowerCase():null,w=w.toLowerCase()),v&&y&&(v=Rn(v,y)||v);const _=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let k=g===w||!s&&g.startsWith(w)&&g.charAt(_)==="/",S=v!=null&&(v===w||!s&&v.startsWith(w)&&v.charAt(w.length)==="/"),j={isActive:k,isPending:S,isTransitioning:x},C=k?t:void 0,A;typeof n=="function"?A=n(j):A=[n,k?"active":null,S?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(j):o;return h.createElement(at,{...u,"aria-current":C,className:A,ref:d,style:$,to:i,viewTransition:l},typeof c=="function"?c(j):c)});sP.displayName="NavLink";var oP=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:o,method:i=Gl,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},b)=>{let{unstable_useTransitions:y}=h.useContext(_r),x=uP(),w=dP(l,{relative:u}),g=i.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&gb.test(l),_=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let S=k.nativeEvent.submitter,j=(S==null?void 0:S.getAttribute("formmethod"))||i,C=()=>x(S||k.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:s,state:o,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p});y&&r!==!1?h.startTransition(()=>C()):C()};return h.createElement("form",{ref:b,method:g,action:w,onSubmit:n?c:_,...m,"data-discover":!v&&e==="render"?"true":void 0})});oP.displayName="Form";function iP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(e){let t=h.useContext(gi);return Ze(t,iP(e)),t}function aP(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=Wa(),d=un(),f=Ha(e,{relative:o});return h.useCallback(p=>{if(LT(p,t)){p.preventDefault();let m=r!==void 0?r:ba(d)===ba(f),b=()=>u(e,{replace:m,state:n,preventScrollReset:s,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:l});c?h.startTransition(()=>b()):b()}},[d,u,f,r,n,t,e,s,o,i,l,c])}var lP=0,cP=()=>`__${String(++lP)}__`;function uP(){let{router:e}=yb("useSubmit"),{basename:t}=h.useContext(_r),r=NT(),n=e.fetch,s=e.navigate;return h.useCallback(async(o,i={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=zT(o,t);if(i.navigate===!1){let p=i.fetcherKey||cP();await n(p,r,i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await s(i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,s,t,r])}function dP(e,{relative:t}={}){let{basename:r}=h.useContext(_r),n=h.useContext(An);Ze(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...Ha(e||".",{relative:t})},i=un();if(e==null){o.search=i.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:_n([r,o.pathname])),ba(o)}function hP(e,{relative:t}={}){let r=h.useContext(ab);Ze(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=yb("useViewTransitionState"),s=Ha(e,{relative:t});if(!r.isTransitioning)return!1;let o=Rn(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Rn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Cc(s.pathname,i)!=null||Cc(s.pathname,o)!=null}const fP=ou("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-secondary hover:text-foreground",link:"text-primary underline-offset-4 hover:underline",glass:"glass-button text-white font-medium","glass-solid":"glass-button-solid text-foreground font-medium",white:"bg-white text-foreground shadow-sm hover:bg-gray-50 hover:shadow-md","outline-white":"bg-transparent text-white border border-white/30 hover:bg-white/10","solid-dark":"bg-foreground text-background hover:bg-foreground/90"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-lg px-4",lg:"h-12 rounded-xl px-8 text-base",xl:"h-14 rounded-2xl px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?Bj:"button";return a.jsx(i,{className:Se(fP({variant:t,size:r,className:e})),ref:o,...s})});Z.displayName="Button";const Qs="/assets/logo-DzI_KCRP.png",pP=768,vb=1024;function mP(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const r=()=>{const n=window.innerWidth;t(n>=pP&&n<vb)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),!!e}function gP(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const r=()=>{t(window.innerWidth<vb)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),!!e}function Va(){const[e,t]=h.useState(!1),r=un(),n=mP(),s=r.pathname==="/",o=["/privacy","/terms","/contact"].includes(r.pathname);return h.useEffect(()=>{if(!s){t(!0);return}const i=()=>{t(window.scrollY>window.innerHeight*.6)};return i(),window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[s]),a.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${e?"navbar-scrolled":""}`,children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[a.jsxs(at,{to:"/",className:"flex items-center gap-2 -mt-1 -ml-0.5 shrink-0",children:[a.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-lg transition-colors ${e?"bg-primary":"bg-white/20 backdrop-blur-sm border border-white/30"}`,children:a.jsx("img",{src:Qs,alt:"RoThumbs",className:"h-6 w-6"})}),a.jsx("span",{className:`font-display text-xl font-bold transition-colors ${e?"text-foreground":"text-white"}`,children:"RoThumbs"})]}),!n&&!o&&a.jsxs("div",{className:"hidden md:flex items-center justify-center gap-2 absolute left-1/2 -translate-x-1/2 -ml-[18px]",children:[a.jsxs(at,{to:"/#features",onClick:i=>{i.preventDefault();const l=document.getElementById("features");if(l){const u=l.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:u,behavior:"smooth"})}},className:`nav-link flex items-center gap-2 px-4 py-2 text-xl font-bold rounded-xl transition-all ${e?"text-foreground/80 hover:text-primary hover:bg-primary/5":"text-white hover:text-white hover:bg-white/10"}`,children:[a.jsx(QE,{className:"h-7 w-7"}),"Features"]}),a.jsxs(at,{to:"/#pricing",onClick:i=>{i.preventDefault();const l=document.getElementById("pricing");if(l){const u=l.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:u,behavior:"smooth"})}},className:`nav-link flex items-center gap-2 px-4 py-2 text-xl font-bold rounded-xl transition-all ${e?"text-foreground/80 hover:text-primary hover:bg-primary/5":"text-white hover:text-white hover:bg-white/10"}`,children:[a.jsx(zE,{className:"h-7 w-7"}),"Pricing"]}),a.jsxs(at,{to:"/#faq",onClick:i=>{i.preventDefault();const l=document.getElementById("faq");if(l){const u=l.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:u,behavior:"smooth"})}},className:`nav-link flex items-center gap-2 px-4 py-2 text-xl font-bold rounded-xl transition-all ${e?"text-foreground/80 hover:text-primary hover:bg-primary/5":"text-white hover:text-white hover:bg-white/10"}`,children:[a.jsx(Zx,{className:"h-7 w-7"}),"FAQ"]})]}),a.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[a.jsx(at,{to:"/auth",children:a.jsxs(Z,{variant:e?"ghost":"glass",size:"sm",className:`gap-1.5 ${e?"text-foreground":""}`,children:[a.jsx(JE,{className:"h-4 w-4"}),"Log in"]})}),a.jsx(at,{to:"/auth",state:{signup:!0},className:"hidden md:block",children:a.jsxs(Z,{variant:e?"default":"glass-solid",size:"sm",className:"gap-1.5 group",children:["Start Creating",a.jsx(iu,{className:"h-4 w-4 group-hover:translate-x-0.5 transition-transform"})]})})]})]})})})}function wb({imageUrl:e,onClose:t}){return e?a.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-8 cursor-pointer",onClick:t,children:a.jsx("img",{src:e,alt:"Generated thumbnail",className:"max-w-[90vw] max-h-[90vh] object-contain rounded-2xl shadow-2xl shadow-black/50",onClick:r=>r.stopPropagation()})}):null}const yP="/assets/carousel-1-BK4FTt3f.png",vP="/assets/carousel-2-BhayUmH2.png",wP="/assets/carousel-3-YjFFQcij.png",xP="/assets/avatar-1-BJF-DVtB.png",bP="/assets/avatar-2-lw8qFR1c.png",_P="/assets/avatar-3-CiUQ-dOC.png",kP="/assets/avatar-4-YZ-oIXwX.png",SP="/assets/avatar-5-BH4z0IEX.png";function jP(){const[e,t]=h.useState([]);return h.useEffect(()=>{const r=setInterval(()=>{const n=Math.floor(Math.random()*2)+2,s=Array.from({length:n},(o,i)=>({id:Date.now()+i,left:Math.random()*100,top:Math.random()*50,size:Math.random()*2+1}));t(o=>[...o.slice(-10),...s]),setTimeout(()=>{t(o=>o.filter(i=>!s.find(l=>l.id===i.id)))},300)},200);return()=>clearInterval(r)},[]),a.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:e.map(r=>a.jsx("div",{className:"absolute bg-white rounded-full",style:{left:`${r.left}%`,top:`${r.top}%`,width:`${r.size}px`,height:`${r.size}px`,boxShadow:`0 0 ${r.size*4}px ${r.size}px rgba(255,255,255,0.7)`,animation:"flash 0.25s ease-out forwards"}},r.id))})}const $n=[{id:1,src:yP},{id:2,src:vP},{id:3,src:wP}];function EP(){const[e,t]=h.useState(0),[r,n]=h.useState(null),s=()=>{t(l=>(l+1)%$n.length)},o=()=>{t(l=>(l-1+$n.length)%$n.length)};h.useEffect(()=>{const l=setInterval(s,5e3);return()=>clearInterval(l)},[]);const i=l=>{const u=(l-e+$n.length)%$n.length;return u===0?{transform:"translateX(0) scale(1)",opacity:1,zIndex:10}:u===1||u===-2?{transform:"translateX(35%) scale(0.9)",opacity:.3,zIndex:5}:u===$n.length-1||u===-1?{transform:"translateX(-35%) scale(0.9)",opacity:.3,zIndex:5}:{transform:"translateX(0) scale(0.8)",opacity:0,zIndex:0}};return a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-16 overflow-hidden hero-gradient",children:[a.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",style:{backgroundImage:`
            linear-gradient(rgba(255,255,255,0.06) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255,255,255,0.06) 1px, transparent 1px)
          `,backgroundSize:"60px 60px",maskImage:"linear-gradient(to bottom, black 0%, black 50%, transparent 70%)",WebkitMaskImage:"linear-gradient(to bottom, black 0%, black 50%, transparent 70%)"}}),a.jsx(jP,{}),a.jsx("div",{className:"container relative z-10 px-4 py-20",children:a.jsxs("div",{className:"flex flex-col items-center text-center max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8 animate-fade-in",children:[a.jsxs("div",{className:"flex -space-x-2",children:[a.jsx("img",{src:xP,alt:"Trusted user avatar",className:"w-8 h-8 rounded-full border-2 border-white/50 object-cover"}),a.jsx("img",{src:bP,alt:"Trusted user avatar",className:"w-8 h-8 rounded-full border-2 border-white/50 object-cover"}),a.jsx("img",{src:_P,alt:"Trusted user avatar",className:"w-8 h-8 rounded-full border-2 border-white/50 object-cover"}),a.jsx("img",{src:kP,alt:"Trusted user avatar",className:"w-8 h-8 rounded-full border-2 border-white/50 object-cover"}),a.jsx("img",{src:SP,alt:"Trusted user avatar",className:"w-8 h-8 rounded-full border-2 border-white/50 object-cover"})]}),a.jsxs("span",{className:"text-white/90 text-sm font-medium",children:["Trusted by ",a.jsx("span",{className:"text-white font-bold",children:"100+"})," Developers"]})]}),a.jsxs("h1",{className:"font-display text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-6 animate-slide-up text-white",children:["Your Edge in"," ",a.jsxs("span",{className:"relative inline-block text-white/90 italic",children:["Thumbnail",a.jsxs("svg",{"aria-hidden":"true",className:"pointer-events-none absolute left-0 top-full w-full h-4",style:{marginTop:"0.5px"},viewBox:"0 0 200 10",preserveAspectRatio:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsxs("filter",{id:"chalk",x:"-20%",y:"-45%",width:"140%",height:"190%",children:[a.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.78",numOctaves:"4",result:"noise"}),a.jsx("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"2.9",xChannelSelector:"R",yChannelSelector:"G"})]})}),a.jsx("path",{d:"M2 3.4 C30 0.9, 56 6.6, 92 2.7 S148 4.9, 198 1.8",stroke:"hsl(var(--primary-foreground))",strokeWidth:"4.8",strokeLinecap:"round",strokeOpacity:"0.95",style:{filter:"url(#chalk)"}}),a.jsx("path",{d:"M2 5.9 C30 8.8, 56 2.1, 92 7.3 S148 5.1, 198 8.3",stroke:"hsl(var(--primary-foreground))",strokeWidth:"4.2",strokeLinecap:"round",strokeOpacity:"0.75",style:{filter:"url(#chalk)"}})]})]})," ",a.jsx("span",{className:"text-white",children:"Creation"})]}),a.jsx("p",{className:"text-lg md:text-xl text-white/80 max-w-xl mb-10 animate-slide-up",style:{animationDelay:"0.1s"},children:"Generate stunning, high-converting thumbnails in seconds"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4 animate-slide-up",style:{animationDelay:"0.2s"},children:[a.jsx(at,{to:"/auth",state:{signup:!0},children:a.jsxs(Z,{size:"xl",className:"min-w-[200px] group gap-2 font-semibold text-primary bg-gradient-to-b from-white via-white to-blue-100 border-0 shadow-lg shadow-black/10",children:["Start creating today",a.jsx(iu,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),a.jsx("a",{href:"#features",children:a.jsx(Z,{variant:"glass",size:"xl",className:"min-w-[200px] font-medium",children:"Explore all features"})})]}),a.jsxs("div",{className:"mt-4 w-full max-w-5xl animate-slide-up relative",style:{animationDelay:"0.3s"},children:[a.jsx("div",{className:"relative h-[320px] md:h-[450px] flex items-center justify-center",children:$n.map((l,c)=>a.jsx("div",{className:"absolute w-[80%] md:w-[70%] transition-all duration-500 ease-out",style:i(c),children:a.jsxs("button",{type:"button",onClick:()=>n(l.src),className:"relative w-full rounded-2xl overflow-hidden shadow-2xl shadow-black/30 border border-white/20 cursor-pointer hover:opacity-95 transition-opacity focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background",style:{transform:"perspective(1000px) rotateX(5deg) rotateY(-2deg)",transformOrigin:"center center"},children:[a.jsx("img",{src:l.src,alt:`Thumbnail example ${l.id}`,className:"w-full aspect-video object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/10 to-transparent pointer-events-none"})]})},l.id))}),a.jsx("button",{onClick:o,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 h-10 w-10 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:a.jsx($E,{className:"h-5 w-5"})}),a.jsx("button",{onClick:s,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 h-10 w-10 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:a.jsx(hp,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex justify-center gap-2 mt-6",children:$n.map((l,c)=>a.jsx("button",{onClick:()=>t(c),className:`h-2 rounded-full transition-all ${c===e?"w-6 bg-white":"w-2 bg-white/40 hover:bg-white/60"}`},c))})]})]})}),a.jsx(wb,{imageUrl:r,onClose:()=>n(null)})]})}const CP=[{icon:dC,title:"Describe & Generate",description:"Type what you want. Get stunning thumbnails in seconds.",color:"bg-blue-500/10 text-blue-600"},{icon:$h,title:"Upload & Transform",description:"Drop your screenshots. We'll make them click-worthy.",color:"bg-purple-500/10 text-purple-600"},{icon:YE,title:"Roblox-Optimized",description:"Perfect dimensions for icons, thumbnails & banners.",color:"bg-green-500/10 text-green-600"},{icon:Es,title:"Team Collaboration",description:"Share projects with your team. Create together in real-time.",color:"bg-yellow-500/10 text-yellow-600"},{icon:UE,title:"Save Hours",description:"2+ hours  2 minutes. Focus on your game instead.",color:"bg-pink-500/10 text-pink-600"},{icon:Gs,title:"Fresh Ideas",description:"Trending styles & compositions that convert players.",color:"bg-indigo-500/10 text-indigo-600"}];function NP(){return a.jsx("section",{id:"features",className:"py-16 bg-white relative",children:a.jsxs("div",{className:"container px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("span",{className:"inline-flex items-center gap-1.5 text-primary font-semibold text-sm uppercase tracking-wider mb-3 bg-primary/10 px-3 py-1 rounded-full",children:[a.jsx(Gs,{className:"h-3.5 w-3.5"}),"Features"]}),a.jsxs("h2",{className:"font-display text-3xl md:text-5xl font-bold mb-4 text-foreground",children:["Everything to"," ",a.jsx("span",{className:"gradient-text",children:"Stand Out"})]}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-lg mx-auto",children:"Built by Roblox devs, for Roblox devs."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto",children:CP.map((e,t)=>a.jsxs("div",{className:"group p-6 rounded-2xl bg-white border border-border/50 hover:border-primary/30 hover:shadow-xl hover:shadow-primary/5 transition-all duration-300",children:[a.jsx("div",{className:`h-12 w-12 rounded-xl ${e.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:a.jsx(e.icon,{className:"h-6 w-6"})}),a.jsx("h3",{className:"font-display text-lg font-semibold mb-2 text-foreground",children:e.title}),a.jsx("p",{className:"text-muted-foreground text-sm",children:e.description})]},t))})]})})}var tn=function(){return tn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},tn.apply(this,arguments)};function yi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function RP(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function TP(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}const PP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ap extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class AP extends Ap{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hy extends Ap{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fy extends Ap{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gh||(Gh={}));class OP{constructor(t,{headers:r={},customFetch:n,region:s=Gh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=PP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return RP(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let p={},{region:m}=n;m||(m=this.region);const b=new URL(`${this.url}/${r}`);m&&m!=="any"&&(p["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(p["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(p["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let x=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(x=i.signal,d.addEventListener("abort",()=>i.abort())):x=i.signal);const w=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:y,signal:x}).catch(k=>{throw new AP(k)}),g=w.headers.get("x-relay-error");if(g&&g==="true")throw new hy(w);if(!w.ok)throw new fy(w);let v=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield w.json():v==="application/octet-stream"||v==="application/pdf"?_=yield w.blob():v==="text/event-stream"?_=w:v==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof fy||l instanceof hy?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var IP=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},MP=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,l=null,c=null,u=o.status,d=o.statusText;if(o.ok){var f,p;if(r.method!=="HEAD"){var m;const w=await o.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=w:l=JSON.parse(w))}const y=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");y&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(i={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const y=await o.text();try{i=JSON.parse(y),Array.isArray(i)&&o.status===404&&(l=[],i=null,u=200,d="OK")}catch{o.status===404&&y===""?(u=204,d="No Content"):i={message:y}}if(i&&r.isMaybeSingle&&(!(i==null||(b=i.details)===null||b===void 0)&&b.includes("0 rows"))&&(i=null,u=200,d="OK"),i&&r.shouldThrowOnError)throw new IP(i)}return{error:i,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let l="";const c=o==null?void 0:o.cause;if(c){var u,d,f,p;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",y=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,l+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${b}`,y&&(l+=` (${y})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},DP=class extends MP{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const py=new RegExp("[,()]");var yo=class extends DP{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&py.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&py.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},$P=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new yo({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((i,l)=>i.concat(Object.keys(l)),[]);if(o.length>0){const i=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",i.join(","))}}return new yo({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new yo({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new yo({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new yo({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},LP=class xb{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $P(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{c.searchParams.append(f,p)})):(l="POST",u=r);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new yo({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class FP{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const UP="2.89.0",zP=`realtime-js/${UP}`,bb="1.0.0",BP="2.0.0",my=bb,Yh=1e4,WP=1e3,HP=100;var Bn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bn||(Bn={}));var dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(dt||(dt={}));var Mr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mr||(Mr={}));var Qh;(function(e){e.websocket="websocket"})(Qh||(Qh={}));var Cs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Cs||(Cs={}));class VP{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let b=new DataView(m),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,c.length),b.setUint8(y++,l.length),b.setUint8(y++,i.length),b.setUint8(y++,u.length),b.setUint8(y++,f.length),b.setUint8(y++,r),Array.from(c,w=>b.setUint8(y++,w.charCodeAt(0))),Array.from(l,w=>b.setUint8(y++,w.charCodeAt(0))),Array.from(i,w=>b.setUint8(y++,w.charCodeAt(0))),Array.from(u,w=>b.setUint8(y++,w.charCodeAt(0))),Array.from(f,w=>b.setUint8(y++,w.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,l,c]=n;return r({join_ref:s,ref:o,topic:i,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+o));c=c+o;const f=n.decode(t.slice(c,c+i));c=c+i;const p=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,b={type:this.BROADCAST_EVENT,event:d,payload:m};return i>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class _b{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(We||(We={}));const gy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=KP(i,e,t,s),o),{}):{}},KP=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?kb(o,i):Jh(i)},kb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return QP(t,r)}switch(e){case We.bool:return qP(t);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return GP(t);case We.json:case We.jsonb:return YP(t);case We.timestamp:return JP(t);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Jh(t);default:return Jh(t)}},Jh=e=>e,qP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},QP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>kb(t,l))}return e},JP=e=>typeof e=="string"?e.replace(" ","T"):e,Sb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class xd{constructor(t,r,n={},s=Yh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yy||(yy={}));class Qi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Qi.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qi.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const p=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),y=f.filter(x=>p.indexOf(x.presence_ref)<0);b.length>0&&(l[u]=b),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),p=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vy||(vy={}));var Ji;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ji||(Ji={}));var mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mn||(mn={}));class Ao{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xd(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new _b(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Qi(this),this.broadcastEndpointURL=Sb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ji.PRESENCE]&&this.bindings[Ji.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(mn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(mn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(mn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(b=y==null?void 0:y.length)!==null&&b!==void 0?b:0,w=[];for(let g=0;g<x;g++){const v=y[g],{filter:{event:_,schema:k,table:S,filter:j}}=v,C=m&&m[g];if(C&&C.event===_&&Ao.isFilterValueEqual(C.schema,k)&&Ao.isFilterValueEqual(C.table,S)&&Ao.isFilterValueEqual(C.filter,j))w.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),this.state=dt.errored,t==null||t(mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(mn.SUBSCRIBED);return}}).receive("error",m=>{this.state=dt.errored,t==null||t(mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===dt.joined&&t===Ji.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new xd(this,Mr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xd(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>HP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Mr;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,y,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(y=m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(p,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var b,y,x,w,g,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,k=(b=m.filter)===null||b===void 0?void 0:b.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(g=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:y,table:x,commit_timestamp:w,type:g,errors:v}=b;p=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:w,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(b))}m.callback(p,n)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Ao.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mr.close,{},t)}_onError(t){this._on(Mr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gy(t.columns,t.old_record)),r}}const bd=()=>{},kl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XP=[1e3,2e3,5e3,1e4],ZP=1e4,eA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yh,this.transport=null,this.heartbeatIntervalMs=kl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bd,this.ref=0,this.reconnectTimer=null,this.vsn=my,this.logger=bd,this.conn=null,this.sendBuffer=[],this.serializer=new VP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Qh.websocket}`,this.httpEndpoint=Sb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FP.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bn.connecting:return Cs.Connecting;case Bn.open:return Cs.Open;case Bn.closing:return Cs.Closing;default:return Cs.Closed}}isConnected(){return this.connectionState()===Cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Ao(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(WP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},kl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Bn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bn.open||this.conn.readyState===Bn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:zP};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Mr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _b(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,l,c,u,d,f,p,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Yh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:kl.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:bd,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:my,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>XP[b-1]||ZP,this.vsn){case bb:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,y)=>y(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,y)=>y(JSON.parse(b));break;case BP:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var _a=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rA(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function nA(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function sA(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const l=rA(e.baseUrl,n,s),c=await nA(e.auth),u=await t(l,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),p=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?p:void 0,b=m==null?void 0:m.error;throw new _a((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:u.status,headers:u.headers,data:p}}}}function Sl(e){return e.join("")}var oA=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Sl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sl(e.namespace)}`}),!0}catch(t){if(t instanceof _a&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof _a&&r.status===409)return;throw r}}};function io(e){return e.join("")}var iA=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof _a&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof _a&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},aA=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=sA({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new oA(this.client,t),this.tableOps=new iA(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},vu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var lA=class extends vu{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xh=class extends vu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Op=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cA=()=>Response,Zh=e=>{if(Array.isArray(e))return e.map(r=>Zh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Zh(n)}),t},uA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dA=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ka(e){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(e)}function hA(e,t){if(ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fA(e){var t=hA(e,"string");return ka(t)=="symbol"?t:t+""}function pA(e,t,r){return(t=fA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(n){pA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const _d=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},mA=async(e,t,r)=>{e instanceof await cA()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,o=(n==null?void 0:n.statusCode)||s+"";t(new lA(_d(n),s,o))}).catch(n=>{t(new Xh(_d(n),n))}):t(new Xh(_d(e),e))},gA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(uA(n)?(s.headers=xe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),xe(xe({},s),r))};async function Ka(e,t,r,n,s,o){return new Promise((i,l)=>{e(r,gA(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>mA(c,l,n))})}async function Sa(e,t,r,n){return Ka(e,"GET",t,r,n)}async function Pr(e,t,r,n,s){return Ka(e,"POST",t,n,s,r)}async function ef(e,t,r,n,s){return Ka(e,"PUT",t,n,s,r)}async function yA(e,t,r,n){return Ka(e,"HEAD",t,xe(xe({},r),{},{noResolveJson:!0}),n)}async function Ip(e,t,r,n,s){return Ka(e,"DELETE",t,n,s,r)}var vA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}};let jb;jb=Symbol.toStringTag;var wA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[jb]="BlobDownloadBuilder",this.promise=null}asStream(){return new vA(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}};const xA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var bA=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Op(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let o;const i=xe(xe({},xy),n);let l=xe(xe({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(l=xe(xe({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?ef:Pr)(s.fetch,`${s.url}/object/${d}`,o,xe({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),l=new URL(s.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let c;const u=xe({upsert:xy.upsert},n),d=xe(xe({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:o,fullPath:(await ef(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=xe({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await Pr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),l=i.searchParams.get("token");if(!l)throw new vu("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Pr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Pr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),o=await Pr(n.fetch,`${n.url}/object/sign/${s}`,xe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Pr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>xe(xe({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(e),i=()=>Sa(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new wA(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Zh(await Sa(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await yA(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n)&&n instanceof Xh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Ip(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=xe(xe(xe({},xA),t),{},{prefix:e||""});return{data:await Pr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=xe({},e);return{data:await Pr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Eb="2.89.0",Cb={"X-Client-Info":`storage-js/${Eb}`};var _A=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=xe(xe({},Cb),t),this.fetch=Op(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Sa(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Sa(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Pr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await ef(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Pr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ip(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},kA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=xe(xe({},Cb),t),this.fetch=Op(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Pr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Sa(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ip(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!dA(e))throw new vu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new aA({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...l)=>{try{return{data:await i.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Mp={"X-Client-Info":`storage-js/${Eb}`,"Content-Type":"application/json"};var Nb=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function er(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var kd=class extends Nb{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},SA=class extends Nb{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Dp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},by=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EA=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";t(new kd(by(o),n,i))}).catch(()=>{const o=n+"";t(new kd(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";t(new kd(s.statusText||`HTTP ${n} error`,n,o))}}else t(new SA(by(e),e))},CA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(jA(n)?(s.headers=xe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,xe(xe({},s),r)):s};async function NA(e,t,r,n,s,o){return new Promise((i,l)=>{e(r,CA(t,n,s,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>EA(c,l,n))})}async function tr(e,t,r,n,s){return NA(e,"POST",t,n,s,r)}var RA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=xe(xe({},Mp),t),this.fetch=Dp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await tr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await tr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}},TA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=xe(xe({},Mp),t),this.fetch=Dp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await tr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await tr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await tr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}},PA=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=xe(xe({},Mp),t),this.fetch=Dp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await tr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}},AA=class extends PA{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new OA(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},OA=class extends RA{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,xe(xe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,xe(xe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new IA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},IA=class extends TA{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,xe(xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,xe(xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,xe(xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,xe(xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,xe(xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},MA=class extends _A{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new bA(this.url,this.headers,e,this.fetch)}get vectors(){return new AA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kA(this.url+"/iceberg",this.headers,this.fetch)}};const Rb="2.89.0",vo=30*1e3,tf=3,Sd=tf*vo,DA="http://localhost:9999",$A="supabase.auth.token",LA={"X-Client-Info":`gotrue-js/${Rb}`},rf="X-Supabase-Api-Version",Tb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,UA=10*60*1e3;class ja extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zA extends ja{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function BA(e){return ue(e)&&e.name==="AuthApiError"}class Ns extends ja{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class On extends ja{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Jt extends On{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WA(e){return ue(e)&&e.name==="AuthSessionMissingError"}class ao extends On{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jl extends On{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class El extends On{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HA(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class _y extends On{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class VA extends On{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nf extends On{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function jd(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class ky extends On{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sf extends On{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sy=` 	
\r=`.split(""),KA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sy.length;t+=1)e[Sy[t].charCodeAt(0)]=-2;for(let t=0;t<Nc.length;t+=1)e[Nc[t].charCodeAt(0)]=t;return e})();function jy(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Nc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Nc[n]),t.queuedBits-=6}}function Pb(e,t,r){const n=KA[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ey(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{YA(i,n,r)};for(let i=0;i<e.length;i+=1)Pb(e.charCodeAt(i),s,o);return t.join("")}function qA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GA(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qA(n,t)}}function YA(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Pb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function QA(e){const t=[];return GA(e,r=>t.push(r)),new Uint8Array(t)}function As(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>jy(s,r,n)),jy(null,r,n),t.join("")}function JA(e){return Math.round(Date.now()/1e3)+e}function XA(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",bs={tested:!1,writable:!1},Ab=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bs.tested)return bs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bs.tested=!0,bs.writable=!0}catch{bs.tested=!0,bs.writable=!1}return bs.writable};function ZA(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ob=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_s=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vt=async(e,t)=>{await e.removeItem(t)};class wu{constructor(){this.promise=new wu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wu.promiseConstructor=Promise;function Ed(e){const t=e.split(".");if(t.length!==3)throw new sf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!FA.test(t[n]))throw new sf("JWT not in base64url format");return{header:JSON.parse(Ey(t[0])),payload:JSON.parse(Ey(t[1])),signature:zo(t[2]),raw:{header:t[0],payload:t[1]}}}async function tO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rO(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function nO(e){return("0"+e.toString(16)).substr(-2)}function sO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,nO).join("")}async function oO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function iO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await oO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lo(e,t,r=!1){const n=sO();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await wo(e,`${t}-code-verifier`,s);const o=await iO(n);return[o,n===o?"plain":"s256"]}const aO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lO(e){const t=e.headers.get(rf);if(!t||!t.match(aO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function cO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function co(e){if(!dO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hO(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Cy(e){return JSON.parse(JSON.stringify(e))}const js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fO=[502,503,504];async function Ny(e){var t;if(!eO(e))throw new nf(js(e),0);if(fO.includes(e.status))throw new nf(js(e),e.status);let r;try{r=await e.json()}catch(o){throw new Ns(js(o),o)}let n;const s=lO(e);if(s&&s.getTime()>=Tb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ky(js(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Jt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new ky(js(r),e.status,r.weak_password.reasons);throw new zA(js(r),e.status||500,n)}const pO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function we(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[rf]||(o[rf]=Tb["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await mO(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function mO(e,t,r,n,s,o){const i=pO(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new nf(js(c),0)}if(l.ok||await Ny(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ny(c)}}function Nr(e){var t;let r=null;vO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=JA(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ry(e){const t=Nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function gO(e){return{data:e,error:null}}function yO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=yi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Ty(e){return e}function vO(e){return e.access_token&&e.refresh_token&&e.expires_in}const Nd=["global","local","others"];class wO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ob(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Nd[0]){if(Nd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nd.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yi(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Ty});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){co(t);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){co(t);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){co(t);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){co(t.userId);try{const{data:r,error:n}=await we(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){co(t.userId),co(t.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Ty});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function Py(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const uo={debug:!!(globalThis&&Ab()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ib extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xO extends Ib{}async function bO(e,t,r){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function _O(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kO(e){return parseInt(e,16)}function SO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function jO(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Mb(e.address),b=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${y}`;let w=`URI: ${f}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}w+=g}return`${x}
${w}`}class lt extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Rc extends lt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function EO({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new lt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Db(i)){if(o.rp.id!==i)return new lt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function CO({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new lt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Db(n)){if(r.rpId!==n)return new lt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class NO{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const RO=new NO;function TO(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=yi(e,["challenge","user","excludeCredentials"]),o=zo(t).buffer,i=Object.assign(Object.assign({},r),{id:zo(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:zo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function PO(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=yi(e,["challenge","allowCredentials"]),s=zo(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:zo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function AO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:As(new Uint8Array(e.response.attestationObject)),clientDataJSON:As(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:As(new Uint8Array(s.authenticatorData)),clientDataJSON:As(new Uint8Array(s.clientDataJSON)),signature:As(new Uint8Array(s.signature)),userHandle:s.userHandle?As(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Db(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ay(){var e,t;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function IO(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Rc("Browser returned unexpected credential type",t)}:{data:null,error:new Rc("Empty credential response",t)}}catch(t){return{data:null,error:EO({error:t,options:e})}}}async function MO(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Rc("Browser returned unexpected credential type",t)}:{data:null,error:new Rc("Empty credential response",t)}}catch(t){return{data:null,error:CO({error:t,options:e})}}}const DO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$O={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Tc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const l=n[o];t(l)?n[o]=Tc(l,i):n[o]=Tc(i)}else n[o]=i}return n}function LO(e,t){return Tc(DO,e,t||{})}function FO(e,t){return Tc($O,e,t||{})}class UO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=s??RO.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=LO(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await IO({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=FO(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await MO(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return ue(i)?{data:null,error:i}:{data:null,error:new Ns("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ja("rpId is required for WebAuthn authentication")};try{if(!Ay())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return ue(i)?{data:null,error:i}:{data:null,error:new Ns("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ja("rpId is required for WebAuthn registration")};try{if(!Ay())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return ue(i)?{data:null,error:i}:{data:null,error:new Ns("Unexpected error in register",i)}}}}_O();const zO={url:DA,storageKey:$A,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Oy(e,t,r){return await r()}const ho={};class Ea{get jwks(){var t,r;return(r=(t=ho[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ho[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},zO),t);if(this.storageKey=o.storageKey,this.instanceID=(r=Ea.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ea.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&wt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new wO({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ob(o.fetch),this.lock=o.lock||Oy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bO:this.lock=Oy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new UO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ab()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Py(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Py(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(wt()&&(r=ZA(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),wt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),HA(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?this._returnResult({error:r}):this._returnResult({error:new Ns("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nr}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await lo(this.storage,this.storageKey)),o=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:b},xform:Nr})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Nr})}else throw new jl("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return await vt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ry})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ry})}else throw new jl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new ao;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,l,c,u,d,f,p;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:y,wallet:x,statement:w,options:g}=t;let v;if(wt())if(typeof x=="object")v=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")v=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),k=await v.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Mb(k[0]);let j=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const A=await v.request({method:"eth_chainId"});j=kO(A)}const C={domain:_.host,address:S,statement:w,uri:_.href,version:"1",chainId:j,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=jO(C),b=await v.request({method:"personal_sign",params:[SO(m),S]})}try{const{data:y,error:x}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Nr});if(x)throw x;if(!y||!y.session||!y.user){const w=new ao;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(ue(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,s,o,i,l,c,u,d,f,p,m;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:x,wallet:w,statement:g,options:v}=t;let _;if(wt())if(typeof w=="object")_=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const k=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),g?{statement:g}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:x,error:w}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:As(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Nr});if(w)throw w;if(!x||!x.session||!x.user){const g=new ao;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(ue(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await _s(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new VA;const{data:o,error:i}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Nr});if(await vt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new ao;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ao;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await lo(this.storage,this.storageKey));const{error:f}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new jl("You must provide either an email or phone number.")}catch(l){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Nr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await lo(this.storage,this.storageKey));const u=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:gO});return!((o=u.data)===null||o===void 0)&&o.url&&wt()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Jt;const{error:s}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await we(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await we(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new jl("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await _s(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Cd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=hO(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Vn})})}catch(r){if(ue(r))return WA(r)&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Jt;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await lo(this.storage,this.storageKey));const{data:u,error:d}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Vn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Ed(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Jt;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!wt())throw new El("No browser detected.");if(t.error||t.error_description||t.error_code)throw new El(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _y("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new El("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _y("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new El("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const m=p-d;m*1e3<=vo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=p-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:y,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(BA(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=XA(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await lo(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:p}=o;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return wt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Nr}),{data:p,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new ao}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:m}))}catch(s){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await rO(async s=>(s>0&&await tO(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&jd(o)&&Date.now()+i-n<vo})}catch(n){if(this._debug(r,"error",n),ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await _s(this.storage,this.storageKey);if(s&&this.userStorage){let i=await _s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await wo(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Cd()}else if(s&&!s.user&&!s.user){const i=await _s(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await vt(this.storage,this.storageKey+"-user"),await wo(this.storage,this.storageKey,s)):s.user=Cd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sd;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Sd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),jd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Jt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ue(o)){const i={data:null,error:o};return jd(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await vt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Cy(s);await wo(this.storage,this.storageKey,o)}else{const s=Cy(r);await wo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await vt(this.storage,this.storageKey),await vt(this.storage,this.storageKey+"-code-verifier"),await vt(this.storage,this.storageKey+"-user"),this.userStorage&&await vt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/vo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vo}ms, refresh threshold is ${tf} ticks`),s<=tf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ib)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await lo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await we(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await we(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?AO(t.webauthn.credential_response):OO(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:TO(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:PO(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ed(n.access_token);let i=null;o.aal&&(i=o.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Jt});const i=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&wt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Jt});const i=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&wt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jt})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+UA>s)return n;const{data:o,error:i}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});n=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Ed(n);r!=null&&r.allowExpired||cO(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const d=uO(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,QA(`${l}.${c}`)))throw new sf("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}}Ea.nextInstanceID={};const BO=Ea,WO="2.89.0";let $i="";typeof Deno<"u"?$i="deno":typeof document<"u"?$i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$i="react-native":$i="node";const HO={"X-Client-Info":`supabase-js-${$i}/${WO}`},VO={headers:HO},KO={schema:"public"},qO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},GO={};function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function YO(e,t){if(Ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QO(e){var t=YO(e,"string");return Ca(t)=="symbol"?t:t+""}function JO(e,t,r){return(t=QO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iy(Object(r),!0).forEach(function(n){JO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const XO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZO=()=>Headers,eI=(e,t,r)=>{const n=XO(r),s=ZO();return async(o,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,rt(rt({},i),{},{headers:u}))}};function tI(e){return e.endsWith("/")?e:e+"/"}function rI(e,t){var r,n;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,p={db:rt(rt({},c),s),auth:rt(rt({},u),o),realtime:rt(rt({},d),i),storage:{},global:rt(rt(rt({},f),l),{},{headers:rt(rt({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function nI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sI=class extends BO{constructor(e){super(e)}},oI=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const o=nI(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:KO,realtime:GO,auth:rt(rt({},qO),{},{storageKey:i}),global:VO},c=rI(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=eI(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new LP(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new MA(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new OP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:l,debug:c,throwOnError:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sI({url:this.authUrl.href,headers:rt(rt({},p),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tA(this.realtimeUrl.href,rt(rt({},e),{},{params:rt(rt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const iI=(e,t,r)=>new oI(e,t,r);function aI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}aI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lI="https://ksuyuexivvpeorspkuvj.supabase.co",cI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtzdXl1ZXhpdnZwZW9yc3BrdXZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyMzIzODEsImV4cCI6MjA4MTgwODM4MX0.ehX5Nzt8BsWx6-K9bkaftFQ3MwWrnFntZwW0bCYvwIk",W=iI(lI,cI,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),uI=[{name:"Free",icon:Gs,monthlyPrice:0,yearlyPrice:0,period:"forever",description:"Try Out",credits:"3 Credits / Month",features:["Basic quality","16:9 aspect ratio only"],cta:"Start Free",popular:!1,cardStyle:"bg-white border border-border/50 shadow-sm",iconBg:"bg-slate-100",iconColor:"text-slate-600"},{name:"Pro",icon:au,monthlyPrice:12.49,yearlyPrice:9.99,period:"/month",description:"For Developers",credits:"100 Credits / Month",features:["HD quality output","All aspect ratios","Create projects","Priority queue"],cta:"Go Pro",popular:!0,cardStyle:"bg-gradient-to-br from-primary via-blue-600 to-indigo-600 text-white shadow-2xl shadow-primary/30",iconBg:"bg-white/20",iconColor:"text-white"},{name:"Enterprise",icon:Dh,monthlyPrice:49.99,yearlyPrice:39.99,period:"/month",description:"For Studios",credits:"500 Credits / Month",features:["Quality selector (1K/2K/4K)","Group chats & projects (5 users) *NO SHARED CREDITS","Highest priority queue"],cta:"Go Enterprise",popular:!1,cardStyle:"bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-500 text-white shadow-xl shadow-emerald-500/25",iconBg:"bg-white/20",iconColor:"text-white"}];function dI(){const[e,t]=h.useState("yearly"),[r,n]=h.useState(null),s=Wa();h.useEffect(()=>{W.auth.getSession().then(({data:{session:i}})=>{n(!!(i!=null&&i.user))})},[]);const o=i=>{r?s(`/app?showPricing=true&selectedPlan=${i}&billing=${e}`):s("/auth",{state:{signup:!0,plan:i,billing:e}})};return a.jsx("section",{id:"pricing",className:"py-16 bg-background relative",children:a.jsxs("div",{className:"container relative px-4",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("span",{className:"inline-flex items-center gap-1.5 text-primary font-semibold text-sm uppercase tracking-wider mb-3 bg-primary/10 px-3 py-1 rounded-full",children:[a.jsx(au,{className:"h-3.5 w-3.5"}),"Pricing"]}),a.jsxs("h2",{className:"font-display text-3xl md:text-5xl font-bold mb-4 text-foreground",children:["Simple ",a.jsx("span",{className:"gradient-text",children:"Pricing"})]}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-lg mx-auto",children:"Start free. Upgrade when ready. No hidden fees."})]}),a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-16",children:[a.jsx("span",{className:Se("text-lg font-semibold transition-colors",e==="monthly"?"text-foreground":"text-muted-foreground"),children:"Monthly"}),a.jsx("button",{onClick:()=>t(e==="yearly"?"monthly":"yearly"),className:Se("relative w-20 h-10 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50",e==="yearly"?"bg-primary":"bg-muted-foreground/30"),children:a.jsx("span",{className:Se("absolute top-1 w-8 h-8 rounded-full bg-white shadow-md transition-transform duration-200",e==="yearly"?"left-11":"left-1")})}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:Se("text-lg font-semibold transition-colors",e==="yearly"?"text-foreground":"text-muted-foreground"),children:"Yearly"}),a.jsx("span",{className:"absolute -top-5 -right-4 px-2 py-0.5 text-[10px] font-bold bg-gradient-to-r from-primary to-blue-600 text-primary-foreground rounded-full whitespace-nowrap",children:"Save 20%"})]})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto items-center pt-8 overflow-visible",children:uI.map((i,l)=>{const c=e==="yearly"?i.yearlyPrice:i.monthlyPrice,u=i.name!=="Free",d=i.name==="Free";return a.jsxs("div",{className:`relative rounded-2xl p-6 transition-all duration-300 hover:-translate-y-1 overflow-visible ${i.cardStyle} ${i.popular?"md:scale-110 md:py-8 z-10":""}`,children:[i.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 z-20",children:a.jsx("span",{className:"px-4 py-1.5 bg-white text-primary text-xs font-bold rounded-full shadow-lg border border-primary/20 whitespace-nowrap",children:"MOST POPULAR"})}),!i.popular&&i.name==="Free"&&a.jsx("div",{className:"absolute -top-12 -right-12 w-32 h-32 rounded-full bg-gradient-to-br from-slate-100 to-slate-50 opacity-60 blur-2xl"}),a.jsxs("div",{className:`relative ${i.popular?"mt-4":""}`,children:[a.jsx("div",{className:`h-10 w-10 rounded-lg ${i.iconBg} flex items-center justify-center mb-3`,children:a.jsx(i.icon,{className:`h-5 w-5 ${i.iconColor}`})}),a.jsx("h3",{className:`font-display text-lg font-semibold ${i.popular||i.name==="Enterprise"?"text-white":d?"!text-black":"text-foreground"}`,children:i.name}),a.jsx("p",{className:`text-sm ${i.popular||i.name==="Enterprise"?"text-white/70":d?"!text-slate-600":"text-muted-foreground"}`,children:i.description})]}),a.jsxs("div",{className:"relative mb-4 mt-4",children:[a.jsxs("span",{className:`font-display text-4xl font-bold ${i.popular||i.name==="Enterprise"?"text-white":d?"!text-black":"text-foreground"}`,children:["$",c.toFixed(2)]}),a.jsx("span",{className:i.popular||i.name==="Enterprise"?"text-white/70":d?"!text-slate-600":"text-muted-foreground",children:i.name==="Free"?" forever":"/month"}),u&&e==="yearly"&&a.jsx("p",{className:`text-xs mt-1 ${i.popular||i.name==="Enterprise"?"text-white/60":"text-muted-foreground"}`,children:"billed annually"}),a.jsx("p",{className:`text-sm mt-1 font-semibold ${i.popular||i.name==="Enterprise"?"text-white/90":"text-primary"}`,children:i.credits})]}),a.jsx("ul",{className:"relative space-y-2 mb-6",children:i.features.map((f,p)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:`h-4 w-4 mt-0.5 flex-shrink-0 ${i.popular||i.name==="Enterprise"?"text-white":"text-primary"}`}),a.jsx("span",{className:`text-sm ${i.popular||i.name==="Enterprise"?"text-white/80":d?"!text-slate-600":"text-muted-foreground"}`,children:f})]},p))}),a.jsx(Z,{variant:i.popular||i.name==="Enterprise"?"white":d?"outline":"default",size:"lg",className:Se("w-full relative",d&&"!border-slate-300 !text-black hover:!bg-slate-100"),onClick:()=>o(i.name.toLowerCase()),children:i.cta})]},l)})})]})})}var xu="Collapsible",[hI,$b]=xr(xu),[fI,$p]=hI(xu),Lb=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c,u]=Pn({prop:n,defaultProp:s??!1,onChange:i,caller:xu});return a.jsx(fI,{scope:r,disabled:o,contentId:as(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Ne.div,{"data-state":zp(c),"data-disabled":o?"":void 0,...l,ref:t})})});Lb.displayName=xu;var Fb="CollapsibleTrigger",Lp=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=$p(Fb,r);return a.jsx(Ne.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":zp(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:ce(e.onClick,s.onOpenToggle)})});Lp.displayName=Fb;var Fp="CollapsibleContent",Up=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=$p(Fp,e.__scopeCollapsible);return a.jsx(br,{present:r||s.open,children:({present:o})=>a.jsx(pI,{...n,ref:t,present:o})})});Up.displayName=Fp;var pI=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=$p(Fp,r),[l,c]=h.useState(n),u=h.useRef(null),d=Be(t,u),f=h.useRef(0),p=f.current,m=h.useRef(0),b=m.current,y=i.open||l,x=h.useRef(y),w=h.useRef(void 0);return h.useEffect(()=>{const g=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(g)},[]),an(()=>{const g=u.current;if(g){w.current=w.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const v=g.getBoundingClientRect();f.current=v.height,m.current=v.width,x.current||(g.style.transitionDuration=w.current.transitionDuration,g.style.animationName=w.current.animationName),c(n)}},[i.open,n]),a.jsx(Ne.div,{"data-state":zp(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!y,...o,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:y&&s})});function zp(e){return e?"open":"closed"}var Ub=Lb,mI=Lp,gI=Up,yI=h.createContext(void 0);function Bp(e){const t=h.useContext(yI);return e||t||"ltr"}var Wr="Accordion",vI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Wp,wI,xI]=tu(Wr),[bu,O5]=xr(Wr,[xI,$b]),Hp=$b(),zb=L.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,o=n;return a.jsx(Wp.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(SI,{...o,ref:t}):a.jsx(kI,{...s,ref:t})})});zb.displayName=Wr;var[Bb,bI]=bu(Wr),[Wb,_I]=bu(Wr,{collapsible:!1}),kI=L.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=Pn({prop:r,defaultProp:n??"",onChange:s,caller:Wr});return a.jsx(Bb,{scope:e.__scopeAccordion,value:L.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:L.useCallback(()=>o&&c(""),[o,c]),children:a.jsx(Wb,{scope:e.__scopeAccordion,collapsible:o,children:a.jsx(Hb,{...i,ref:t})})})}),SI=L.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i,l]=Pn({prop:r,defaultProp:n??[],onChange:s,caller:Wr}),c=L.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=L.useCallback(d=>l((f=[])=>f.filter(p=>p!==d)),[l]);return a.jsx(Bb,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:a.jsx(Wb,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(Hb,{...o,ref:t})})})}),[jI,_u]=bu(Wr),Hb=L.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...i}=e,l=L.useRef(null),c=Be(l,t),u=wI(r),f=Bp(s)==="ltr",p=ce(e.onKeyDown,m=>{var C;if(!vI.includes(m.key))return;const b=m.target,y=u().filter(A=>{var $;return!(($=A.ref.current)!=null&&$.disabled)}),x=y.findIndex(A=>A.ref.current===b),w=y.length;if(x===-1)return;m.preventDefault();let g=x;const v=0,_=w-1,k=()=>{g=x+1,g>_&&(g=v)},S=()=>{g=x-1,g<v&&(g=_)};switch(m.key){case"Home":g=v;break;case"End":g=_;break;case"ArrowRight":o==="horizontal"&&(f?k():S());break;case"ArrowDown":o==="vertical"&&k();break;case"ArrowLeft":o==="horizontal"&&(f?S():k());break;case"ArrowUp":o==="vertical"&&S();break}const j=g%w;(C=y[j].ref.current)==null||C.focus()});return a.jsx(jI,{scope:r,disabled:n,direction:s,orientation:o,children:a.jsx(Wp.Slot,{scope:r,children:a.jsx(Ne.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:p})})})}),Pc="AccordionItem",[EI,Vp]=bu(Pc),Vb=L.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,o=_u(Pc,r),i=bI(Pc,r),l=Hp(r),c=as(),u=n&&i.value.includes(n)||!1,d=o.disabled||e.disabled;return a.jsx(EI,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(Ub,{"data-orientation":o.orientation,"data-state":Jb(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});Vb.displayName=Pc;var Kb="AccordionHeader",qb=L.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=_u(Wr,r),o=Vp(Kb,r);return a.jsx(Ne.h3,{"data-orientation":s.orientation,"data-state":Jb(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});qb.displayName=Kb;var of="AccordionTrigger",Gb=L.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=_u(Wr,r),o=Vp(of,r),i=_I(of,r),l=Hp(r);return a.jsx(Wp.ItemSlot,{scope:r,children:a.jsx(mI,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...n,ref:t})})});Gb.displayName=of;var Yb="AccordionContent",Qb=L.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=_u(Wr,r),o=Vp(Yb,r),i=Hp(r);return a.jsx(gI,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Qb.displayName=Yb;function Jb(e){return e?"open":"closed"}var CI=zb,NI=Vb,RI=qb,Xb=Gb,Zb=Qb;const TI=CI,e1=h.forwardRef(({className:e,...t},r)=>a.jsx(NI,{ref:r,className:Se("border-b",e),...t}));e1.displayName="AccordionItem";const t1=h.forwardRef(({className:e,children:t,...r},n)=>a.jsx(RI,{className:"flex",children:a.jsxs(Xb,{ref:n,className:Se("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Xx,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));t1.displayName=Xb.displayName;const r1=h.forwardRef(({className:e,children:t,...r},n)=>a.jsx(Zb,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:Se("pb-4 pt-0",e),children:t})}));r1.displayName=Zb.displayName;const PI=[{question:"How do I get the best results?",answer:"Always add reference images. References help the AI understand your style, colors, and vibe. The more specific your references, the better your thumbnails will turn out."},{question:"How does the credit system work?",answer:"Basic, HD, and 1K cost 1 credit. 2K costs 2 credits. 4K costs 4 credits. Unused credits roll over each month. You can check your balance anytime in the dashboard."},{question:"What aspect ratios are available?",answer:"We support 16:9 for thumbnails and 1:1 for icons. Pick the one that fits your use case."},{question:"How do I contact support?",answer:"Email us at support@rothumbs.com. We typically respond within 24 hours on business days. Join our Discord server for community support."}];function AI(){return a.jsx("section",{id:"faq",className:"py-16 bg-white relative",children:a.jsxs("div",{className:"container px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("span",{className:"inline-flex items-center gap-1.5 text-primary font-semibold text-sm uppercase tracking-wider mb-3 bg-primary/10 px-3 py-1 rounded-full",children:[a.jsx(Zx,{className:"h-3.5 w-3.5"}),"FAQ"]}),a.jsxs("h2",{className:"font-display text-3xl md:text-5xl font-bold mb-4 text-foreground",children:["Got ",a.jsx("span",{className:"gradient-text",children:"Questions?"})]})]}),a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsx(TI,{type:"single",collapsible:!0,className:"space-y-3",children:PI.map((e,t)=>a.jsxs(e1,{value:`item-${t}`,className:"bg-secondary/30 rounded-xl border-none px-6 overflow-hidden",children:[a.jsx(t1,{className:"text-left font-display font-semibold hover:no-underline hover:text-primary transition-colors py-4 text-foreground",children:e.question}),a.jsx(r1,{className:"text-muted-foreground pb-4 text-sm",children:e.answer})]},t))})})]})})}const OI="/assets/cta-thumbnail-e0P9HPlk.png";function II(){return a.jsx("section",{className:"py-16 px-4 bg-background",children:a.jsx("div",{className:"container max-w-5xl mx-auto",children:a.jsxs("div",{className:"relative rounded-3xl overflow-hidden bg-gradient-to-br from-primary via-blue-600 to-blue-700 p-8 md:p-12",children:[a.jsx("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:`
                linear-gradient(rgba(255,255,255,0.25) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.25) 1px, transparent 1px)
              `,backgroundSize:"40px 40px"}}),a.jsxs("div",{className:"relative flex flex-col lg:flex-row items-center gap-8",children:[a.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-1.5 rounded-full mb-4",children:[a.jsx(Gs,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"text-white text-sm font-semibold",children:"AI-Powered"})]}),a.jsx("h2",{className:"font-display text-2xl md:text-4xl font-bold mb-6 text-white",children:"Create High-Quality Thumbnails in Seconds"}),a.jsx(at,{to:"/auth",state:{signup:!0},children:a.jsxs(Z,{size:"lg",className:"group gap-2 font-semibold text-primary bg-gradient-to-b from-white via-white to-blue-100 border-0 shadow-lg shadow-black/10",children:["Start creating now",a.jsx(iu,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),a.jsx("div",{className:"flex-1 w-full max-w-md",children:a.jsx("div",{className:"relative rounded-xl overflow-hidden border border-white/20 shadow-2xl",style:{transform:"perspective(1000px) rotateX(3deg) rotateY(-5deg)"},children:a.jsx("img",{src:OI,alt:"AI Generated Thumbnail Example",className:"w-full h-auto"})})})]})]})})})}const MI="/assets/discord-icon-H164xuUs.png",DI="/assets/x-icon-MFct_M4Z.png";function qa(){return a.jsx("footer",{className:"py-6 bg-white border-t border-border/30",children:a.jsx("div",{className:"container px-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs(at,{to:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-blue-600 shadow-md shadow-primary/20",children:a.jsx("img",{src:Qs,alt:"RoThumbs",className:"h-5 w-5"})}),a.jsx("span",{className:"font-display text-base font-bold text-foreground",children:"RoThumbs"})]}),a.jsxs("div",{className:"flex items-center gap-5 text-sm text-muted-foreground",children:[a.jsx(at,{to:"/privacy",className:"hover:text-primary transition-colors",children:"Privacy Policy"}),a.jsx(at,{to:"/terms",className:"hover:text-primary transition-colors",children:"Terms of Use"}),a.jsx(at,{to:"/cookies",className:"hover:text-primary transition-colors",children:"Cookie Policy"}),a.jsx(at,{to:"/contact",className:"hover:text-primary transition-colors",children:"Contact Us"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:"https://x.com/RoThumbsDotCom",target:"_blank",rel:"noopener noreferrer",className:"h-8 w-8 flex items-center justify-center rounded-lg bg-secondary/50 hover:bg-primary/10 transition-colors",children:a.jsx("img",{src:DI,alt:"X",className:"h-4 w-4"})}),a.jsx("a",{href:"https://discord.gg/rothumbs",target:"_blank",rel:"noopener noreferrer",className:"h-8 w-8 flex items-center justify-center rounded-lg bg-secondary/50 hover:bg-primary/10 transition-colors",children:a.jsx("img",{src:MI,alt:"Discord",className:"h-4 w-4"})})]})]})})})}const $I=()=>{const e=Wa();return h.useEffect(()=>{const t=window.document.documentElement,r=t.classList.contains("dark")?"dark":"light";return t.classList.remove("dark"),t.classList.add("light"),()=>{r==="dark"&&(t.classList.remove("light"),t.classList.add("dark"))}},[]),h.useEffect(()=>{if(sessionStorage.getItem("has-visited-home"))return;const r=()=>{sessionStorage.setItem("has-visited-home","true"),W.auth.getSession().then(({data:{session:n}})=>{n!=null&&n.user&&e("/app",{replace:!0})})};"requestIdleCallback"in window?requestIdleCallback(r):setTimeout(r,100)},[e]),a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Va,{}),a.jsx(EP,{}),a.jsx(NP,{}),a.jsx(dI,{}),a.jsx(AI,{}),a.jsx(II,{}),a.jsx(qa,{})]})},mt=h.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));mt.displayName="Input";var Rd="focusScope.autoFocusOnMount",Td="focusScope.autoFocusOnUnmount",My={bubbles:!1,cancelable:!0},LI="FocusScope",Kp=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=ir(s),d=ir(o),f=h.useRef(null),p=Be(t,y=>c(y)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let y=function(v){if(m.paused||!l)return;const _=v.target;l.contains(_)?f.current=_:Fn(f.current,{select:!0})},x=function(v){if(m.paused||!l)return;const _=v.relatedTarget;_!==null&&(l.contains(_)||Fn(f.current,{select:!0}))},w=function(v){if(document.activeElement===document.body)for(const k of v)k.removedNodes.length>0&&Fn(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const g=new MutationObserver(w);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),g.disconnect()}}},[n,l,m.paused]),h.useEffect(()=>{if(l){$y.add(m);const y=document.activeElement;if(!l.contains(y)){const w=new CustomEvent(Rd,My);l.addEventListener(Rd,u),l.dispatchEvent(w),w.defaultPrevented||(FI(HI(n1(l)),{select:!0}),document.activeElement===y&&Fn(l))}return()=>{l.removeEventListener(Rd,u),setTimeout(()=>{const w=new CustomEvent(Td,My);l.addEventListener(Td,d),l.dispatchEvent(w),w.defaultPrevented||Fn(y??document.body,{select:!0}),l.removeEventListener(Td,d),$y.remove(m)},0)}}},[l,u,d,m]);const b=h.useCallback(y=>{if(!r&&!n||m.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(x&&w){const g=y.currentTarget,[v,_]=UI(g);v&&_?!y.shiftKey&&w===_?(y.preventDefault(),r&&Fn(v,{select:!0})):y.shiftKey&&w===v&&(y.preventDefault(),r&&Fn(_,{select:!0})):w===g&&y.preventDefault()}},[r,n,m.paused]);return a.jsx(Ne.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});Kp.displayName=LI;function FI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fn(n,{select:t}),document.activeElement!==r)return}function UI(e){const t=n1(e),r=Dy(t,e),n=Dy(t.reverse(),e);return[r,n]}function n1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Dy(e,t){for(const r of e)if(!zI(r,{upTo:t}))return r}function zI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function BI(e){return e instanceof HTMLInputElement&&"select"in e}function Fn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&BI(e)&&t&&e.select()}}var $y=WI();function WI(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ly(e,t),e.unshift(t)},remove(t){var r;e=Ly(e,t),(r=e[0])==null||r.resume()}}}function Ly(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function HI(e){return e.filter(t=>t.tagName!=="A")}var Pd=0;function s1(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Fy()),document.body.insertAdjacentElement("beforeend",e[1]??Fy()),Pd++,()=>{Pd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pd--}},[])}function Fy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ql="right-scroll-bar-position",Jl="width-before-scroll-bar",VI="with-scroll-bars-hidden",KI="--removed-body-scroll-bar-size";function Ad(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qI(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var GI=typeof window<"u"?h.useLayoutEffect:h.useEffect,Uy=new WeakMap;function YI(e,t){var r=qI(null,function(n){return e.forEach(function(s){return Ad(s,n)})});return GI(function(){var n=Uy.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||Ad(l,null)}),o.forEach(function(l){s.has(l)||Ad(l,i)})}Uy.set(r,e)},[e]),r}function QI(e){return e}function JI(e,t){t===void 0&&(t=QI);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function XI(e){e===void 0&&(e={});var t=JI(null);return t.options=tn({async:!0,ssr:!1},e),t}var o1=function(e){var t=e.sideCar,r=yi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,tn({},r))};o1.isSideCarExport=!0;function ZI(e,t){return e.useMedium(t),o1}var i1=XI(),Od=function(){},ku=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:Od,onWheelCapture:Od,onTouchMoveCapture:Od}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,m=e.noRelative,b=e.noIsolation,y=e.inert,x=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,v=e.gapMode,_=yi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,S=YI([r,t]),j=tn(tn({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(k,{sideCar:i1,removeScrollBar:u,shards:f,noRelative:m,noIsolation:b,inert:y,setCallbacks:o,allowPinchZoom:!!x,lockRef:r,gapMode:v}),i?h.cloneElement(h.Children.only(l),tn(tn({},j),{ref:S})):h.createElement(g,tn({},j,{className:c,ref:S}),l))});ku.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ku.classNames={fullWidth:Jl,zeroRight:Ql};var e4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=e4();return t&&e.setAttribute("nonce",t),e}function r4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function n4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var s4=function(){var e=0,t=null;return{add:function(r){e==0&&(t=t4())&&(r4(t,r),n4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},o4=function(){var e=s4();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},a1=function(){var e=o4(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},i4={left:0,top:0,right:0,gap:0},Id=function(e){return parseInt(e||"",10)||0},a4=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Id(r),Id(n),Id(s)]},l4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return i4;var t=a4(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},c4=a1(),Bo="data-scroll-locked",u4=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(VI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ql,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Jl,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ql," .").concat(Ql,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Jl," .").concat(Jl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bo,`] {
    `).concat(KI,": ").concat(l,`px;
  }
`)},zy=function(){var e=parseInt(document.body.getAttribute(Bo)||"0",10);return isFinite(e)?e:0},d4=function(){h.useEffect(function(){return document.body.setAttribute(Bo,(zy()+1).toString()),function(){var e=zy()-1;e<=0?document.body.removeAttribute(Bo):document.body.setAttribute(Bo,e.toString())}},[])},h4=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;d4();var o=h.useMemo(function(){return l4(s)},[s]);return h.createElement(c4,{styles:u4(o,!t,s,r?"":"!important")})},af=!1;if(typeof window<"u")try{var Cl=Object.defineProperty({},"passive",{get:function(){return af=!0,!0}});window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{af=!1}var fo=af?{passive:!1}:!1,f4=function(e){return e.tagName==="TEXTAREA"},l1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!f4(e)&&r[t]==="visible")},p4=function(e){return l1(e,"overflowY")},m4=function(e){return l1(e,"overflowX")},By=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=c1(e,n);if(s){var o=u1(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},g4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},y4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},c1=function(e,t){return e==="v"?p4(t):m4(t)},u1=function(e,t){return e==="v"?g4(t):y4(t)},v4=function(e,t){return e==="h"&&t==="rtl"?-1:1},w4=function(e,t,r,n,s){var o=v4(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,p=0;do{if(!l)break;var m=u1(e,l),b=m[0],y=m[1],x=m[2],w=y-x-o*b;(b||w)&&c1(e,l)&&(f+=w,p+=b);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Nl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wy=function(e){return[e.deltaX,e.deltaY]},Hy=function(e){return e&&"current"in e?e.current:e},x4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},b4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_4=0,po=[];function k4(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(_4++)[0],o=h.useState(a1)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=TP([e.lockRef.current],(e.shards||[]).map(Hy),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var w=Nl(y),g=r.current,v="deltaX"in y?y.deltaX:g[0]-w[0],_="deltaY"in y?y.deltaY:g[1]-w[1],k,S=y.target,j=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in y&&j==="h"&&S.type==="range")return!1;var C=By(j,S);if(!C)return!0;if(C?k=j:(k=j==="v"?"h":"v",C=By(j,S)),!C)return!1;if(!n.current&&"changedTouches"in y&&(v||_)&&(n.current=k),!k)return!0;var A=n.current||k;return w4(A,x,y,A==="h"?v:_,!0)},[]),c=h.useCallback(function(y){var x=y;if(!(!po.length||po[po.length-1]!==o)){var w="deltaY"in x?Wy(x):Nl(x),g=t.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&x4(k.delta,w)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var v=(i.current.shards||[]).map(Hy).filter(Boolean).filter(function(k){return k.contains(x.target)}),_=v.length>0?l(x,v[0]):!i.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(y,x,w,g){var v={name:y,delta:x,target:w,should:g,shadowParent:S4(w)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=h.useCallback(function(y){r.current=Nl(y),n.current=void 0},[]),f=h.useCallback(function(y){u(y.type,Wy(y),y.target,l(y,e.lockRef.current))},[]),p=h.useCallback(function(y){u(y.type,Nl(y),y.target,l(y,e.lockRef.current))},[]);h.useEffect(function(){return po.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,fo),document.addEventListener("touchmove",c,fo),document.addEventListener("touchstart",d,fo),function(){po=po.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,fo),document.removeEventListener("touchmove",c,fo),document.removeEventListener("touchstart",d,fo)}},[]);var m=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:b4(s)}):null,m?h.createElement(h4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function S4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const j4=ZI(i1,k4);var qp=h.forwardRef(function(e,t){return h.createElement(ku,tn({},e,{ref:t,sideCar:j4}))});qp.classNames=ku.classNames;var E4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mo=new WeakMap,Rl=new WeakMap,Tl={},Md=0,d1=function(e){return e&&(e.host||d1(e.parentNode))},C4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=d1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},N4=function(e,t,r,n){var s=C4(t,Array.isArray(e)?e:[e]);Tl[r]||(Tl[r]=new WeakMap);var o=Tl[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var m=p.getAttribute(n),b=m!==null&&m!=="false",y=(mo.get(p)||0)+1,x=(o.get(p)||0)+1;mo.set(p,y),o.set(p,x),i.push(p),y===1&&b&&Rl.set(p,!0),x===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(t),l.clear(),Md++,function(){i.forEach(function(f){var p=mo.get(f)-1,m=o.get(f)-1;mo.set(f,p),o.set(f,m),p||(Rl.has(f)||f.removeAttribute(n),Rl.delete(f)),m||f.removeAttribute(r)}),Md--,Md||(mo=new WeakMap,mo=new WeakMap,Rl=new WeakMap,Tl={})}},h1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=E4(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),N4(n,s,r,"aria-hidden")):function(){return null}},Su="Dialog",[f1,I5]=xr(Su),[R4,Hr]=f1(Su),p1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=Pn({prop:n,defaultProp:s??!1,onChange:o,caller:Su});return a.jsx(R4,{scope:t,triggerRef:l,contentRef:c,contentId:as(),titleId:as(),descriptionId:as(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};p1.displayName=Su;var m1="DialogTrigger",T4=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Hr(m1,r),o=Be(t,s.triggerRef);return a.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Qp(s.open),...n,ref:o,onClick:ce(e.onClick,s.onOpenToggle)})});T4.displayName=m1;var Gp="DialogPortal",[P4,g1]=f1(Gp,{forceMount:void 0}),y1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Hr(Gp,t);return a.jsx(P4,{scope:t,forceMount:r,children:h.Children.map(n,i=>a.jsx(br,{present:r||o.open,children:a.jsx(ru,{asChild:!0,container:s,children:i})}))})};y1.displayName=Gp;var Ac="DialogOverlay",v1=h.forwardRef((e,t)=>{const r=g1(Ac,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Hr(Ac,e.__scopeDialog);return o.modal?a.jsx(br,{present:n||o.open,children:a.jsx(O4,{...s,ref:t})}):null});v1.displayName=Ac;var A4=oi("DialogOverlay.RemoveScroll"),O4=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Hr(Ac,r);return a.jsx(qp,{as:A4,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ne.div,{"data-state":Qp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Js="DialogContent",w1=h.forwardRef((e,t)=>{const r=g1(Js,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Hr(Js,e.__scopeDialog);return a.jsx(br,{present:n||o.open,children:o.modal?a.jsx(I4,{...s,ref:t}):a.jsx(M4,{...s,ref:t})})});w1.displayName=Js;var I4=h.forwardRef((e,t)=>{const r=Hr(Js,e.__scopeDialog),n=h.useRef(null),s=Be(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return h1(o)},[]),a.jsx(x1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,o=>o.preventDefault())})}),M4=h.forwardRef((e,t)=>{const r=Hr(Js,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(x1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),x1=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Hr(Js,r),c=h.useRef(null),u=Be(t,c);return s1(),a.jsxs(a.Fragment,{children:[a.jsx(Kp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(La,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Qp(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(D4,{titleId:l.titleId}),a.jsx(L4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Yp="DialogTitle",b1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Hr(Yp,r);return a.jsx(Ne.h2,{id:s.titleId,...n,ref:t})});b1.displayName=Yp;var _1="DialogDescription",k1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Hr(_1,r);return a.jsx(Ne.p,{id:s.descriptionId,...n,ref:t})});k1.displayName=_1;var S1="DialogClose",j1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Hr(S1,r);return a.jsx(Ne.button,{type:"button",...n,ref:t,onClick:ce(e.onClick,()=>s.onOpenChange(!1))})});j1.displayName=S1;function Qp(e){return e?"open":"closed"}var E1="DialogTitleWarning",[M5,C1]=Uj(E1,{contentName:Js,titleName:Yp,docsSlug:"dialog"}),D4=({titleId:e})=>{const t=C1(E1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$4="DialogDescriptionWarning",L4=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${C1($4).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},N1=p1,R1=y1,ju=v1,Eu=w1,Cu=b1,Nu=k1,T1=j1;const Bs=N1,F4=R1,P1=h.forwardRef(({className:e,...t},r)=>a.jsx(ju,{ref:r,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));P1.displayName=ju.displayName;const ls=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(F4,{children:[a.jsx(P1,{}),a.jsxs(Eu,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(T1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(eo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ls.displayName=Eu.displayName;const cs=({className:e,...t})=>a.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});cs.displayName="DialogHeader";const us=h.forwardRef(({className:e,...t},r)=>a.jsx(Cu,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",e),...t}));us.displayName=Cu.displayName;const U4=h.forwardRef(({className:e,...t},r)=>a.jsx(Nu,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));U4.displayName=Nu.displayName;var Dd="rovingFocusGroup.onEntryFocus",z4={bubbles:!1,cancelable:!0},Ga="RovingFocusGroup",[lf,A1,B4]=tu(Ga),[W4,O1]=xr(Ga,[B4]),[H4,V4]=W4(Ga),I1=h.forwardRef((e,t)=>a.jsx(lf.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(lf.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(K4,{...e,ref:t})})}));I1.displayName=Ga;var K4=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=h.useRef(null),m=Be(t,p),b=Bp(o),[y,x]=Pn({prop:i,defaultProp:l??null,onChange:c,caller:Ga}),[w,g]=h.useState(!1),v=ir(u),_=A1(r),k=h.useRef(!1),[S,j]=h.useState(0);return h.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(Dd,v),()=>C.removeEventListener(Dd,v)},[v]),a.jsx(H4,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:y,onItemFocus:h.useCallback(C=>x(C),[x]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>j(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>j(C=>C-1),[]),children:a.jsx(Ne.div,{tabIndex:w||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{k.current=!0}),onFocus:ce(e.onFocus,C=>{const A=!k.current;if(C.target===C.currentTarget&&A&&!w){const $=new CustomEvent(Dd,z4);if(C.currentTarget.dispatchEvent($),!$.defaultPrevented){const se=_().filter(Q=>Q.focusable),q=se.find(Q=>Q.active),ie=se.find(Q=>Q.id===y),de=[q,ie,...se].filter(Boolean).map(Q=>Q.ref.current);$1(de,d)}}k.current=!1}),onBlur:ce(e.onBlur,()=>g(!1))})})}),M1="RovingFocusGroupItem",D1=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=as(),u=o||c,d=V4(M1,r),f=d.currentTabStopId===u,p=A1(r),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:y}=d;return h.useEffect(()=>{if(n)return m(),()=>b()},[n,m,b]),a.jsx(lf.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Ne.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ce(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:ce(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ce(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=Y4(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=p().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")v.reverse();else if(w==="prev"||w==="next"){w==="prev"&&v.reverse();const _=v.indexOf(x.currentTarget);v=d.loop?Q4(v,_+1):v.slice(_+1)}setTimeout(()=>$1(v))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:y!=null}):i})})});D1.displayName=M1;var q4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Y4(e,t,r){const n=G4(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return q4[n]}function $1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Q4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var J4=I1,X4=D1,cf=["Enter"," "],Z4=["ArrowDown","PageUp","Home"],L1=["ArrowUp","PageDown","End"],eM=[...Z4,...L1],tM={ltr:[...cf,"ArrowRight"],rtl:[...cf,"ArrowLeft"]},rM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ya="Menu",[Na,nM,sM]=tu(Ya),[to,F1]=xr(Ya,[sM,du,O1]),Ru=du(),U1=O1(),[oM,ro]=to(Ya),[iM,Qa]=to(Ya),z1=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=Ru(t),[c,u]=h.useState(null),d=h.useRef(!1),f=ir(o),p=Bp(s);return h.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(K2,{...l,children:a.jsx(oM,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(iM,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i,children:n})})})};z1.displayName=Ya;var aM="MenuAnchor",Jp=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ru(r);return a.jsx(I0,{...s,...n,ref:t})});Jp.displayName=aM;var Xp="MenuPortal",[lM,B1]=to(Xp,{forceMount:void 0}),W1=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=ro(Xp,t);return a.jsx(lM,{scope:t,forceMount:r,children:a.jsx(br,{present:r||o.open,children:a.jsx(ru,{asChild:!0,container:s,children:n})})})};W1.displayName=Xp;var yr="MenuContent",[cM,Zp]=to(yr),H1=h.forwardRef((e,t)=>{const r=B1(yr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=ro(yr,e.__scopeMenu),i=Qa(yr,e.__scopeMenu);return a.jsx(Na.Provider,{scope:e.__scopeMenu,children:a.jsx(br,{present:n||o.open,children:a.jsx(Na.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(uM,{...s,ref:t}):a.jsx(dM,{...s,ref:t})})})})}),uM=h.forwardRef((e,t)=>{const r=ro(yr,e.__scopeMenu),n=h.useRef(null),s=Be(t,n);return h.useEffect(()=>{const o=n.current;if(o)return h1(o)},[]),a.jsx(em,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ce(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),dM=h.forwardRef((e,t)=>{const r=ro(yr,e.__scopeMenu);return a.jsx(em,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),hM=oi("MenuContent.ScrollLock"),em=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:b,...y}=e,x=ro(yr,r),w=Qa(yr,r),g=Ru(r),v=U1(r),_=nM(r),[k,S]=h.useState(null),j=h.useRef(null),C=Be(t,j,x.onContentChange),A=h.useRef(0),$=h.useRef(""),se=h.useRef(0),q=h.useRef(null),ie=h.useRef("right"),B=h.useRef(0),de=b?qp:h.Fragment,Q=b?{as:hM,allowPinchZoom:!0}:void 0,re=E=>{var me,Le;const P=$.current+E,U=_().filter(Fe=>!Fe.disabled),V=document.activeElement,oe=(me=U.find(Fe=>Fe.ref.current===V))==null?void 0:me.textValue,ee=U.map(Fe=>Fe.textValue),ke=SM(ee,P,oe),ve=(Le=U.find(Fe=>Fe.textValue===ke))==null?void 0:Le.ref.current;(function Fe(yt){$.current=yt,window.clearTimeout(A.current),yt!==""&&(A.current=window.setTimeout(()=>Fe(""),1e3))})(P),ve&&setTimeout(()=>ve.focus())};h.useEffect(()=>()=>window.clearTimeout(A.current),[]),s1();const R=h.useCallback(E=>{var U,V;return ie.current===((U=q.current)==null?void 0:U.side)&&EM(E,(V=q.current)==null?void 0:V.area)},[]);return a.jsx(cM,{scope:r,searchRef:$,onItemEnter:h.useCallback(E=>{R(E)&&E.preventDefault()},[R]),onItemLeave:h.useCallback(E=>{var P;R(E)||((P=j.current)==null||P.focus(),S(null))},[R]),onTriggerLeave:h.useCallback(E=>{R(E)&&E.preventDefault()},[R]),pointerGraceTimerRef:se,onPointerGraceIntentChange:h.useCallback(E=>{q.current=E},[]),children:a.jsx(de,{...Q,children:a.jsx(Kp,{asChild:!0,trapped:s,onMountAutoFocus:ce(o,E=>{var P;E.preventDefault(),(P=j.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(La,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:a.jsx(J4,{asChild:!0,...v,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:S,onEntryFocus:ce(c,E=>{w.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(M0,{role:"menu","aria-orientation":"vertical","data-state":i_(x.open),"data-radix-menu-content":"",dir:w.dir,...g,...y,ref:C,style:{outline:"none",...y.style},onKeyDown:ce(y.onKeyDown,E=>{const U=E.target.closest("[data-radix-menu-content]")===E.currentTarget,V=E.ctrlKey||E.altKey||E.metaKey,oe=E.key.length===1;U&&(E.key==="Tab"&&E.preventDefault(),!V&&oe&&re(E.key));const ee=j.current;if(E.target!==ee||!eM.includes(E.key))return;E.preventDefault();const ve=_().filter(me=>!me.disabled).map(me=>me.ref.current);L1.includes(E.key)&&ve.reverse(),_M(ve)}),onBlur:ce(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout(A.current),$.current="")}),onPointerMove:ce(e.onPointerMove,Ra(E=>{const P=E.target,U=B.current!==E.clientX;if(E.currentTarget.contains(P)&&U){const V=E.clientX>B.current?"right":"left";ie.current=V,B.current=E.clientX}}))})})})})})})});H1.displayName=yr;var fM="MenuGroup",tm=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ne.div,{role:"group",...n,ref:t})});tm.displayName=fM;var pM="MenuLabel",V1=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ne.div,{...n,ref:t})});V1.displayName=pM;var Oc="MenuItem",Vy="menu.itemSelect",Tu=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=h.useRef(null),i=Qa(Oc,e.__scopeMenu),l=Zp(Oc,e.__scopeMenu),c=Be(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const p=new CustomEvent(Vy,{bubbles:!0,cancelable:!0});f.addEventListener(Vy,m=>n==null?void 0:n(m),{once:!0}),lp(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(K1,{...s,ref:c,disabled:r,onClick:ce(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:ce(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:ce(e.onKeyDown,f=>{const p=l.searchRef.current!=="";r||p&&f.key===" "||cf.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Tu.displayName=Oc;var K1=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=Zp(Oc,r),l=U1(r),c=h.useRef(null),u=Be(t,c),[d,f]=h.useState(!1),[p,m]=h.useState("");return h.useEffect(()=>{const b=c.current;b&&m((b.textContent??"").trim())},[o.children]),a.jsx(Na.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:a.jsx(X4,{asChild:!0,...l,focusable:!n,children:a.jsx(Ne.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:ce(e.onPointerMove,Ra(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ce(e.onPointerLeave,Ra(b=>i.onItemLeave(b))),onFocus:ce(e.onFocus,()=>f(!0)),onBlur:ce(e.onBlur,()=>f(!1))})})})}),mM="MenuCheckboxItem",q1=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(X1,{scope:e.__scopeMenu,checked:r,children:a.jsx(Tu,{role:"menuitemcheckbox","aria-checked":Ic(r)?"mixed":r,...s,ref:t,"data-state":nm(r),onSelect:ce(s.onSelect,()=>n==null?void 0:n(Ic(r)?!0:!r),{checkForDefaultPrevented:!1})})})});q1.displayName=mM;var G1="MenuRadioGroup",[gM,yM]=to(G1,{value:void 0,onValueChange:()=>{}}),Y1=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=ir(n);return a.jsx(gM,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(tm,{...s,ref:t})})});Y1.displayName=G1;var Q1="MenuRadioItem",J1=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=yM(Q1,e.__scopeMenu),o=r===s.value;return a.jsx(X1,{scope:e.__scopeMenu,checked:o,children:a.jsx(Tu,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":nm(o),onSelect:ce(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});J1.displayName=Q1;var rm="MenuItemIndicator",[X1,vM]=to(rm,{checked:!1}),Z1=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=vM(rm,r);return a.jsx(br,{present:n||Ic(o.checked)||o.checked===!0,children:a.jsx(Ne.span,{...s,ref:t,"data-state":nm(o.checked)})})});Z1.displayName=rm;var wM="MenuSeparator",e_=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});e_.displayName=wM;var xM="MenuArrow",t_=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ru(r);return a.jsx(D0,{...s,...n,ref:t})});t_.displayName=xM;var bM="MenuSub",[D5,r_]=to(bM),Li="MenuSubTrigger",n_=h.forwardRef((e,t)=>{const r=ro(Li,e.__scopeMenu),n=Qa(Li,e.__scopeMenu),s=r_(Li,e.__scopeMenu),o=Zp(Li,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Jp,{asChild:!0,...u,children:a.jsx(K1,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":i_(r.open),...e,ref:eu(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ce(e.onPointerMove,Ra(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ce(e.onPointerLeave,Ra(f=>{var m,b;d();const p=(m=r.content)==null?void 0:m.getBoundingClientRect();if(p){const y=(b=r.content)==null?void 0:b.dataset.side,x=y==="right",w=x?-5:5,g=p[x?"left":"right"],v=p[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:g,y:p.top},{x:v,y:p.top},{x:v,y:p.bottom},{x:g,y:p.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ce(e.onKeyDown,f=>{var m;const p=o.searchRef.current!=="";e.disabled||p&&f.key===" "||tM[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});n_.displayName=Li;var s_="MenuSubContent",o_=h.forwardRef((e,t)=>{const r=B1(yr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=ro(yr,e.__scopeMenu),i=Qa(yr,e.__scopeMenu),l=r_(s_,e.__scopeMenu),c=h.useRef(null),u=Be(t,c);return a.jsx(Na.Provider,{scope:e.__scopeMenu,children:a.jsx(br,{present:n||o.open,children:a.jsx(Na.Slot,{scope:e.__scopeMenu,children:a.jsx(em,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ce(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ce(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ce(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),p=rM[i.dir].includes(d.key);f&&p&&(o.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});o_.displayName=s_;function i_(e){return e?"open":"closed"}function Ic(e){return e==="indeterminate"}function nm(e){return Ic(e)?"indeterminate":e?"checked":"unchecked"}function _M(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function kM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function SM(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=kM(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function jM(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,p=c.y;d>n!=p>n&&r<(f-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function EM(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return jM(r,t)}function Ra(e){return t=>t.pointerType==="mouse"?e(t):void 0}var CM=z1,NM=Jp,RM=W1,TM=H1,PM=tm,AM=V1,OM=Tu,IM=q1,MM=Y1,DM=J1,$M=Z1,LM=e_,FM=t_,UM=n_,zM=o_,Pu="DropdownMenu",[BM,$5]=xr(Pu,[F1]),zt=F1(),[WM,a_]=BM(Pu),l_=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=zt(t),u=h.useRef(null),[d,f]=Pn({prop:s,defaultProp:o??!1,onChange:i,caller:Pu});return a.jsx(WM,{scope:t,triggerId:as(),triggerRef:u,contentId:as(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:l,children:a.jsx(CM,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};l_.displayName=Pu;var c_="DropdownMenuTrigger",u_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=a_(c_,r),i=zt(r);return a.jsx(NM,{asChild:!0,...i,children:a.jsx(Ne.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:eu(t,o.triggerRef),onPointerDown:ce(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ce(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});u_.displayName=c_;var HM="DropdownMenuPortal",d_=e=>{const{__scopeDropdownMenu:t,...r}=e,n=zt(t);return a.jsx(RM,{...n,...r})};d_.displayName=HM;var h_="DropdownMenuContent",f_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=a_(h_,r),o=zt(r),i=h.useRef(!1);return a.jsx(TM,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:ce(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});f_.displayName=h_;var VM="DropdownMenuGroup",KM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(PM,{...s,...n,ref:t})});KM.displayName=VM;var qM="DropdownMenuLabel",p_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(AM,{...s,...n,ref:t})});p_.displayName=qM;var GM="DropdownMenuItem",m_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(OM,{...s,...n,ref:t})});m_.displayName=GM;var YM="DropdownMenuCheckboxItem",g_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(IM,{...s,...n,ref:t})});g_.displayName=YM;var QM="DropdownMenuRadioGroup",JM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(MM,{...s,...n,ref:t})});JM.displayName=QM;var XM="DropdownMenuRadioItem",y_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(DM,{...s,...n,ref:t})});y_.displayName=XM;var ZM="DropdownMenuItemIndicator",v_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx($M,{...s,...n,ref:t})});v_.displayName=ZM;var eD="DropdownMenuSeparator",w_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(LM,{...s,...n,ref:t})});w_.displayName=eD;var tD="DropdownMenuArrow",rD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(FM,{...s,...n,ref:t})});rD.displayName=tD;var nD="DropdownMenuSubTrigger",x_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(UM,{...s,...n,ref:t})});x_.displayName=nD;var sD="DropdownMenuSubContent",b_=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zt(r);return a.jsx(zM,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b_.displayName=sD;var oD=l_,iD=u_,aD=d_,__=f_,k_=p_,S_=m_,j_=g_,E_=y_,C_=v_,N_=w_,R_=x_,T_=b_;const uf=oD,df=iD,lD=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(R_,{ref:s,className:Se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(hp,{className:"ml-auto h-4 w-4"})]}));lD.displayName=R_.displayName;const cD=h.forwardRef(({className:e,...t},r)=>a.jsx(T_,{ref:r,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));cD.displayName=T_.displayName;const Mc=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(aD,{children:a.jsx(__,{ref:n,sideOffset:t,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Mc.displayName=__.displayName;const Os=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(S_,{ref:n,className:Se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Os.displayName=S_.displayName;const uD=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(j_,{ref:s,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(C_,{children:a.jsx(Mt,{className:"h-4 w-4"})})}),t]}));uD.displayName=j_.displayName;const dD=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(E_,{ref:n,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(C_,{children:a.jsx(FE,{className:"h-2 w-2 fill-current"})})}),t]}));dD.displayName=E_.displayName;const hf=h.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(k_,{ref:n,className:Se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));hf.displayName=k_.displayName;const ff=h.forwardRef(({className:e,...t},r)=>a.jsx(N_,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));ff.displayName=N_.displayName;const hD=Ub,fD=Lp,pD=Up,Ky={free:{name:"Free",credits:3,aspectRatios:["16:9"],quality:["basic"],canCreateProjects:!1,priorityQueue:"none",maxGroupUsers:0},pro:{name:"Pro",credits:100,aspectRatios:["16:9","9:16","1:1","4:3","3:4"],quality:["basic","hd"],canCreateProjects:!0,priorityQueue:"priority",maxGroupUsers:0},enterprise:{name:"Enterprise",credits:500,aspectRatios:["16:9","9:16","1:1","4:3","3:4"],quality:["basic","hd","1k","2k","4k"],canCreateProjects:!0,priorityQueue:"highest",maxGroupUsers:5}};function Au(e){return Ky[e]||Ky.free}function qy(e,t){return Au(e).aspectRatios.includes(t)}function Gy(e,t){return Au(e).quality.includes(t)}function Yy(e){return Au(e).canCreateProjects}const mD={basic:1,hd:1,"1k":1,"2k":2,"4k":4};function Xi(e){return mD[e]||1}const Qy=["from-primary to-blue-600","from-violet-500 to-purple-600","from-pink-500 to-rose-600","from-orange-500 to-amber-600","from-emerald-500 to-teal-600","from-cyan-500 to-blue-600","from-red-500 to-pink-600","from-indigo-500 to-violet-600","from-fuchsia-500 to-pink-600","from-lime-500 to-green-600"];function Dc(e){let t=0;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);t=(t<<5)-t+s,t=t&t}const r=Math.abs(t)%Qy.length;return Qy[r]}function Jy(e){switch(e){case"enterprise":return"1k";case"pro":return"hd";default:return"basic"}}function gD({open:e,onOpenChange:t,conversationId:r,conversationTitle:n,credits:s,isOwner:o}){const[i,l]=h.useState([]),[c,u]=h.useState(""),[d,f]=h.useState(!1),[p,m]=h.useState(null),[b,y]=h.useState(!1),x=s.plan==="enterprise",w=5;h.useEffect(()=>{e&&r&&g()},[e,r]);const g=async()=>{if(!r)return;const{data:S,error:j}=await W.from("conversation_members").select("id, email, role, joined_at, invited_at").eq("conversation_id",r).order("created_at",{ascending:!0});!j&&S&&l(S)},v=async()=>{if(!(!r||!c.trim())){if(!x){H.error("Group chats are an Enterprise feature");return}if(i.length>=w){H.error(`Maximum of ${w} members per conversation`);return}f(!0);try{const{data:S,error:j}=await W.functions.invoke("invite-member",{body:{conversationId:r,email:c.trim()}});if(j)throw j;if(S.error)throw new Error(S.error);m(S.inviteLink),u(""),H.success("Invitation created! Share the link with your team member."),g()}catch(S){const j=S instanceof Error?S.message:"Failed to invite member";H.error(j)}finally{f(!1)}}},_=async()=>{p&&(await navigator.clipboard.writeText(p),y(!0),H.success("Invite link copied!"),setTimeout(()=>y(!1),2e3))},k=async S=>{if(!r)return;const{error:j}=await W.from("conversation_members").delete().eq("id",S);j?H.error("Failed to remove member"):(l(i.filter(C=>C.id!==S)),H.success("Member removed"))};return a.jsx(Bs,{open:e,onOpenChange:t,children:a.jsxs(ls,{className:"max-w-md",children:[a.jsx(cs,{children:a.jsxs(us,{className:"flex items-center gap-2",children:[a.jsx(Es,{className:"h-5 w-5"}),"Team Members"]})}),a.jsxs("div",{className:"space-y-4 mt-2",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:['Manage who has access to "',n,'"']}),!x&&a.jsxs("div",{className:"p-3 rounded-lg bg-amber-50 border border-amber-200 text-sm text-amber-800",children:[a.jsx(Vl,{className:"h-4 w-4 inline mr-2"}),"Group chats are an Enterprise feature. Upgrade to invite team members."]}),x&&o&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mt,{placeholder:"Enter email address...",value:c,onChange:S=>u(S.target.value),onKeyDown:S=>S.key==="Enter"&&v(),type:"email"}),a.jsx(Z,{onClick:v,disabled:d||!c.trim(),children:d?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsx(r0,{className:"h-4 w-4"})})]}),p&&a.jsxs("div",{className:"flex gap-2 p-2 bg-secondary/30 rounded-lg",children:[a.jsx(mt,{value:p,readOnly:!0,className:"text-xs bg-transparent border-0"}),a.jsx(Z,{variant:"outline",size:"icon",onClick:_,children:b?a.jsx(Mt,{className:"h-4 w-4 text-green-500"}):a.jsx(e0,{className:"h-4 w-4"})})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length,"/",w," members"]})]}),a.jsx("div",{className:"space-y-2",children:i.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No team members yet"}):i.map(S=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-secondary/20",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:S.email}),a.jsx("p",{className:"text-xs text-muted-foreground",children:S.joined_at?"Joined":"Pending invitation"})]}),o&&a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>k(S.id),className:"h-8 w-8 text-destructive hover:text-destructive",children:a.jsx(eo,{className:"h-4 w-4"})})]},S.id))})]})]})})}var yD="Label",P_=h.forwardRef((e,t)=>a.jsx(Ne.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));P_.displayName=yD;var A_=P_;const vD=ou("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mr=h.forwardRef(({className:e,...t},r)=>a.jsx(A_,{ref:r,className:Se(vD(),e),...t}));mr.displayName=A_.displayName;function wD({open:e,onOpenChange:t,projectId:r,projectName:n}){const[s,o]=h.useState([]),[i,l]=h.useState(""),[c,u]=h.useState(""),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[b,y]=h.useState(!1);h.useEffect(()=>{e&&r&&x()},[e,r]);const x=async()=>{m(!0);try{const{data:_,error:k}=await W.from("project_members").select("id, email, role, joined_at, invited_at").eq("project_id",r).order("created_at",{ascending:!0});if(k)throw k;o(_||[])}catch(_){console.error("Error fetching members:",_)}finally{m(!1)}},w=async()=>{var _;if(!i.trim()){H.error("Please enter an email address");return}f(!0);try{const{data:k,error:S}=await W.auth.getSession();if(S)throw S;if(!k.session)throw new Error("Not authenticated");await W.auth.refreshSession().catch(()=>{});const j=()=>W.functions.invoke("invite-project-member",{body:{projectId:r,email:i.trim()}});let C=await j();const A=(_=C.error)==null?void 0:_.status;if(C.error&&(A===401||A===403)&&(await W.auth.refreshSession().catch(()=>{}),C=await j()),C.error)throw new Error(C.error.message||"Failed to invite member");const $=C.data;if(!$||$.error)throw new Error(($==null?void 0:$.error)||"Failed to invite member");u($.inviteLink),l(""),x(),H.success("Invitation created! Share the link with your team member.")}catch(k){console.error("Error inviting member:",k),H.error(k instanceof Error?k.message:"Failed to invite member")}finally{f(!1)}},g=async()=>{try{await navigator.clipboard.writeText(c),y(!0),H.success("Link copied to clipboard"),setTimeout(()=>y(!1),2e3)}catch{H.error("Failed to copy link")}},v=async _=>{try{const{error:k}=await W.from("project_members").delete().eq("id",_);if(k)throw k;x(),H.success("Member removed")}catch(k){console.error("Error removing member:",k),H.error("Failed to remove member")}};return a.jsx(Bs,{open:e,onOpenChange:t,children:a.jsxs(ls,{className:"sm:max-w-md",children:[a.jsx(cs,{children:a.jsxs(us,{children:["Share Project: ",n]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(mr,{children:"Invite by email"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mt,{placeholder:"colleague@example.com",value:i,onChange:_=>l(_.target.value),onKeyDown:_=>_.key==="Enter"&&w()}),a.jsx(Z,{onClick:w,disabled:d,size:"icon",children:d?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsx(r0,{className:"h-4 w-4"})})]})]}),c&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(mr,{children:"Invite link"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mt,{value:c,readOnly:!0,className:"text-xs"}),a.jsx(Z,{onClick:g,size:"icon",variant:"outline",children:b?a.jsx(Mt,{className:"h-4 w-4 text-green-500"}):a.jsx(e0,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(mr,{children:["Project members (",s.length,"/10)"]}),p?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx(ze,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):s.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No members yet. Invite someone to collaborate!"}):a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:s.map(_=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm truncate",children:_.email}),a.jsx("p",{className:"text-xs text-muted-foreground",children:_.joined_at?"Joined":"Pending invitation"})]}),a.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>v(_.id),children:a.jsx(eo,{className:"h-4 w-4"})})]},_.id))})]})]})]})})}const xD=[{id:"pack_100",credits:100,price:15.99,pricePerCredit:.16,popular:!1},{id:"pack_250",credits:250,price:35.99,pricePerCredit:.14,popular:!0,savings:"Save 10%"},{id:"pack_500",credits:500,price:59.99,pricePerCredit:.12,popular:!1,savings:"Save 25%"}];function bD({open:e,onOpenChange:t}){const[r,n]=h.useState(null),s=async o=>{n(o);try{const{data:i,error:l}=await W.functions.invoke("purchase-credits",{body:{pack:o}});if(l)throw l;if(i.error)throw new Error(i.error);i.url&&(window.location.href=i.url)}catch(i){const l=i instanceof Error?i.message:"Failed to start checkout";H.error(l)}finally{n(null)}};return a.jsx(Bs,{open:e,onOpenChange:t,children:a.jsxs(ls,{className:"max-w-[320px] sm:max-w-lg p-4 sm:p-6 rounded-2xl",children:[a.jsxs(cs,{className:"mb-2 sm:mb-3",children:[a.jsxs(us,{className:"text-center font-display text-lg sm:text-2xl flex items-center justify-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"h-7 w-7 sm:h-9 sm:w-9 rounded-xl bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center",children:a.jsx(Gs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),"Buy Extra Credits"]}),a.jsx("p",{className:"text-center text-xs sm:text-sm text-muted-foreground mt-1",children:"One-time credit packs for instant use"})]}),a.jsx("div",{className:"space-y-2 sm:space-y-3",children:xD.map(o=>a.jsxs("div",{className:`relative rounded-xl p-3 sm:p-4 border transition-all ${o.popular?"bg-gradient-to-r from-primary/10 to-blue-500/10 border-primary/30 shadow-md scale-[1.02]":"bg-secondary/30 border-border/50 hover:border-primary/30"}`,children:[o.popular&&a.jsx("span",{className:"absolute -top-2 left-3 px-2 py-0.5 text-[9px] sm:text-[10px] font-bold bg-gradient-to-r from-primary to-blue-600 text-white rounded-full",children:"BEST VALUE"}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:`h-8 w-8 sm:h-10 sm:w-10 rounded-xl flex items-center justify-center shrink-0 ${o.popular?"bg-gradient-to-br from-primary to-blue-600":"bg-primary/10"}`,children:a.jsx(au,{className:`h-4 w-4 sm:h-5 sm:w-5 ${o.popular?"text-white":"text-primary"}`})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsxs("span",{className:"font-display text-sm sm:text-lg font-bold text-foreground",children:[o.credits," Credits"]}),o.savings&&a.jsx("span",{className:"text-[9px] sm:text-xs font-medium text-primary bg-primary/10 px-1.5 sm:px-2 py-0.5 rounded-full",children:o.savings})]}),a.jsxs("p",{className:"text-[11px] sm:text-sm text-muted-foreground",children:["$",o.pricePerCredit.toFixed(2)," per credit"]})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 shrink-0",children:[a.jsxs("span",{className:"font-display text-base sm:text-xl font-bold text-foreground",children:["$",o.price]}),a.jsx(Z,{size:"sm",className:`h-7 sm:h-8 px-2.5 sm:px-3 text-xs sm:text-sm ${o.popular?"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90":""}`,onClick:()=>s(o.id),disabled:r!==null,children:r===o.id?a.jsx(ze,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"}):a.jsxs(a.Fragment,{children:["Buy",a.jsx(Di,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 ml-1"})]})})]})]})]},o.id))})]})})}function _D(){const[e,t]=h.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("rothumbs-theme");if(n==="dark"||n==="light")return n}return"light"});return h.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e),localStorage.setItem("rothumbs-theme",e)},[e]),{theme:e,setTheme:t,toggleTheme:()=>{t(n=>n==="light"?"dark":"light")}}}function Xy({conversations:e,conversationMembers:t,projectMembers:r,activeConversationId:n,onSelectConversation:s,onNewConversation:o,onDeleteConversation:i,onRenameConversation:l,onSignOut:c,credits:u,user:d,projects:f,onCreateProject:p,onDeleteProject:m,onRenameProject:b,activeProjectId:y,onSelectProject:x,showPricingModal:w,setShowPricingModal:g,onClose:v}){var hm,fm,pm,mm,gm;const[_,k]=h.useState(""),[S,j]=h.useState(!1),[C,A]=h.useState(""),[$,se]=h.useState(new Set),[q,ie]=h.useState(null),[B,de]=h.useState(""),[Q,re]=h.useState(null),[R,E]=h.useState(""),[P,U]=h.useState(!1),[V,oe]=h.useState(null),[ee,ke]=h.useState(!1),[ve,me]=h.useState(null),[Le,Fe]=h.useState("yearly"),[yt,kt]=h.useState(!1),[ut,St]=h.useState(null),[kr,Sr]=h.useState(!1),[At,Vr]=h.useState(null),[Yt,Bt]=h.useState(!1),[Kr,Qt]=h.useState(!1),[cr,Ot]=h.useState(""),[qr,Gr]=h.useState(!1),[N,G]=h.useState(!1),[O,I]=h.useState(!1),[M,K]=h.useState(""),[pe,Y]=h.useState(!1),[le,J]=h.useState(!1),[ne,je]=h.useState(!1),[ge,Ie]=h.useState(""),[ye,Te]=h.useState(!1),_e=h.useRef(!1),{theme:st,toggleTheme:ur}=_D(),ae=u.credits_total-u.credits_used,be=u.plan==="enterprise";h.useEffect(()=>{d&&W.from("profiles").select("display_name").eq("user_id",d.id).single().then(({data:T})=>{T!=null&&T.display_name&&me(T.display_name)})},[d]);const F=async()=>{if(!(!d||!cr.trim())){Gr(!0);try{const{error:T}=await W.from("profiles").update({display_name:cr.trim()}).eq("user_id",d.id);if(T)throw T;me(cr.trim()),Qt(!1),H.success("Display name updated!")}catch{H.error("Failed to update display name")}finally{Gr(!1)}}},fe=async()=>{if(d!=null&&d.email){G(!0);try{const{error:T}=await W.auth.resetPasswordForEmail(d.email,{redirectTo:`${window.location.origin}/auth?reset=true`});if(T)throw T;H.success("Password reset email sent! Check your inbox.")}catch{H.error("Failed to send password reset email")}finally{G(!1)}}},Ae=async()=>{if(!M.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M.trim())){H.error("Please enter a valid email address");return}I(!0);try{const{error:X}=await W.auth.updateUser({email:M.trim()});if(X){if(X.message.toLowerCase().includes("already registered")||X.message.toLowerCase().includes("already exists")||X.message.toLowerCase().includes("duplicate"))H.error("This email is already registered");else throw X;return}H.success("Confirmation email sent to your new address. Please verify to complete the change."),K(""),Y(!1)}catch(X){const Ge=X instanceof Error?X.message:"Failed to change email";H.error(Ge)}finally{I(!1)}},Me=async()=>{if(d){J(!0);try{const{error:T}=await W.from("conversations").delete().eq("user_id",d.id);T&&console.error("Error deleting conversations:",T);const{error:X}=await W.from("projects").delete().eq("user_id",d.id);X&&console.error("Error deleting projects:",X),H.success("All your data has been deleted!"),je(!1),J(!1)}catch{H.error("Failed to delete data"),J(!1)}}},De=async()=>{const T=ge.trim();if(T&&!_e.current){_e.current=!0,Te(!0);try{const{data:X,error:Ge}=await W.functions.invoke("redeem-code",{body:{code:T}}),so=X==null?void 0:X.error,ot=(Ge==null?void 0:Ge.message)||"";if(so||Ge){`${so||""} ${ot}`.toLowerCase().includes("already redeemed")?H.error("Code Already Redeemed!"):H.error(so||ot||"Failed to redeem code");return}H.success(`Code redeemed! ${X.credits_added} credits added.`),Ie(""),window.location.reload()}catch(X){const Ge=X instanceof Error?X.message:"Failed to redeem code";H.error(Ge)}finally{_e.current=!1,Te(!1)}}},Pe=async T=>{oe(T);try{const{data:X,error:Ge}=await W.functions.invoke("create-checkout",{body:{plan:T,billing:Le}});if(Ge)throw Ge;if(X.error)throw new Error(X.error);X.url&&(window.location.href=X.url)}catch(X){const Ge=X instanceof Error?X.message:"Failed to start checkout";H.error(Ge)}finally{oe(null)}},jt=async()=>{ke(!0);try{const{data:T,error:X}=await W.functions.invoke("customer-portal");if(X)throw X;if(T.error)throw new Error(T.error);T.url&&(window.location.href=T.url)}catch(T){const X=T instanceof Error?T.message:"Failed to open subscription portal";H.error(X)}finally{ke(!1)}},ws=T=>{se(X=>{const Ge=new Set(X);return Ge.has(T)?Ge.delete(T):Ge.add(T),Ge})},xs=()=>{C.trim()&&(p(C.trim()),A(""),j(!1))},am=T=>{B.trim()&&(b(T,B.trim()),ie(null),de(""))},no=T=>{R.trim()&&(l(T,R.trim()),re(null),E(""))},lm=T=>e.filter(X=>X.project_id===T),vi=T=>(t[T]||[]).filter(Ge=>Ge.joined_at).length,sk=e.filter(T=>!T.project_id&&vi(T.id)>0),ok=e.filter(T=>!T.project_id&&T.user_id===(d==null?void 0:d.id)&&vi(T.id)===0),Ja=_.trim().toLowerCase(),Mu=T=>T.title||"Untitled",cm=ok.filter(T=>Mu(T).toLowerCase().includes(Ja)),um=sk.filter(T=>Mu(T).toLowerCase().includes(Ja)),dm=f.filter(T=>T.name.toLowerCase().includes(Ja)||lm(T.id).some(X=>Mu(X).toLowerCase().includes(Ja)));return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`${v?"w-full":"w-64"} h-[100dvh] max-h-[100dvh] bg-background flex flex-col border-r border-border/30 overflow-hidden`,children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsxs(at,{to:"/",className:"flex items-center gap-2",onClick:()=>{sessionStorage.setItem("has-visited-home","true")},children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-blue-600 shadow-lg shadow-primary/20",children:a.jsx("img",{src:Qs,alt:"RoThumbs",className:"h-6 w-6"})}),a.jsx("span",{className:"font-display text-base font-bold text-foreground",children:"RoThumbs"})]}),v&&a.jsx(Z,{variant:"ghost",size:"icon",onClick:v,className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:a.jsx(eo,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"px-3 pb-2 flex gap-2",children:[a.jsxs(Z,{variant:"outline",className:"flex-1 justify-start gap-2 bg-background border-border/50 text-foreground hover:bg-primary/5 hover:border-primary/30",onClick:()=>o(),children:[a.jsx(hd,{className:"h-4 w-4"}),"New chat"]}),a.jsx(Z,{variant:"outline",size:"icon",className:`bg-background border-border/50 text-foreground hover:bg-primary/5 hover:border-primary/30 relative ${Yy(u.plan)?"":"opacity-60"}`,onClick:()=>{Yy(u.plan)?j(!0):g(!0)},children:a.jsx(Mg,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"px-3 pb-3",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-xl bg-secondary/30 text-sm border border-border/20",children:[a.jsx(sC,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"text",placeholder:"Search...",value:_,onChange:T=>k(T.target.value),className:"flex-1 bg-transparent border-0 outline-none text-foreground placeholder:text-muted-foreground text-sm"})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-2",children:[dm.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs font-semibold text-muted-foreground px-2 py-2 uppercase tracking-wider",children:"Projects"}),a.jsx("div",{className:"space-y-1",children:dm.map(T=>{var so;const X=lm(T.id),Ge=$.has(T.id);return a.jsxs(hD,{open:Ge,onOpenChange:()=>ws(T.id),children:[a.jsxs("div",{className:"group flex items-center gap-1 px-2 py-1.5 rounded-lg hover:bg-secondary/50 transition-colors",children:[a.jsx(fD,{className:"p-1 hover:bg-secondary rounded",children:Ge?a.jsx(Xx,{className:"h-3.5 w-3.5 text-muted-foreground"}):a.jsx(hp,{className:"h-3.5 w-3.5 text-muted-foreground"})}),a.jsx(KE,{className:"h-4 w-4 flex-shrink-0",style:{color:T.color}}),q===T.id?a.jsx(mt,{value:B,onChange:ot=>de(ot.target.value),onBlur:()=>am(T.id),onKeyDown:ot=>{ot.key==="Enter"&&am(T.id),ot.key==="Escape"&&ie(null)},className:"h-6 text-sm py-0 px-1",autoFocus:!0}):a.jsx("span",{className:"flex-1 truncate text-sm font-medium text-foreground cursor-pointer",onClick:()=>{x(T.id),Ge||ws(T.id)},children:T.name}),a.jsxs("div",{className:"ml-auto flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(Es,{className:"h-3 w-3"}),(((so=r[T.id])==null?void 0:so.filter(ot=>ot.joined_at).length)||0)+1]}),a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(vl,{className:"h-3 w-3"}),X.length]})]}),T.user_id===(d==null?void 0:d.id)&&a.jsxs(uf,{children:[a.jsx(df,{asChild:!0,children:a.jsx("button",{type:"button","aria-label":"Project options",className:"inline-flex p-1 rounded hover:bg-secondary transition-opacity opacity-0 group-hover:opacity-100 data-[state=open]:opacity-100 pointer-events-none group-hover:pointer-events-auto data-[state=open]:pointer-events-auto",children:a.jsx(WE,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),a.jsxs(Mc,{align:"end",side:"bottom",sideOffset:8,className:"z-50",children:[a.jsxs(Os,{onClick:()=>o(T.id),children:[a.jsx(hd,{className:"h-4 w-4 mr-2"}),"New chat in project"]}),be&&a.jsxs(Os,{onClick:()=>{Vr({id:T.id,name:T.name}),Sr(!0)},children:[a.jsx(Es,{className:"h-4 w-4 mr-2"}),"Share project"]}),a.jsxs(Os,{onClick:()=>{ie(T.id),de(T.name)},children:[a.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Rename"]}),a.jsxs(Os,{className:"text-destructive",onClick:()=>m(T.id),children:[a.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),a.jsx(pD,{children:a.jsx("div",{className:"ml-6 space-y-0.5 mt-0.5",children:X.length===0?a.jsx("div",{className:"text-xs text-muted-foreground py-2 px-2",children:"No chats yet"}):X.map(ot=>a.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 rounded-lg cursor-pointer transition-all ${n===ot.id?"bg-primary/10 text-primary border border-primary/20":"text-foreground hover:bg-secondary/50 border border-transparent"}`,onClick:()=>{Q!==ot.id&&s(ot.id)},children:[a.jsx(vl,{className:"h-3.5 w-3.5 flex-shrink-0 opacity-70"}),Q===ot.id?a.jsx(mt,{value:R,onChange:jr=>E(jr.target.value),onBlur:()=>no(ot.id),onKeyDown:jr=>{jr.key==="Enter"&&no(ot.id),jr.key==="Escape"&&(re(null),E(""))},onClick:jr=>jr.stopPropagation(),className:"h-5 text-xs py-0 px-1 flex-1",autoFocus:!0}):a.jsx("span",{className:"flex-1 truncate text-xs font-medium",children:ot.title}),T.user_id===(d==null?void 0:d.id)&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-secondary rounded transition-all",onClick:jr=>{jr.stopPropagation(),re(ot.id),E(ot.title||"")},children:a.jsx(Ci,{className:"h-3 w-3 text-muted-foreground"})}),a.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-destructive/10 rounded transition-all",onClick:jr=>{jr.stopPropagation(),i(ot.id)},children:a.jsx(Ni,{className:"h-3 w-3 text-destructive"})})]})]},ot.id))})})]},T.id)})})]}),um.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs font-semibold text-muted-foreground px-2 py-2 uppercase tracking-wider",children:"Group Chats"}),a.jsx("div",{className:"space-y-1",children:um.map(T=>a.jsxs("div",{className:`group flex items-center gap-2 px-3 py-2.5 rounded-xl cursor-pointer transition-all ${n===T.id?"bg-primary/10 text-primary border border-primary/20":"text-foreground hover:bg-secondary/50 border border-transparent"}`,onClick:()=>{Q!==T.id&&s(T.id)},children:[a.jsx(vl,{className:"h-4 w-4 flex-shrink-0 opacity-70"}),Q===T.id?a.jsx(mt,{value:R,onChange:X=>E(X.target.value),onBlur:()=>no(T.id),onKeyDown:X=>{X.key==="Enter"&&no(T.id),X.key==="Escape"&&(re(null),E(""))},onClick:X=>X.stopPropagation(),className:"h-6 text-sm py-0 px-1 flex-1",autoFocus:!0}):a.jsx("span",{className:"flex-1 truncate text-sm font-medium",children:T.title}),a.jsxs("span",{className:"ml-auto flex items-center gap-0.5 text-xs text-muted-foreground",children:[a.jsx(Es,{className:"h-3 w-3"}),vi(T.id)+1]}),T.user_id===(d==null?void 0:d.id)&&be&&a.jsx("button",{className:"hidden group-hover:flex p-1.5 hover:bg-primary/10 rounded-lg transition-all",onClick:X=>{X.stopPropagation(),St({id:T.id,title:T.title}),kt(!0)},children:a.jsx(Es,{className:"h-3.5 w-3.5 text-primary"})}),T.user_id===(d==null?void 0:d.id)&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"hidden group-hover:flex p-1.5 hover:bg-secondary rounded-lg transition-all",onClick:X=>{X.stopPropagation(),re(T.id),E(T.title||"")},children:a.jsx(Ci,{className:"h-3.5 w-3.5 text-muted-foreground"})}),a.jsx("button",{className:"hidden group-hover:flex p-1.5 hover:bg-destructive/10 rounded-lg transition-all",onClick:X=>{X.stopPropagation(),i(T.id)},children:a.jsx(Ni,{className:"h-3.5 w-3.5 text-destructive"})})]})]},T.id))})]}),a.jsx("div",{className:"text-xs font-semibold text-muted-foreground px-2 py-2 uppercase tracking-wider",children:"Chats"}),cm.length===0?a.jsx("div",{className:"px-3 py-4 text-center text-sm text-muted-foreground",children:_?"No matching chats":"No chats yet"}):a.jsx("div",{className:"space-y-1",children:cm.map(T=>a.jsxs("div",{className:`group flex items-center gap-2 px-3 py-2.5 rounded-xl cursor-pointer transition-all ${n===T.id?"bg-primary/10 text-primary border border-primary/20":"text-foreground hover:bg-secondary/50 border border-transparent"}`,onClick:()=>{Q!==T.id&&s(T.id)},children:[a.jsx(vl,{className:"h-4 w-4 flex-shrink-0 opacity-70"}),Q===T.id?a.jsx(mt,{value:R,onChange:X=>E(X.target.value),onBlur:()=>no(T.id),onKeyDown:X=>{X.key==="Enter"&&no(T.id),X.key==="Escape"&&(re(null),E(""))},onClick:X=>X.stopPropagation(),className:"h-6 text-sm py-0 px-1 flex-1",autoFocus:!0}):a.jsx("span",{className:"flex-1 truncate text-sm font-medium",children:T.title}),vi(T.id)>0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:vi(T.id)+1}),be&&a.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-primary/10 rounded-lg transition-all",onClick:X=>{X.stopPropagation(),St({id:T.id,title:T.title}),kt(!0)},children:a.jsx(Es,{className:"h-3.5 w-3.5 text-primary"})}),a.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-secondary rounded-lg transition-all",onClick:X=>{X.stopPropagation(),re(T.id),E(T.title||"")},children:a.jsx(Ci,{className:"h-3.5 w-3.5 text-muted-foreground"})}),a.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-destructive/10 rounded-lg transition-all",onClick:X=>{X.stopPropagation(),i(T.id)},children:a.jsx(Ni,{className:"h-3.5 w-3.5 text-destructive"})})]},T.id))})]}),a.jsxs("div",{className:"p-3 border-t border-border/30 space-y-3",children:[a.jsxs("div",{className:"p-3 rounded-xl bg-gradient-to-r from-primary/5 to-blue-500/5 border border-primary/10 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[ae," Credits"]}),a.jsx("button",{onClick:()=>Bt(!0),className:"h-5 w-5 rounded-md bg-primary/10 hover:bg-primary/20 flex items-center justify-center transition-colors",title:"Buy extra credits",children:a.jsx(hd,{className:"h-3 w-3 text-primary"})})]}),a.jsx("span",{className:"text-xs font-medium text-muted-foreground capitalize px-2 py-0.5 bg-secondary rounded-full",children:u.plan})]}),u.is_canceled&&u.subscription_end&&a.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx($g,{className:"h-4 w-4 text-amber-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-400",children:[a.jsxs("span",{className:"font-medium capitalize",children:[u.plan," Plan Will End On"]}),a.jsx("p",{className:"text-amber-600 dark:text-amber-500 mt-0.5 font-semibold",children:new Date(u.subscription_end).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})]}),u.plan==="free"?a.jsxs(Z,{variant:"default",size:"sm",className:"w-full gap-2 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 border-0 shadow-lg shadow-orange-500/20",onClick:()=>g(!0),children:[a.jsx(Vl,{className:"h-4 w-4"}),"Upgrade to Pro"]}):u.plan==="pro"?a.jsxs(Z,{variant:"default",size:"sm",className:"w-full gap-2 bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-500 hover:from-emerald-600 hover:via-teal-600 hover:to-cyan-600 border-0 shadow-lg shadow-teal-500/20",onClick:()=>g(!0),children:[a.jsx(Dh,{className:"h-4 w-4"}),"Upgrade to Enterprise"]}):null,a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1",children:[a.jsx("div",{className:`h-9 w-9 rounded-xl bg-gradient-to-br ${d!=null&&d.id?Dc(d.id):"from-primary to-blue-600"} flex items-center justify-center text-white text-sm font-semibold shadow-lg shadow-primary/20 flex-shrink-0`,children:((fm=(hm=ve||(d==null?void 0:d.email))==null?void 0:hm[0])==null?void 0:fm.toUpperCase())||"U"}),a.jsx("span",{className:"text-sm font-medium text-foreground truncate",children:ve||((pm=d==null?void 0:d.email)==null?void 0:pm.split("@")[0])||"User"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Z,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-foreground hover:bg-secondary/50 rounded-xl",onClick:ur,title:st==="light"?"Switch to dark mode":"Switch to light mode",children:st==="light"?a.jsx(tC,{className:"h-4 w-4"}):a.jsx(lC,{className:"h-4 w-4"})}),a.jsx(Z,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-foreground hover:bg-secondary/50 rounded-xl",onClick:()=>U(!0),children:a.jsx(iC,{className:"h-4 w-4"})})]})]})]})]}),a.jsx(Bs,{open:S,onOpenChange:j,children:a.jsxs(ls,{className:"max-w-sm",children:[a.jsx(cs,{children:a.jsx(us,{className:"font-display",children:"Create New Project"})}),a.jsxs("div",{className:"space-y-4 mt-2",children:[a.jsx(mt,{placeholder:"Project name...",value:C,onChange:T=>A(T.target.value),onKeyDown:T=>T.key==="Enter"&&xs(),autoFocus:!0}),a.jsxs(Z,{className:"w-full",onClick:xs,disabled:!C.trim(),children:[a.jsx(Mg,{className:"h-4 w-4 mr-2"}),"Create Project"]})]})]})}),a.jsx(Bs,{open:w,onOpenChange:g,children:a.jsxs(ls,{className:"max-w-[340px] sm:max-w-4xl p-4 sm:p-8 max-h-[85vh] sm:max-h-[90vh] overflow-y-auto rounded-2xl scrollbar-none [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none]",children:[a.jsx(cs,{className:"mb-3 sm:mb-6",children:a.jsxs(us,{className:"text-center font-display text-2xl sm:text-3xl flex items-center justify-center gap-2.5 sm:gap-3",children:[a.jsx("div",{className:"h-9 w-9 sm:h-11 sm:w-11 rounded-xl bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center",children:a.jsx(Vl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),"Choose Your Plan"]})}),a.jsxs("div",{className:"flex items-center justify-center gap-3 sm:gap-4 mb-6 sm:mb-10",children:[a.jsx("span",{className:`text-base sm:text-lg font-semibold transition-colors ${Le==="monthly"?"text-foreground":"text-muted-foreground"}`,children:"Monthly"}),a.jsx("button",{onClick:()=>Fe(Le==="yearly"?"monthly":"yearly"),className:`relative w-16 sm:w-20 h-8 sm:h-10 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50 ${Le==="yearly"?"bg-primary":"bg-muted-foreground/30"}`,children:a.jsx("span",{className:`absolute top-1 sm:top-1 w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-white shadow-md transition-transform duration-200 ${Le==="yearly"?"left-9 sm:left-11":"left-1 sm:left-1"}`})}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:`text-base sm:text-lg font-semibold transition-colors ${Le==="yearly"?"text-foreground":"text-muted-foreground"}`,children:"Yearly"}),a.jsx("span",{className:"absolute -top-4 sm:-top-5 -right-3 sm:-right-4 px-1.5 sm:px-2 py-0.5 text-[9px] sm:text-[10px] font-bold bg-gradient-to-r from-primary to-blue-600 text-white rounded-full whitespace-nowrap",children:"Save 20%"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 sm:gap-8 items-start",children:[a.jsxs("div",{className:"relative rounded-2xl p-4 sm:p-5 bg-white border border-border/50 flex flex-col shadow-sm",children:[a.jsx("div",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-xl bg-slate-100 flex items-center justify-center mb-2 sm:mb-3",children:a.jsx(Gs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-slate-600"})}),a.jsx("h3",{className:"font-display text-base sm:text-lg font-semibold text-foreground dark:!text-background",children:"Free"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground dark:!text-background/70 mb-2 sm:mb-3",children:"Try Out"}),a.jsxs("div",{className:"mb-3 sm:mb-4",children:[a.jsx("span",{className:"font-display text-xl sm:text-2xl font-bold text-foreground dark:!text-background",children:"$0"}),a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground dark:!text-background/70 ml-1",children:"forever"}),a.jsx("p",{className:"text-xs sm:text-sm mt-1 font-semibold text-primary",children:"3 Credits / Month"})]}),a.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 mb-4 sm:mb-5",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-primary"}),a.jsx("span",{className:"text-sm text-muted-foreground dark:!text-background/70",children:"Basic quality"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-primary"}),a.jsx("span",{className:"text-sm text-muted-foreground dark:!text-background/70",children:"16:9 aspect ratio only"})]})]}),u.plan==="free"?a.jsx(Z,{variant:"outline",size:"default",className:"w-full dark:!text-background dark:!border-background/30",disabled:!0,children:"Current Plan"}):a.jsx(Z,{variant:"outline",size:"default",className:"w-full dark:!text-background dark:!border-background/30 dark:hover:!bg-background/5 dark:hover:!text-background",onClick:jt,disabled:ee,children:ee?a.jsxs(a.Fragment,{children:[a.jsx(ze,{className:"h-4 w-4 animate-spin mr-2"}),"Loading..."]}):a.jsxs(a.Fragment,{children:["Downgrade",a.jsx(Di,{className:"h-4 w-4 ml-2"})]})})]}),a.jsxs("div",{className:"relative rounded-2xl p-4 sm:p-6 bg-gradient-to-br from-primary via-blue-600 to-indigo-600 text-white flex flex-col shadow-2xl shadow-primary/30 z-10 scale-[1.03] -my-2 overflow-visible",children:[a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-20",children:a.jsx("span",{className:"inline-flex items-center px-3 sm:px-4 py-1 sm:py-1.5 bg-white text-primary text-[10px] sm:text-xs font-bold rounded-full shadow-lg whitespace-nowrap leading-none",children:"MOST POPULAR"})}),a.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-white/20 flex items-center justify-center mb-2 sm:mb-3 mt-2",children:a.jsx(au,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),a.jsx("h3",{className:"font-display text-lg sm:text-xl font-semibold text-white",children:"Pro"}),a.jsx("p",{className:"text-xs sm:text-sm text-white/70 mb-2 sm:mb-3",children:"For Developers"}),a.jsxs("div",{className:"mb-3 sm:mb-4",children:[a.jsxs("span",{className:"font-display text-2xl sm:text-3xl font-bold text-white",children:["$",Le==="yearly"?"9.99":"12.49"]}),a.jsx("span",{className:"text-xs sm:text-sm text-white/70 ml-1",children:"/month"}),Le==="yearly"&&a.jsx("p",{className:"text-[10px] sm:text-xs text-white/60 mt-1",children:"billed annually"}),a.jsx("p",{className:"text-xs sm:text-sm mt-1 font-semibold text-white/90",children:"100 Credits / Month"})]}),a.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 mb-4 sm:mb-5",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-white"}),a.jsx("span",{className:"text-sm text-white/90",children:"HD quality output"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-white"}),a.jsx("span",{className:"text-sm text-white/90",children:"All aspect ratios"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-white"}),a.jsx("span",{className:"text-sm text-white/90",children:"Create projects"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-white"}),a.jsx("span",{className:"text-sm text-white/90",children:"Priority queue"})]})]}),u.plan==="pro"?a.jsx(Z,{variant:"secondary",size:"lg",className:"w-full font-semibold",disabled:!0,children:"Current Plan"}):a.jsx(Z,{variant:"secondary",size:"lg",className:"w-full font-semibold",onClick:()=>Pe("pro"),disabled:V==="pro",children:V==="pro"?a.jsxs(a.Fragment,{children:[a.jsx(ze,{className:"h-4 w-4 animate-spin mr-2"}),"Loading..."]}):a.jsxs(a.Fragment,{children:[u.plan==="enterprise"?"Downgrade to Pro":"Get Pro",a.jsx(Di,{className:"h-4 w-4 ml-2"})]})})]}),a.jsxs("div",{className:"relative rounded-2xl p-4 sm:p-5 bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-500 text-white flex flex-col shadow-lg",children:[a.jsx("div",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-xl bg-white/20 flex items-center justify-center mb-2 sm:mb-3",children:a.jsx(Dh,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),a.jsx("h3",{className:"font-display text-base sm:text-lg font-semibold text-white",children:"Enterprise"}),a.jsx("p",{className:"text-xs sm:text-sm text-white/70 mb-2 sm:mb-3",children:"For Studios"}),a.jsxs("div",{className:"mb-3 sm:mb-4",children:[a.jsxs("span",{className:"font-display text-xl sm:text-2xl font-bold text-white",children:["$",Le==="yearly"?"39.99":"49.99"]}),a.jsx("span",{className:"text-xs sm:text-sm text-white/70 ml-1",children:"/month"}),Le==="yearly"&&a.jsx("p",{className:"text-[10px] sm:text-xs text-white/60 mt-1",children:"billed annually"}),a.jsx("p",{className:"text-xs sm:text-sm mt-1 font-semibold text-white/90",children:"500 Credits / Month"})]}),a.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 mb-4 sm:mb-5",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-white"}),a.jsx("span",{className:"text-sm text-white/90",children:"Quality selector (1K/2K/4K)"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-white"}),a.jsx("span",{className:"text-sm text-white/90",children:"Group chats & projects (5 users)"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-white"}),a.jsx("span",{className:"text-sm text-white/90",children:"Highest priority queue"})]})]}),u.plan==="enterprise"?a.jsx(Z,{variant:"secondary",size:"default",className:"w-full",disabled:!0,children:"Current Plan"}):a.jsx(Z,{variant:"secondary",size:"default",className:"w-full",onClick:()=>Pe("enterprise"),disabled:V==="enterprise",children:V==="enterprise"?a.jsxs(a.Fragment,{children:[a.jsx(ze,{className:"h-4 w-4 animate-spin mr-2"}),"Loading..."]}):a.jsxs(a.Fragment,{children:["Get Enterprise",a.jsx(Di,{className:"h-4 w-4 ml-2"})]})})]})]})]})}),a.jsx(Bs,{open:P,onOpenChange:T=>{U(T),T||(Qt(!1),je(!1))},children:a.jsxs(ls,{className:"max-w-md",children:[a.jsx(cs,{children:a.jsx(us,{className:"font-display text-xl",children:"Settings"})}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Account"}),a.jsx("div",{className:"p-3 rounded-xl bg-secondary/30 border border-border/30",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`h-10 w-10 rounded-xl bg-gradient-to-br ${d!=null&&d.id?Dc(d.id):"from-primary to-blue-600"} flex items-center justify-center text-white font-semibold`,children:((gm=(mm=ve||(d==null?void 0:d.email))==null?void 0:mm[0])==null?void 0:gm.toUpperCase())||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:(d==null?void 0:d.email)||"User"}),a.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[u.plan," Plan"]})]})]})}),a.jsx("div",{className:"p-3 rounded-xl bg-secondary/30 border border-border/30",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Display Name"}),Kr?a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(mt,{value:cr,onChange:T=>Ot(T.target.value),placeholder:"Enter display name",className:"h-8 text-sm",autoFocus:!0}),a.jsx(Z,{size:"sm",onClick:F,disabled:qr||!cr.trim(),className:"h-8",children:qr?a.jsx(ze,{className:"h-3 w-3 animate-spin"}):a.jsx(Mt,{className:"h-3 w-3"})})]}):a.jsx("p",{className:"text-sm font-medium text-foreground",children:ve||"Not set"})]}),!Kr&&a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{Ot(ve||""),Qt(!0)},className:"h-8 px-2",children:a.jsx(Ci,{className:"h-3 w-3"})})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Change"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Z,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>Y(!pe),children:[a.jsx(t0,{className:"h-4 w-4"}),"Email"]}),a.jsxs(Z,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:fe,disabled:N,children:[N?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsx(GE,{className:"h-4 w-4"}),"Password"]})]}),pe&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx(mt,{placeholder:"New email address...",value:M,onChange:T=>K(T.target.value),type:"email",className:"text-sm"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{variant:"default",size:"sm",className:"flex-1",onClick:Ae,disabled:O||!M.trim(),children:O?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):"Confirm"}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{Y(!1),K("")},children:"Cancel"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"A confirmation will be sent to your new email."})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Subscription"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-secondary/30 border border-border/30",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Current Plan"}),a.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[u.plan," - ",u.plan==="enterprise"?500:u.plan==="pro"?100:3," Credits/Month"]})]}),u.plan!=="free"&&a.jsx(Z,{variant:"outline",size:"sm",onClick:jt,disabled:ee,children:ee?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsxs(a.Fragment,{children:["Manage",a.jsx(Di,{className:"h-3 w-3 ml-1"})]})})]}),u.plan==="free"&&a.jsxs(Z,{className:"w-full gap-2 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",onClick:()=>{U(!1),g(!0)},children:[a.jsx(Vl,{className:"h-4 w-4"}),"Upgrade Plan"]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[a.jsx(qE,{className:"h-4 w-4"}),"Redeem Code"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mt,{placeholder:"Enter code",value:ge,onChange:T=>Ie(T.target.value),className:"flex-1",disabled:ye,onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),ye||De())}}),a.jsx(Z,{size:"sm",onClick:De,disabled:ye||!ge.trim(),children:ye?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):"Redeem"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-semibold text-destructive",children:"Danger Zone"}),a.jsx("div",{className:"space-y-2",children:ne?a.jsxs("div",{className:"p-3 rounded-xl bg-destructive/10 border border-destructive/30 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx($g,{className:"h-4 w-4 text-destructive flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-destructive",children:"Are you sure?"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will permanently delete all your conversations, projects, and generated images. Your account and credits will remain. This action cannot be undone."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>je(!1),children:"Cancel"}),a.jsx(Z,{variant:"destructive",size:"sm",className:"flex-1",onClick:Me,disabled:le,children:le?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):"Delete Data"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(Z,{variant:"outline",size:"sm",className:"w-full justify-start gap-2 text-destructive border-destructive/30 hover:bg-destructive/10",onClick:()=>je(!0),children:[a.jsx(Ni,{className:"h-4 w-4"}),"Delete Your Data"]}),a.jsx("p",{className:"text-xs text-muted-foreground px-1",children:"This will permanently delete all your conversations, projects, and generated images. Your account will remain active."})]})})]}),a.jsx("div",{className:"pt-2 border-t border-border/30",children:a.jsxs(Z,{variant:"outline",size:"sm",className:"w-full gap-2 text-muted-foreground hover:text-foreground",onClick:c,children:[a.jsx(XE,{className:"h-4 w-4"}),"Sign Out"]})})]})]})}),a.jsx(gD,{open:yt,onOpenChange:kt,conversationId:(ut==null?void 0:ut.id)||null,conversationTitle:(ut==null?void 0:ut.title)||"",credits:u,isOwner:!0}),At&&a.jsx(wD,{open:kr,onOpenChange:Sr,projectId:At.id,projectName:At.name}),a.jsx(bD,{open:Yt,onOpenChange:Bt})]})}const li=new Map,kD=50*60*1e3;function SD(e){const t=li.get(e);return t?Date.now()>t.expiresAt?(li.delete(e),null):t.url:null}function jD(e){const t=Date.now()+kD;for(const[r,n]of Object.entries(e))n&&li.set(r,{url:n,expiresAt:t})}function ED(e){li.delete(e)}setInterval(()=>{const e=Date.now();for(const[t,r]of li.entries())e>r.expiresAt&&li.delete(t)},5*60*1e3);function CD(){return a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[a.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-primary to-blue-600 shadow-xl shadow-primary/20",children:a.jsx("img",{src:Qs,alt:"RoThumbs",className:"h-10 w-10"})}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(ze,{className:"h-5 w-5 animate-spin"}),a.jsx("span",{className:"text-lg font-medium",children:"Loading chat..."})]})]})}const $d=[{id:"16:9",label:"16:9 Thumbnails",icon:rC},{id:"1:1",label:"1:1 Icons",icon:aC}],Zy=[{id:"basic",label:"Basic",credits:1},{id:"hd",label:"HD",credits:1},{id:"1k",label:"1K",credits:1},{id:"2k",label:"2K",credits:2},{id:"4k",label:"4K",credits:4}];function ND({messages:e,messagesLoading:t=!1,onSendMessage:r,onRegenerate:n,credits:s,onImageClick:o,user:i,activeConversationId:l,isGenerating:c,isGeneratingElsewhere:u,generatingElsewhereTitle:d,onShowPricing:f,onOpenSidebar:p,senderProfiles:m={}}){const[b,y]=h.useState(""),[x,w]=h.useState([]),[g,v]=h.useState("16:9"),[_,k]=h.useState(()=>Jy(s.plan)),[S,j]=h.useState(!1),[C,A]=h.useState({}),[$,se]=h.useState({}),[q,ie]=h.useState(()=>new Set),[B,de]=h.useState({}),[Q,re]=h.useState(()=>new Set),[R,E]=h.useState(null);h.useEffect(()=>{l||k(Jy(s.plan))},[l,s.plan]);const P=h.useRef(new Set),U=h.useRef({}),V=h.useRef({});h.useEffect(()=>{U.current=C},[C]),h.useEffect(()=>{V.current=$},[$]);const oe=h.useCallback(async N=>{if(!l)return;const G=N.filter(M=>{if(!M||M.startsWith("data:")||M.startsWith("http://")||M.startsWith("https://"))return!1;const K=SD(M);return K?(U.current[M]||(A(Y=>({...Y,[M]:K})),U.current[M]=K),!1):U.current[M]||P.current.has(M)?!1:(V.current[M]??0)<3});if(G.length===0)return;const O={};G.forEach(M=>{P.current.add(M),O[M]=(V.current[M]??0)+1}),se(M=>{const K={...M};return G.forEach(pe=>{K[pe]=(K[pe]??0)+1}),V.current=K,K});const I=()=>W.functions.invoke("sign-chat-media",{body:{conversationId:l,refs:G}});try{let{data:M,error:K}=await I();const pe=K==null?void 0:K.status;if(K&&(pe===401||pe===403)&&(await W.auth.refreshSession().catch(()=>{}),{data:M,error:K}=await I()),K){console.error("[ChatArea] sign-chat-media failed",K),ie(le=>{const J=new Set(le);return G.forEach(ne=>{O[ne]>=3&&J.add(ne)}),J});return}const Y=(M==null?void 0:M.signedUrls)??{};jD(Y),A(le=>{const J={...le};for(const[ne,je]of Object.entries(Y))je&&(J[ne]=je);return U.current=J,J}),ie(le=>{const J=new Set(le);return G.forEach(ne=>{Y[ne]?J.delete(ne):O[ne]>=3&&J.add(ne)}),J})}catch(M){console.error("[ChatArea] sign-chat-media threw",M),ie(K=>{const pe=new Set(K);return G.forEach(Y=>{O[Y]>=3&&pe.add(Y)}),pe})}finally{G.forEach(M=>P.current.delete(M))}},[l]),ee=h.useCallback(N=>{A(G=>{const O={...G};return delete O[N],U.current=O,O}),se(G=>{const O={...G};return delete O[N],V.current=O,O}),ie(G=>{const O=new Set(G);return O.delete(N),O}),ED(N),P.current.delete(N),oe([N])},[oe]),ke=h.useCallback(N=>N?N.startsWith("data:")||N.startsWith("http://")||N.startsWith("https://")?N:C[N]??null:null,[C]),ve=h.useRef(null),me=h.useRef(null),Le=h.useRef(null),Fe=h.useRef(null);Au(s.plan),$d.filter(N=>qy(s.plan,N.id));const yt=Zy.filter(N=>Gy(s.plan,N.id)),kt=()=>{var N;(N=ve.current)==null||N.scrollIntoView({behavior:"smooth"})};h.useEffect(()=>{kt()},[e]),h.useEffect(()=>{A({}),se({}),ie(new Set),de({}),re(new Set),E(null),P.current.clear(),U.current={},V.current={}},[l]),h.useEffect(()=>{if(!l||!(i!=null&&i.id))return;const N=e.filter(G=>G.role==="assistant"&&G.image_url).map(G=>G.id);N.length!==0&&W.from("thumbnail_feedback").select("message_id, feedback_type").eq("user_id",i.id).in("message_id",N).then(({data:G})=>{if(G){const O={};G.forEach(I=>{O[I.message_id]=I.feedback_type}),de(I=>({...I,...O}))}})},[l,e,i==null?void 0:i.id]);const ut=h.useCallback(async(N,G)=>{if(!(i!=null&&i.id))return;re(I=>new Set([...I,N]));const O=B[N];try{if(O===G)await W.from("thumbnail_feedback").delete().eq("message_id",N).eq("user_id",i.id),de(I=>({...I,[N]:null}));else{const{error:I}=await W.from("thumbnail_feedback").upsert({message_id:N,user_id:i.id,feedback_type:G},{onConflict:"message_id,user_id"});if(I)throw I;de(M=>({...M,[N]:G}))}}catch(I){console.error("[Feedback] Error:",I),H.error("Failed to save feedback")}finally{re(I=>{const M=new Set(I);return M.delete(N),M})}},[i==null?void 0:i.id,B]),St=h.useCallback(async(N,G)=>{if(!n||c||R)return;const O=Xi(G);if(s.credits_total-s.credits_used<O){H.error(`Not enough credits! Regeneration requires ${O} credit${O>1?"s":""}.`),f==null||f();return}E(N);try{await n(N,G)}finally{E(null)}},[n,c,R,s,f]),kr=h.useMemo(()=>{const N=[];for(const G of e)G.image_url&&N.push(G.image_url),G.uploaded_images&&N.push(...G.uploaded_images),G.uploaded_image_url&&N.push(G.uploaded_image_url);return Array.from(new Set(N))},[e]);h.useEffect(()=>{l&&oe(kr)},[l,kr,oe]),h.useEffect(()=>{Fe.current&&(Fe.current.style.height="auto",Fe.current.style.height=`${Math.min(Fe.current.scrollHeight,200)}px`)},[b]);const Sr=N=>{var O;const G=(O=N.target.files)==null?void 0:O[0];G&&(At(G),me.current&&(me.current.value=""))},At=N=>{if(N.size>5*1024*1024){H.error("Image too large. Max 5MB.");return}if(!N.type.startsWith("image/")){H.error("Please upload an image file.");return}const G=URL.createObjectURL(N);w(O=>[...O,{file:N,previewUrl:G}])},Vr=h.useCallback(N=>{var O;const G=(O=N.clipboardData)==null?void 0:O.items;if(G){for(const I of G)if(I.type.startsWith("image/")){N.preventDefault();const M=I.getAsFile();M&&At(M);break}}},[]),Yt=async()=>{if(!b.trim()&&x.length===0)return;const N=b,G=x.map(I=>I.file);y(""),w(I=>(I.forEach(M=>URL.revokeObjectURL(M.previewUrl)),[]));const O=[];for(const I of G){const M=await new Promise(K=>{const pe=new FileReader;pe.onload=()=>K(pe.result),pe.readAsDataURL(I)});O.push(M)}await r(N.trim(),O.length>0?O:void 0,g,yt.length>0?_:void 0)},Bt=h.useCallback(N=>{N.preventDefault(),N.stopPropagation(),j(!0)},[]),Kr=h.useCallback(N=>{N.preventDefault(),N.stopPropagation(),Le.current&&!Le.current.contains(N.relatedTarget)&&j(!1)},[]),Qt=h.useCallback(N=>{N.preventDefault(),N.stopPropagation()},[]),cr=h.useCallback(N=>{N.preventDefault(),N.stopPropagation(),j(!1),Array.from(N.dataTransfer.files).forEach(O=>{O.type.startsWith("image/")&&At(O)})},[]),Ot=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),Yt())},qr=async N=>{try{if(N.startsWith("data:")){const K=document.createElement("a");K.href=N,K.download=`thumbnail-${Date.now()}.png`,document.body.appendChild(K),K.click(),document.body.removeChild(K),H.success("Downloaded!");return}const O=await(await fetch(N)).blob(),I=window.URL.createObjectURL(O),M=document.createElement("a");M.href=I,M.download=`thumbnail-${Date.now()}.png`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(I),H.success("Downloaded!")}catch{H.error("Failed to download")}},Gr=$d.find(N=>N.id===g);return a.jsxs("div",{ref:Le,className:"flex-1 flex flex-col h-[100dvh] max-h-[100dvh] overflow-hidden bg-background relative",onDragEnter:Bt,onDragLeave:Kr,onDragOver:Qt,onDrop:cr,children:[a.jsx("button",{type:"button",onClick:()=>p==null?void 0:p(),className:`${p?"flex":"hidden"} lg:hidden absolute top-4 left-4 z-40 h-10 w-10 items-center justify-center rounded-full bg-background/70 backdrop-blur border border-border/40 shadow-lg`,"aria-label":"Open menu",children:a.jsx(ZE,{className:"h-5 w-5 text-foreground"})}),S&&a.jsx("div",{className:"absolute inset-0 z-50 bg-primary/10 border-2 border-dashed border-primary flex items-center justify-center pointer-events-none",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl flex flex-col items-center gap-2",children:[a.jsx($h,{className:"h-10 w-10 text-primary"}),a.jsx("p",{className:"text-lg font-semibold text-foreground",children:"Drop images here"})]})}),a.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-primary/10 to-transparent pointer-events-none z-10 dark:from-primary/5"}),a.jsx("div",{className:"flex-1 overflow-y-auto relative",children:a.jsx("div",{className:"max-w-3xl mx-auto py-8 px-4",children:t?a.jsx(CD,{}):e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[a.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-primary to-blue-600 mb-6 shadow-xl shadow-primary/20",children:a.jsx("img",{src:Qs,alt:"RoThumbs",className:"h-10 w-10"})}),a.jsx("h1",{className:"font-display text-3xl font-bold text-foreground mb-2 text-center",children:"What thumbnail will you create today?"}),a.jsx("p",{className:"text-muted-foreground text-center max-w-md mb-4",children:"Describe your vision or upload a reference image"})]}):a.jsxs("div",{className:"space-y-6",children:[e.map(N=>{var pe,Y;const G=N.sender_id,O=G?m[G]:null,I=(O==null?void 0:O.display_name)||(O==null?void 0:O.email)||((pe=i==null?void 0:i.user_metadata)==null?void 0:pe.display_name)||(i==null?void 0:i.email),M=((Y=I==null?void 0:I[0])==null?void 0:Y.toUpperCase())||"U",K=G?Dc(G):i!=null&&i.id?Dc(i.id):"from-primary to-blue-600";return a.jsxs("div",{className:"group",children:[N.role==="user"&&a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:`h-9 w-9 rounded-xl bg-gradient-to-br ${K} flex items-center justify-center text-white text-sm font-semibold flex-shrink-0 shadow-lg shadow-primary/20`,children:M}),a.jsxs("div",{className:"flex-1 pt-1",children:[N.uploaded_images&&N.uploaded_images.length>0?a.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:N.uploaded_images.map((le,J)=>{const ne=ke(le);return a.jsx("div",{className:"rounded-xl overflow-hidden inline-block border border-border/50 shadow-lg",children:ne?a.jsx("img",{src:ne,alt:`Uploaded ${J+1}`,className:"max-w-xs max-h-48 object-contain",loading:"lazy"}):a.jsx("div",{className:"w-64 h-40 flex flex-col items-center justify-center bg-muted text-muted-foreground gap-2",children:q.has(le)?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm",children:"Failed to load"}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>ee(le),className:"gap-1",children:[a.jsx(Kl,{className:"h-3 w-3"})," Retry"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(ze,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Loading image"})]})})},J)})}):N.uploaded_image_url&&a.jsx("div",{className:"mb-3 rounded-xl overflow-hidden inline-block border border-border/50 shadow-lg",children:ke(N.uploaded_image_url)?a.jsx("img",{src:ke(N.uploaded_image_url),alt:"Uploaded",className:"max-w-xs max-h-48 object-contain",loading:"lazy"}):a.jsx("div",{className:"w-64 h-40 flex flex-col items-center justify-center bg-muted text-muted-foreground gap-2",children:q.has(N.uploaded_image_url)?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm",children:"Failed to load"}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>ee(N.uploaded_image_url),className:"gap-1",children:[a.jsx(Kl,{className:"h-3 w-3"})," Retry"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(ze,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Loading image"})]})})}),a.jsx("p",{className:"text-foreground font-medium",children:N.content})]})]}),N.role==="assistant"&&a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-xl bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center flex-shrink-0 shadow-lg shadow-primary/20",children:a.jsx("img",{src:Qs,alt:"RoThumbs",className:"h-5 w-5"})}),a.jsxs("div",{className:"flex-1 pt-1",children:[N.content==="Generating your thumbnail..."&&!N.image_url?a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(ze,{className:"h-4 w-4 animate-spin text-primary"}),a.jsx("span",{className:"text-sm",children:"Generating your thumbnail..."})]}):a.jsx("p",{className:"text-foreground mb-4",children:N.content}),(()=>{const le=N.image_url,J=ke(le);return le?J?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"rounded-xl overflow-hidden border border-border/50 cursor-pointer hover:opacity-95 transition-opacity inline-block shadow-xl",onClick:()=>o(J),children:a.jsx("img",{src:J,alt:"Generated thumbnail",className:"max-w-md",loading:"lazy"})}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs(Z,{variant:"outline",size:"sm",className:"gap-1.5 bg-background hover:bg-secondary border-border/50",onClick:()=>qr(J),children:[a.jsx(BE,{className:"h-4 w-4"}),"Download"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("div",{className:"relative group/like",children:[a.jsx(Z,{variant:"ghost",size:"icon",className:`h-8 w-8 ${B[N.id]==="like"?"text-green-500 bg-green-500/10":"text-muted-foreground hover:text-foreground"}`,onClick:()=>ut(N.id,"like"),disabled:Q.has(N.id),children:Q.has(N.id)?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsx(uC,{className:"h-4 w-4"})}),a.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs text-muted-foreground opacity-0 group-hover/like:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Like"})]}),a.jsxs("div",{className:"relative group/dislike",children:[a.jsx(Z,{variant:"ghost",size:"icon",className:`h-8 w-8 ${B[N.id]==="dislike"?"text-red-500 bg-red-500/10":"text-muted-foreground hover:text-foreground"}`,onClick:()=>ut(N.id,"dislike"),disabled:Q.has(N.id),children:Q.has(N.id)?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsx(cC,{className:"h-4 w-4"})}),a.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs text-muted-foreground opacity-0 group-hover/dislike:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Dislike"})]})]}),n&&a.jsxs("div",{className:"relative group/regen",children:[a.jsx(Z,{variant:"ghost",size:"icon",className:`h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-secondary ${R===N.id?"text-primary bg-primary/10":""}`,onClick:()=>St(N.id,_),disabled:c||R!==null,children:R===N.id?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsx(nC,{className:"h-4 w-4"})}),a.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs text-muted-foreground opacity-0 group-hover/regen:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Regen"})]})]})]}):a.jsx("div",{className:"flex flex-col items-start gap-2 text-muted-foreground",children:le&&q.has(le)?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm",children:"Failed to load image"}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>ee(le),className:"gap-1",children:[a.jsx(Kl,{className:"h-3 w-3"})," Retry"]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{className:"h-4 w-4 animate-spin text-primary"}),a.jsx("span",{className:"text-sm",children:"Loading image"})]})}):null})()]})]})]},N.id)}),a.jsx("div",{ref:ve})]})})}),a.jsx("div",{className:"p-4 bg-background border-t border-border/20",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[x.length>0&&a.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:x.map((N,G)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:N.previewUrl,alt:`Upload preview ${G+1}`,className:"h-20 w-20 object-cover rounded-xl border border-border/50 shadow-lg"}),a.jsx("button",{onClick:()=>{URL.revokeObjectURL(N.previewUrl),w(O=>O.filter((I,M)=>M!==G))},className:"absolute -top-2 -right-2 p-1.5 rounded-full bg-foreground text-background hover:bg-foreground/80 transition-colors shadow-lg",children:a.jsx(eo,{className:"h-3 w-3"})})]},N.previewUrl))}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs(uf,{children:[a.jsx(df,{asChild:!0,children:a.jsxs(Z,{variant:"outline",size:"sm",className:"gap-2 bg-background/80 border-border/50 text-muted-foreground hover:text-foreground",children:[Gr&&a.jsx(Gr.icon,{className:"h-4 w-4"}),g]})}),a.jsxs(Mc,{align:"start",children:[a.jsx(hf,{children:"Aspect Ratio"}),a.jsx(ff,{}),$d.map(N=>{const G=!qy(s.plan,N.id);return a.jsxs(Os,{onClick:()=>{G?f==null||f():v(N.id)},className:`${g===N.id?"bg-primary/10":""} ${G?"opacity-60":""}`,children:[a.jsx(N.icon,{className:"h-4 w-4 mr-2"}),N.label,G&&a.jsx(Dg,{className:"h-3 w-3 ml-auto text-muted-foreground"})]},N.id)})]})]}),yt.length>1&&a.jsxs(uf,{children:[a.jsx(df,{asChild:!0,children:a.jsxs(Z,{variant:"outline",size:"sm",className:"gap-2 bg-background/80 border-border/50 text-muted-foreground hover:text-foreground",children:[a.jsx(oC,{className:"h-4 w-4"}),_.toUpperCase(),a.jsxs("span",{className:"text-xs opacity-70",children:["(",Xi(_)," ",Xi(_)===1?"credit":"credits",")"]})]})}),a.jsxs(Mc,{align:"start",children:[a.jsx(hf,{children:"Quality"}),a.jsx(ff,{}),Zy.map(N=>{const G=!Gy(s.plan,N.id);return a.jsxs(Os,{onClick:()=>{G?f==null||f():k(N.id)},className:`${_===N.id?"bg-primary/10":""} ${G?"opacity-60":""} justify-between`,children:[a.jsx("span",{children:N.label}),a.jsxs("span",{className:"flex items-center gap-1.5 ml-3",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.credits," ",N.credits===1?"credit":"credits"]}),G&&a.jsx(Dg,{className:"h-3 w-3 text-muted-foreground"})]})]},N.id)})]})]})]}),a.jsxs("div",{className:"relative flex items-end gap-2 p-3 rounded-2xl border border-border/50 bg-background/80 backdrop-blur-xl shadow-lg shadow-black/5",children:[a.jsx("input",{ref:me,type:"file",accept:"image/*",className:"hidden",onChange:Sr}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>{var N;return(N=me.current)==null?void 0:N.click()},className:"flex-shrink-0 h-10 w-10 text-muted-foreground hover:text-primary hover:bg-primary/5 rounded-xl",children:a.jsx($h,{className:"h-5 w-5"})}),a.jsx("textarea",{ref:Fe,placeholder:"Describe your thumbnail...",value:b,onChange:N=>y(N.target.value),onKeyDown:Ot,onPaste:Vr,className:"flex-1 bg-transparent border-0 resize-none focus:outline-none focus:ring-0 text-foreground placeholder:text-muted-foreground py-2.5 max-h-[200px] text-sm font-medium",rows:1}),a.jsx(Z,{variant:"default",size:"icon",onClick:Yt,disabled:!b.trim()&&x.length===0||c,className:"flex-shrink-0 h-10 w-10 rounded-xl bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 shadow-lg shadow-primary/20",children:c?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsx(DE,{className:"h-4 w-4"})})]})]})})]})}const RD=N1,TD=R1,O_=h.forwardRef(({className:e,...t},r)=>a.jsx(ju,{className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));O_.displayName=ju.displayName;const PD=ou("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),I_=h.forwardRef(({side:e="right",className:t,children:r,hideCloseButton:n=!1,...s},o)=>a.jsxs(TD,{children:[a.jsx(O_,{}),a.jsxs(Eu,{ref:o,className:Se(PD({side:e}),t),...s,children:[r,!n&&a.jsxs(T1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(eo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));I_.displayName=Eu.displayName;const M_=h.forwardRef(({className:e,...t},r)=>a.jsx(Cu,{ref:r,className:Se("text-lg font-semibold text-foreground",e),...t}));M_.displayName=Cu.displayName;const AD=h.forwardRef(({className:e,...t},r)=>a.jsx(Nu,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));AD.displayName=Nu.displayName;const Ld=768;function OD(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Ld-1}px)`),n=()=>{t(window.innerWidth<Ld)};return r.addEventListener("change",n),t(window.innerWidth<Ld),()=>r.removeEventListener("change",n)},[]),!!e}function ID(){var G;const[e,t]=h.useState(null),[r,n]=h.useState(null),[s,o]=h.useState([]),[i,l]=h.useState({}),[c,u]=h.useState({}),[d,f]=h.useState([]),[p,m]=h.useState(null),[b,y]=h.useState(null),[x,w]=h.useState(null),[g,v]=h.useState([]),[_,k]=h.useState({}),[S,j]=h.useState(!1),[C,A]=h.useState({credits_used:0,credits_total:3,plan:"free",subscription_end:null,is_canceled:!1}),[$,se]=h.useState(!0),[q,ie]=h.useState(null),[B,de]=h.useState(!0),[Q,re]=h.useState(!1),[R,E]=h.useState(()=>new Set),P=h.useRef(p),U=Wa();OD();const V=gP(),[oe,ee]=h.useState(!1);h.useEffect(()=>{P.current=p},[p]);const ke=h.useCallback((O,I)=>{E(M=>{const K=new Set(M);return I?K.add(O):K.delete(O),K})},[]);h.useEffect(()=>{const{data:{subscription:O}}=W.auth.onAuthStateChange((I,M)=>{if(I==="PASSWORD_RECOVERY"){U("/auth?reset=true");return}n(M),t((M==null?void 0:M.user)??null),M!=null&&M.user||U("/auth")});return W.auth.getSession().then(({data:{session:I}})=>{n(I),t((I==null?void 0:I.user)??null),I!=null&&I.user||U("/auth"),se(!1)}),()=>O.unsubscribe()},[U]),h.useEffect(()=>{if(!e)return;(async()=>{const{data:I,error:M}=await W.from("projects").select("*").order("created_at",{ascending:!1});!M&&I&&f(I)})()},[e]),h.useEffect(()=>{var pe,Y,le;if(!e)return;const O=async()=>{const{data:J,error:ne}=await W.from("conversations").select("id, title, project_id, user_id, created_at, updated_at").order("updated_at",{ascending:!1});if(!ne&&J){o(J);const je=[...new Set(J.map(ge=>ge.user_id).filter(Boolean))];if(je.length>0){const{data:ge}=await W.from("profiles").select("user_id, display_name, email").in("user_id",je);if(ge){const Ie={};ge.forEach(ye=>{Ie[ye.user_id]={user_id:ye.user_id,display_name:ye.display_name,email:ye.email}}),k(ye=>({...ye,...Ie}))}}}},I=async()=>{const{data:J,error:ne}=await W.from("conversation_members").select("id, conversation_id, user_id, email, role, joined_at");if(!ne&&J){const je={},ge=[];J.forEach(ye=>{je[ye.conversation_id]||(je[ye.conversation_id]=[]),je[ye.conversation_id].push(ye),ye.user_id&&ye.user_id!=="00000000-0000-0000-0000-000000000000"&&ye.joined_at&&ge.push(ye.user_id)}),l(je);const Ie=[...new Set(ge)];if(Ie.length>0){const{data:ye}=await W.from("profiles").select("user_id, display_name, email").in("user_id",Ie);if(ye){const Te={};ye.forEach(_e=>{Te[_e.user_id]={user_id:_e.user_id,display_name:_e.display_name,email:_e.email}}),k(_e=>({..._e,...Te}))}}}},M=async()=>{const{data:J,error:ne}=await W.from("project_members").select("id, project_id, user_id, email, role, joined_at");if(!ne&&J){const je={},ge=[];J.forEach(ye=>{je[ye.project_id]||(je[ye.project_id]=[]),je[ye.project_id].push(ye),ye.user_id&&ye.user_id!=="00000000-0000-0000-0000-000000000000"&&ye.joined_at&&ge.push(ye.user_id)}),u(je);const Ie=[...new Set(ge)];if(Ie.length>0){const{data:ye}=await W.from("profiles").select("user_id, display_name, email").in("user_id",Ie);if(ye){const Te={};ye.forEach(_e=>{Te[_e.user_id]={user_id:_e.user_id,display_name:_e.display_name,email:_e.email}}),k(_e=>({..._e,...Te}))}}}};if(e){const J=((pe=e.user_metadata)==null?void 0:pe.display_name)||((Y=e.user_metadata)==null?void 0:Y.full_name)||((le=e.user_metadata)==null?void 0:le.name)||null;k(ne=>({...ne,[e.id]:{user_id:e.id,display_name:J,email:e.email||null}}))}O(),I(),M();const K=W.channel("conversation-members-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversation_members"},async J=>{console.log("[Realtime] conversation_members UPDATE:",J);const ne=J.new;ne.joined_at&&ne.user_id===e.id&&(console.log("[Realtime] User joined a conversation, refreshing..."),await O(),await I())}).on("postgres_changes",{event:"INSERT",schema:"public",table:"conversation_members"},async()=>{console.log("[Realtime] conversation_members INSERT, refreshing members..."),await I()}).subscribe();return()=>{W.removeChannel(K)}},[e]);const ve=h.useRef(new Map),me=h.useCallback(async O=>{const I=O.filter(M=>!ve.current.has(M)).slice(0,5);if(I.length!==0)for(const M of I)try{const{data:K}=await W.from("messages").select("id, role, content, image_url, uploaded_image_url, uploaded_images, created_at, sender_id").eq("conversation_id",M).order("created_at",{ascending:!0}).limit(50);if(K){const pe=K.map(Y=>({...Y,uploaded_images:Y.uploaded_images||(Y.uploaded_image_url?[Y.uploaded_image_url]:void 0)}));ve.current.set(M,pe)}}catch{}},[]);h.useEffect(()=>{if(s.length>0){const O=s.slice(0,5).map(I=>I.id);me(O)}},[s,me]),h.useEffect(()=>{if(!p){v([]),j(!1);return}const O=ve.current.get(p);O?(console.log("[Messages] Using cached messages for:",p),v(O),j(!1)):v([]);let I=null;O||(I=setTimeout(()=>{j(!0)},100)),(async()=>{console.log("[Messages] Fetching messages for conversation:",p);const{data:pe,error:Y}=await W.from("messages").select("id, role, content, image_url, uploaded_image_url, uploaded_images, created_at, sender_id").eq("conversation_id",p).order("created_at",{ascending:!0});if(I&&clearTimeout(I),Y){console.error("[Messages] Fetch error:",Y),j(!1);return}if(pe){console.log("[Messages] Fetched",pe.length,"messages");const le=pe.map(ne=>({...ne,uploaded_images:ne.uploaded_images||(ne.uploaded_image_url?[ne.uploaded_image_url]:void 0)})),J=[...new Set(le.filter(ne=>ne.sender_id&&ne.sender_id!=="00000000-0000-0000-0000-000000000000").map(ne=>ne.sender_id))];k(ne=>{const je=J.filter(ge=>!ne[ge]);return je.length>0&&W.from("profiles").select("user_id, display_name, email").in("user_id",je).then(({data:ge})=>{if(ge&&ge.length>0){const Ie={};ge.forEach(ye=>{Ie[ye.user_id]={user_id:ye.user_id,display_name:ye.display_name,email:ye.email}}),k(ye=>({...ye,...Ie}))}}),ne}),ve.current.set(p,le),v(le)}j(!1)})(),console.log("[Realtime] Setting up subscription for conversation:",p);const K=W.channel(`messages-${p}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${p}`},async pe=>{console.log("[Realtime] INSERT received:",pe);const Y=pe.new,le={id:Y.id,role:Y.role,content:Y.content,image_url:Y.image_url,uploaded_image_url:Y.uploaded_image_url,uploaded_images:Y.uploaded_images||(Y.uploaded_image_url?[Y.uploaded_image_url]:void 0),created_at:Y.created_at,sender_id:Y.sender_id};le.sender_id&&le.sender_id!=="00000000-0000-0000-0000-000000000000"&&k(J=>(J[le.sender_id]||W.from("profiles").select("user_id, display_name, email").eq("user_id",le.sender_id).single().then(({data:ne})=>{ne&&k(je=>({...je,[ne.user_id]:{user_id:ne.user_id,display_name:ne.display_name,email:ne.email}}))}),J)),v(J=>{if(J.some(je=>je.id===le.id))return console.log("[Realtime] Skipping duplicate INSERT:",le.id),J;console.log("[Realtime] Adding new message from realtime:",le.id);const ne=[...J,le].sort((je,ge)=>new Date(je.created_at).getTime()-new Date(ge.created_at).getTime());return ve.current.set(p,ne),ne})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`conversation_id=eq.${p}`},pe=>{console.log("[Realtime] UPDATE received:",pe);const Y=pe.new,le={id:Y.id,role:Y.role,content:Y.content,image_url:Y.image_url,uploaded_image_url:Y.uploaded_image_url,uploaded_images:Y.uploaded_images||(Y.uploaded_image_url?[Y.uploaded_image_url]:void 0),created_at:Y.created_at,sender_id:Y.sender_id};v(J=>{const ne=J.findIndex(ge=>ge.id===le.id);let je;if(ne===-1)console.log("[Realtime] UPDATE for unknown message, inserting:",le.id),je=[...J,le].sort((ge,Ie)=>new Date(ge.created_at).getTime()-new Date(Ie.created_at).getTime());else{const ge=J[ne],Ie={...ge,content:le.content,image_url:le.image_url??ge.image_url,uploaded_image_url:le.uploaded_image_url??ge.uploaded_image_url,uploaded_images:le.uploaded_images??ge.uploaded_images};console.log("[Realtime] Merging UPDATE for message:",le.id,"image_url:",Ie.image_url),je=[...J],je[ne]=Ie}return ve.current.set(p,je),je})}).subscribe(pe=>{console.log("[Realtime] Subscription status:",pe)});return()=>{I&&clearTimeout(I),console.log("[Realtime] Removing channel for conversation:",p),W.removeChannel(K)}},[p]);const Le=h.useCallback(async()=>{if(!e)return;const{data:O,error:I}=await W.rpc("check_user_credits",{user_id_param:e.id});if(!I&&O){const K=O;if(K.success&&K.credits_used!==void 0&&K.credits_total!==void 0&&K.plan){A({credits_used:K.credits_used,credits_total:K.credits_total,plan:K.plan});return}}const{data:M}=await W.from("user_credits").select("credits_used, credits_total, plan").eq("user_id",e.id).single();M&&A(M)},[e]),Fe=h.useCallback(async()=>{if(e)try{const{data:O,error:I}=await W.functions.invoke("check-subscription");if(I){console.error("Error checking subscription:",I);return}O&&!O.error&&A(M=>({...M,plan:O.plan||M.plan,credits_total:O.credits_total??M.credits_total,credits_used:O.credits_used??M.credits_used,subscription_end:O.subscription_end||null,is_canceled:O.is_canceled||!1}))}catch(O){console.error("Error checking subscription:",O)}},[e]);h.useEffect(()=>{e&&Le()},[e,Le]),h.useEffect(()=>{if(!e)return;let O=null;const I=new URLSearchParams(window.location.search),M=I.get("subscription"),K=I.get("credits_added"),pe=I.get("showPricing"),Y=I.get("join"),le=I.get("joinProject");M==="success"&&(H.success("Subscription activated! Your credits have been updated."),window.history.replaceState({},"","/app")),K&&(H.success(`${K} credits purchased! Updating your balance...`),Le(),O=window.setTimeout(()=>Le(),5e3),window.history.replaceState({},"","/app")),pe==="true"&&(re(!0),window.history.replaceState({},"","/app")),Y&&(yt(Y),window.history.replaceState({},"","/app")),le&&(kt(le),window.history.replaceState({},"","/app")),Fe();const J=setInterval(Fe,6e4);return()=>{clearInterval(J),O&&window.clearTimeout(O)}},[e,Fe,Le]);const yt=async O=>{try{const{data:I,error:M}=await W.functions.invoke("join-conversation",{body:{inviteToken:O}});if(M)throw M;if(I.error)throw new Error(I.error);H.success(`Joined conversation: ${I.conversationTitle}`);const{data:K}=await W.from("conversations").select("*").order("updated_at",{ascending:!1});K&&(o(K),I.conversationId&&(m(I.conversationId),de(!1)))}catch(I){const M=I instanceof Error?I.message:"Failed to join conversation";H.error(M)}},kt=async O=>{try{const{data:I,error:M}=await W.functions.invoke("join-project",{body:{inviteToken:O}});if(M)throw M;if(I.error)throw new Error(I.error);H.success(`Joined project: ${I.projectName}`);const{data:K}=await W.from("projects").select("*").order("created_at",{ascending:!1});K&&(f(K),I.projectId&&y(I.projectId));const{data:pe}=await W.from("conversations").select("*").order("updated_at",{ascending:!1});pe&&o(pe)}catch(I){const M=I instanceof Error?I.message:"Failed to join project";H.error(M)}},ut=async O=>{de(!0),m(null),v([]),w(O||null)},St=O=>{de(!1),m(O)},kr=async O=>{if(!e)return null;const I={user_id:e.id,title:O};x&&(I.project_id=x);const{data:M,error:K}=await W.from("conversations").insert(I).select().single();return!K&&M?(o(pe=>[M,...pe]),w(null),M.id):null},Sr=async O=>{const{error:I}=await W.from("conversations").delete().eq("id",O);if(!I&&(o(s.filter(M=>M.id!==O)),p===O)){const M=s.filter(K=>K.id!==O);m(M.length>0?M[0].id:null)}},At=async O=>{if(!e)return;const I=["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#14b8a6","#f97316"],M=I[Math.floor(Math.random()*I.length)],{data:K,error:pe}=await W.from("projects").insert({user_id:e.id,name:O,color:M}).select().single();!pe&&K?(f([K,...d]),H.success("Project created!")):H.error("Failed to create project")},Vr=async O=>{const{error:I}=await W.from("projects").delete().eq("id",O);I?H.error("Failed to delete project"):(f(d.filter(M=>M.id!==O)),b===O&&y(null),H.success("Project deleted"))},Yt=async(O,I)=>{const{error:M}=await W.from("projects").update({name:I}).eq("id",O);M?H.error("Failed to rename project"):f(d.map(K=>K.id===O?{...K,name:I}:K))},Bt=async(O,I)=>{const{error:M}=await W.from("conversations").update({title:I}).eq("id",O);M?H.error("Failed to rename chat"):(o(s.map(K=>K.id===O?{...K,title:I}:K)),H.success("Chat renamed!"))},Kr=async()=>{await W.auth.signOut(),U("/")},Qt=async(O,I,M,K)=>{var st,ur,ae,be;if(!e)return;if(C.credits_used>=C.credits_total){H.error("No credits remaining! Upgrade your plan for more generations."),re(!0);return}const pe=!p;let Y=p;if(!Y){let F=O.slice(0,30)+(O.length>30?"...":""),fe=0;for(;!Y&&fe<3;)Y=await kr(F),Y||(fe++,fe<3&&await new Promise(Me=>setTimeout(Me,500*fe)));if(!Y){H.error("Failed to create conversation. Please try again.");return}const Ae=Y;W.functions.invoke("generate-title",{body:{prompt:O}}).then(async({data:Me})=>{Me!=null&&Me.title&&Me.title!==F&&(await W.from("conversations").update({title:Me.title}).eq("id",Ae),o(De=>De.map(Pe=>Pe.id===Ae?{...Pe,title:Me.title}:Pe)))}).catch(console.error),de(!1)}if(!Y)return;let le=[];if(I&&I.length>0)for(let F=0;F<I.length;F++){const fe=I[F];try{const Ae=fe.replace(/^data:image\/\w+;base64,/,""),Me=atob(Ae),De=new Uint8Array(Me.length);for(let xs=0;xs<Me.length;xs++)De[xs]=Me.charCodeAt(xs);const Pe=Date.now(),jt=`conversations/${Y}/${e.id}/${Pe}-${F}.png`,{error:ws}=await W.storage.from("chat-media").upload(jt,De,{contentType:"image/png",upsert:!1});ws?console.error("[Storage] Upload error:",ws):le.push(jt)}catch(Ae){console.error("[Storage] Failed to upload attachment:",Ae)}}let J=null,ne=null;for(let F=0;F<3;F++){const fe=await W.from("messages").insert({conversation_id:Y,role:"user",content:O,uploaded_image_url:le[0]||null,uploaded_images:le.length>0?le:null,sender_id:e.id}).select("id, role, content, image_url, uploaded_image_url, uploaded_images, created_at, sender_id").single();if(J=fe.data,ne=fe.error,!ne&&J)break;F<2&&(console.log("[Messages] Retrying user message insert, attempt:",F+1),await new Promise(Ae=>setTimeout(Ae,500*(F+1))))}if(ne||!J){console.error("[Messages] Insert user message error:",ne),H.error("Failed to send message. Please try again.");return}const je={...J,uploaded_images:J.uploaded_images||(J.uploaded_image_url?[J.uploaded_image_url]:void 0)};e.id&&!_[e.id]&&k(F=>{var fe;return{...F,[e.id]:{user_id:e.id,display_name:((fe=e.user_metadata)==null?void 0:fe.display_name)||null,email:e.email||null}}}),P.current===Y&&v(F=>F.some(fe=>fe.id===je.id)?F:[...F,je]),pe&&m(Y);let ge=null,Ie=null;for(let F=0;F<3;F++){const fe=await W.from("messages").insert({conversation_id:Y,role:"assistant",content:"Generating your thumbnail...",image_url:null}).select("id, role, content, image_url, uploaded_image_url, uploaded_images, created_at").single();if(ge=fe.data,Ie=fe.error,!Ie&&ge)break;F<2&&(console.log("[Messages] Retrying placeholder insert, attempt:",F+1),await new Promise(Ae=>setTimeout(Ae,500*(F+1))))}if(Ie||!ge){console.error("[Messages] Insert placeholder assistant error:",Ie),H.error("Failed to start generation. Please try again.");return}const ye={...ge,uploaded_images:void 0};P.current===Y&&v(F=>F.some(fe=>fe.id===ye.id)?F:[...F,ye]);const Te=[...g,je].slice(-10).map(F=>{const fe=[];return fe.push({type:"text",text:`${F.role==="user"?"User":"Assistant"}: ${F.content}`}),F.image_url&&fe.push({type:"image_url",image_url:{url:F.image_url}}),fe}).flat(),_e=((st=[...g].reverse().find(F=>F.role==="assistant"&&F.image_url))==null?void 0:st.image_url)??null;ke(Y,!0);try{let F=null,fe=null;for(let De=0;De<2;De++){const Pe=await W.functions.invoke("generate-thumbnail",{body:{prompt:O,images:I||[],aspectRatio:M||"16:9",quality:K||"1k",conversationId:Y,placeholderMessageId:ge.id,history:Te,previousGeneratedImage:_e}});if(F=Pe.data,fe=Pe.error,!fe&&F&&!F.error)break;const jt=((ur=fe==null?void 0:fe.message)==null?void 0:ur.includes("timeout"))||((ae=fe==null?void 0:fe.message)==null?void 0:ae.includes("network"))||((be=fe==null?void 0:fe.message)==null?void 0:be.includes("connection"));if(De<1&&jt)console.log("[GenerateThumbnail] Retrying edge function, attempt:",De+1),await new Promise(ws=>setTimeout(ws,1e3));else break}if(fe)throw fe;if(F!=null&&F.error){H.error(F.error),P.current===Y&&v(De=>De.map(Pe=>Pe.id===ge.id?{...Pe,content:`Sorry, couldn't generate that. ${F.error}`,image_url:null}:Pe));return}const Ae="Here's your thumbnail!  Click to view larger or download.";if(P.current===Y&&v(De=>De.map(Pe=>Pe.id===ge.id?{...Pe,content:Ae,image_url:(F==null?void 0:F.storagePath)??(F==null?void 0:F.imageUrl)??Pe.image_url}:Pe)),typeof(F==null?void 0:F.credits_remaining)=="number")A(De=>({...De,credits_used:De.credits_total-F.credits_remaining}));else{const{data:De}=await W.from("user_credits").select("*").eq("user_id",e.id).single();De&&A(De)}const Me=Xi(K||"1k");H.success(`Thumbnail generated! ${Me} credit${Me>1?"s":""} used.`)}catch(F){const fe=F instanceof Error?F.message:"Failed to generate";console.error("[GenerateThumbnail] Error:",F),H.error(`Generation failed: ${fe}. Please try again.`),P.current===Y&&v(Ae=>Ae.map(Me=>Me.id===ge.id?{...Me,content:"Sorry, couldn't generate that. Please try again.",image_url:null}:Me))}finally{ke(Y,!1)}},cr=async(O,I="1k")=>{if(!e||!p)return;const M=Xi(I);if(C.credits_total-C.credits_used<M){H.error(`Not enough credits! Regeneration requires ${M} credit${M>1?"s":""}.`),re(!0);return}const pe=g.findIndex(Te=>Te.id===O);if(pe===-1){H.error("Message not found");return}const le=g[pe].image_url;let J;for(let Te=pe-1;Te>=0;Te--)if(g[Te].role==="user"){J=g[Te];break}if(!J){H.error("Could not find original prompt");return}const ne=J.content,je=J.uploaded_images||(J.uploaded_image_url?[J.uploaded_image_url]:[]);let ge=null,Ie=null;for(let Te=0;Te<3;Te++){const _e=await W.from("messages").insert({conversation_id:p,role:"assistant",content:"Regenerating your thumbnail...",image_url:null}).select("id, role, content, image_url, uploaded_image_url, uploaded_images, created_at").single();if(ge=_e.data,Ie=_e.error,!Ie&&ge)break;Te<2&&await new Promise(st=>setTimeout(st,500*(Te+1)))}if(Ie||!ge){console.error("[Regenerate] Insert placeholder error:",Ie),H.error("Failed to start regeneration. Please try again.");return}const ye={...ge,uploaded_images:void 0};v(Te=>Te.some(_e=>_e.id===ye.id)?Te:[...Te,ye]),ke(p,!0);try{let Te=[];for(const ae of je)if(ae.startsWith("data:"))Te.push(ae);else{let be=ae;if(!ae.startsWith("http")){const{data:F}=await W.storage.from("chat-media").createSignedUrl(ae,3600);if(F!=null&&F.signedUrl)be=F.signedUrl;else{console.warn("[Regenerate] Failed to sign image:",ae);continue}}try{const F=await fetch(be);if(!F.ok){console.warn("[Regenerate] Failed to fetch image:",be);continue}const fe=await F.blob(),Ae=new FileReader,Me=await new Promise((De,Pe)=>{Ae.onloadend=()=>De(Ae.result),Ae.onerror=Pe,Ae.readAsDataURL(fe)});Te.push(Me)}catch(F){console.warn("[Regenerate] Error fetching image:",F)}}const{data:_e,error:st}=await W.functions.invoke("generate-thumbnail",{body:{prompt:ne,images:Te,aspectRatio:"16:9",quality:I,conversationId:p,placeholderMessageId:ge.id,history:[],isRegenerate:!0,previousGeneratedImage:le}});if(st)throw st;if(_e!=null&&_e.error){H.error(_e.error),v(ae=>ae.map(be=>be.id===ge.id?{...be,content:`Sorry, couldn't regenerate. ${_e.error}`,image_url:null}:be));return}const ur="Here's your regenerated thumbnail!  Click to view larger or download.";v(ae=>ae.map(be=>be.id===ge.id?{...be,content:ur,image_url:(_e==null?void 0:_e.storagePath)??(_e==null?void 0:_e.imageUrl)??be.image_url}:be)),typeof(_e==null?void 0:_e.credits_remaining)=="number"&&A(ae=>({...ae,credits_used:ae.credits_total-_e.credits_remaining})),H.success(`Thumbnail regenerated! ${M} credit${M>1?"s":""} used.`)}catch(Te){const _e=Te instanceof Error?Te.message:"Failed to regenerate";console.error("[Regenerate] Error:",Te),H.error(`Regeneration failed: ${_e}`),v(st=>st.map(ur=>ur.id===ge.id?{...ur,content:"Sorry, couldn't regenerate. Please try again.",image_url:null}:ur))}finally{ke(p,!1)}},Ot=R.size>0,qr=p?R.has(p):!1,Gr=!qr&&Ot?Array.from(R)[0]:null,N=Gr?((G=s.find(O=>O.id===Gr))==null?void 0:G.title)??"another chat":null;return $?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-sidebar",children:a.jsx("div",{className:"text-sidebar-foreground",children:"Loading..."})}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"h-[100dvh] max-h-[100dvh] flex w-full overflow-hidden",children:[V?a.jsx(RD,{open:oe,onOpenChange:ee,children:a.jsxs(I_,{side:"left",className:"p-0 w-72 max-w-[75vw] bg-background",hideCloseButton:!0,children:[a.jsx(M_,{className:"sr-only",children:"Navigation Menu"}),a.jsx(Xy,{conversations:s,conversationMembers:i,projectMembers:c,activeConversationId:p,onSelectConversation:St,onNewConversation:ut,onDeleteConversation:Sr,onRenameConversation:Bt,onSignOut:Kr,credits:C,user:e,projects:d,onCreateProject:At,onDeleteProject:Vr,onRenameProject:Yt,activeProjectId:b,onSelectProject:y,showPricingModal:Q,setShowPricingModal:re,onClose:()=>ee(!1)})]})}):a.jsx(Xy,{conversations:s,conversationMembers:i,projectMembers:c,activeConversationId:p,onSelectConversation:St,onNewConversation:ut,onDeleteConversation:Sr,onRenameConversation:Bt,onSignOut:Kr,credits:C,user:e,projects:d,onCreateProject:At,onDeleteProject:Vr,onRenameProject:Yt,activeProjectId:b,onSelectProject:y,showPricingModal:Q,setShowPricingModal:re}),a.jsx(ND,{messages:g,messagesLoading:S,onSendMessage:Qt,onRegenerate:cr,credits:C,onImageClick:ie,user:e,activeConversationId:p,isGenerating:qr,isGeneratingElsewhere:Ot&&!qr,generatingElsewhereTitle:N,onShowPricing:()=>re(!0),onOpenSidebar:V?()=>ee(!0):void 0,senderProfiles:_}),a.jsx(wb,{imageUrl:q,onClose:()=>ie(null)})]})})}function D_(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ou="Checkbox",[MD,L5]=xr(Ou),[DD,sm]=MD(Ou);function $D(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,m]=Pn({prop:r,defaultProp:s??!1,onChange:c,caller:Ou}),[b,y]=h.useState(null),[x,w]=h.useState(null),g=h.useRef(!1),v=b?!!i||!!b.closest("form"):!0,_={checked:p,disabled:o,setChecked:m,control:b,setControl:y,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:ds(s)?!1:s,isFormControl:v,bubbleInput:x,setBubbleInput:w};return a.jsx(DD,{scope:t,..._,children:LD(f)?f(_):n})}var $_="CheckboxTrigger",L_=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:b}=sm($_,e),y=Be(s,d),x=h.useRef(c);return h.useEffect(()=>{const w=o==null?void 0:o.form;if(w){const g=()=>f(x.current);return w.addEventListener("reset",g),()=>w.removeEventListener("reset",g)}},[o,f]),a.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":ds(c)?"mixed":c,"aria-required":u,"data-state":W_(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:y,onKeyDown:ce(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ce(r,w=>{f(g=>ds(g)?!0:!g),b&&m&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});L_.displayName=$_;var om=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx($D,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(L_,{...f,ref:t,__scopeCheckbox:r}),p&&a.jsx(B_,{__scopeCheckbox:r})]})})});om.displayName=Ou;var F_="CheckboxIndicator",U_=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=sm(F_,r);return a.jsx(br,{present:n||ds(o.checked)||o.checked===!0,children:a.jsx(Ne.span,{"data-state":W_(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});U_.displayName=F_;var z_="CheckboxBubbleInput",B_=h.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:m}=sm(z_,e),b=Be(r,m),y=D_(o),x=bp(n);h.useEffect(()=>{const g=p;if(!g)return;const v=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(v,"checked").set,S=!s.current;if(y!==o&&k){const j=new Event("click",{bubbles:S});g.indeterminate=ds(o),k.call(g,ds(o)?!1:o),g.dispatchEvent(j)}},[p,y,o,s]);const w=h.useRef(ds(o)?!1:o);return a.jsx(Ne.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??w.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});B_.displayName=z_;function LD(e){return typeof e=="function"}function ds(e){return e==="indeterminate"}function W_(e){return ds(e)?"indeterminate":e?"checked":"unchecked"}const H_=h.forwardRef(({className:e,...t},r)=>a.jsx(om,{ref:r,className:Se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(U_,{className:Se("flex items-center justify-center text-current"),children:a.jsx(Mt,{className:"h-4 w-4"})})}));H_.displayName=om.displayName;const go="rt_device_fp",Fd="rt_device_fp",FD=365,UD="rt_fp_components";function ev(e,t){try{return(e==null?void 0:e.getItem(t))??null}catch{return null}}function Fi(e,t,r){try{e==null||e.setItem(t,r)}catch{}}function zD(e){try{const t=document.cookie?document.cookie.split("; "):[],r=`${encodeURIComponent(e)}=`;for(const n of t)if(n.startsWith(r))return decodeURIComponent(n.slice(r.length));return null}catch{return null}}function tv(e,t,r=FD){try{const n=r*24*60*60,s=typeof window<"u"&&window.location.protocol==="https:"?"; Secure":"";document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; Path=/; Max-Age=${n}; SameSite=Lax${s}`}catch{}}function BD(){try{const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return{vendor:"",renderer:"",params:""};const r=t,n=r.getExtension("WEBGL_debug_renderer_info"),s=[];try{s.push(`maxTex:${r.getParameter(r.MAX_TEXTURE_SIZE)}`),s.push(`maxVert:${r.getParameter(r.MAX_VERTEX_ATTRIBS)}`),s.push(`maxVary:${r.getParameter(r.MAX_VARYING_VECTORS)}`),s.push(`maxFrag:${r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS)}`),s.push(`aliasedLineW:${r.getParameter(r.ALIASED_LINE_WIDTH_RANGE)}`),s.push(`aliasedPointS:${r.getParameter(r.ALIASED_POINT_SIZE_RANGE)}`),s.push(`maxViewport:${r.getParameter(r.MAX_VIEWPORT_DIMS)}`),s.push(`stencil:${r.getParameter(r.STENCIL_BITS)}`),s.push(`depth:${r.getParameter(r.DEPTH_BITS)}`)}catch{}return n?{vendor:r.getParameter(n.UNMASKED_VENDOR_WEBGL)||"",renderer:r.getParameter(n.UNMASKED_RENDERER_WEBGL)||"",params:s.join("|")}:{vendor:"",renderer:"",params:s.join("|")}}catch{return{vendor:"",renderer:"",params:""}}}function WD(){var e;try{const t=document.createElement("canvas");t.width=256,t.height=256;const r=t.getContext("webgl2")||t.getContext("webgl");if(!r)return"";const n=r,s=[];try{"MAX_3D_TEXTURE_SIZE"in n&&s.push(`3d:${n.getParameter(n.MAX_3D_TEXTURE_SIZE)}`),"MAX_DRAW_BUFFERS"in n&&s.push(`draw:${n.getParameter(n.MAX_DRAW_BUFFERS)}`),s.push(`ext:${((e=n.getSupportedExtensions())==null?void 0:e.length)||0}`)}catch{}return s.join("|")}catch{return""}}function HD(){try{return window.matchMedia("(color-gamut: rec2020)").matches?"rec2020":window.matchMedia("(color-gamut: p3)").matches?"p3":window.matchMedia("(color-gamut: srgb)").matches?"srgb":"unknown"}catch{return""}}function VD(){try{return window.matchMedia("(dynamic-range: high)").matches}catch{return!1}}function KD(){try{return window.matchMedia("(pointer: coarse)").matches?"coarse":window.matchMedia("(pointer: fine)").matches?"fine":window.matchMedia("(pointer: none)").matches?"none":"unknown"}catch{return""}}function qD(){try{const e=navigator.connection;return e?`${e.effectiveType||""}|${e.type||""}|${e.downlink||""}|${e.rtt||""}`:""}catch{return""}}function GD(){try{const e=document.createElement("canvas");e.width=200,e.height=50;const t=e.getContext("2d");return t?(t.textBaseline="alphabetic",t.font="14px 'Arial'",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText("RoThumbs FP",2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText("RoThumbs FP",4,17),t.globalCompositeOperation="multiply",t.fillStyle="rgb(255,0,255)",t.beginPath(),t.arc(50,50,50,0,Math.PI*2,!0),t.closePath(),t.fill(),e.toDataURL().slice(-100)):""}catch{return""}}function YD(){try{const e=window.AudioContext||window.webkitAudioContext;if(!e)return"";const t=new e,r=t.createOscillator(),n=t.createAnalyser(),s=t.createGain(),o=t.createScriptProcessor(4096,1,1),i=[t.sampleRate.toString(),t.destination.maxChannelCount.toString(),t.destination.numberOfInputs.toString(),t.destination.numberOfOutputs.toString(),n.fftSize.toString(),n.frequencyBinCount.toString()];return r.disconnect(),n.disconnect(),s.disconnect(),o.disconnect(),t.close().catch(()=>{}),i.join("|")}catch{return""}}function QD(){const e=["Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Bookman Old Style","Bradley Hand ITC","Century","Century Gothic","Comic Sans MS","Courier","Courier New","Georgia","Gentium","Impact","King","Lucida Console","Lalit","Modena","Monotype Corsiva","Papyrus","Tahoma","TeX","Times","Times New Roman","Trebuchet MS","Verdana","Verona","Roboto","Open Sans","Lato","Montserrat","Source Sans Pro","Ubuntu","Segoe UI","San Francisco"],t=[];try{const r=["monospace","sans-serif","serif"],n="mmmmmmmmmmlli",s="72px",i=document.createElement("canvas").getContext("2d");if(!i)return[];const l={};r.forEach(c=>{i.font=`${s} ${c}`,l[c]=i.measureText(n).width}),e.forEach(c=>{let u=!1;for(const d of r)if(i.font=`${s} '${c}', ${d}`,i.measureText(n).width!==l[d]){u=!0;break}u&&t.push(c)})}catch{}return t}function JD(){try{const e=[];if(navigator.plugins)for(let t=0;t<Math.min(navigator.plugins.length,10);t++){const r=navigator.plugins[t];r!=null&&r.name&&e.push(r.name)}return e}catch{return[]}}function XD(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return Math.abs(t).toString(36)}function V_(e){let t=0,r=0;for(let s=0;s<e.length;s++){const o=e.charCodeAt(s);t=(t<<5)-t+o&4294967295,r=(r<<7)-r+o&4294967295}return(Math.abs(t)*31+Math.abs(r)>>>0).toString(36)}function ZD(){const e=BD(),t=navigator;return{userAgent:navigator.userAgent,language:navigator.language,languages:Array.from(navigator.languages||[navigator.language]),colorDepth:screen.colorDepth,pixelRatio:window.devicePixelRatio||1,screenResolution:`${screen.width}x${screen.height}`,availableScreenResolution:`${screen.availWidth}x${screen.availHeight}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timezoneOffset:new Date().getTimezoneOffset(),sessionStorage:!!window.sessionStorage,localStorage:!!window.localStorage,indexedDB:!!window.indexedDB,platform:navigator.platform,cpuClass:t.cpuClass,hardwareConcurrency:navigator.hardwareConcurrency||0,deviceMemory:t.deviceMemory,touchSupport:"ontouchstart"in window,maxTouchPoints:navigator.maxTouchPoints||0,webglVendor:e.vendor,webglRenderer:e.renderer,webglParams:e.params,canvas:GD(),audioFingerprint:YD(),fonts:QD(),plugins:JD(),doNotTrack:navigator.doNotTrack||null,cookieEnabled:navigator.cookieEnabled,productSub:navigator.productSub||"",vendor:navigator.vendor||"",gpuInfo:WD(),screenColorGamut:HD(),hdrSupport:VD(),pointerType:KD(),connectionType:qD(),batteryInfo:"",mediaDevices:""}}function e5(e){const t=JSON.stringify(e),r=V_(t);Fi(typeof window<"u"?window.localStorage:void 0,UD,r)}function t5(){const e=ev(typeof window<"u"?window.localStorage:void 0,go),t=ev(typeof window<"u"?window.sessionStorage:void 0,go),r=typeof document<"u"?zD(Fd):null,n=e||t||r;if(n)return Fi(typeof window<"u"?window.sessionStorage:void 0,go,n),Fi(typeof window<"u"?window.localStorage:void 0,go,n),typeof document<"u"&&tv(Fd,n),n;const s=ZD(),o=JSON.stringify(s),i=`fp_${V_(o)}_${XD(o)}`;return e5(s),Fi(typeof window<"u"?window.sessionStorage:void 0,go,i),Fi(typeof window<"u"?window.localStorage:void 0,go,i),typeof document<"u"&&tv(Fd,i),i}function $c(){return t5()}function r5({className:e}){return a.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function n5(){const[e,t]=h.useState([]);return h.useEffect(()=>{const r=setInterval(()=>{const n=Math.floor(Math.random()*2)+2,s=Array.from({length:n},(o,i)=>({id:Date.now()+i,left:Math.random()*100,top:Math.random()*60,size:Math.random()*2+1}));t(o=>[...o.slice(-10),...s]),setTimeout(()=>{t(o=>o.filter(i=>!s.find(l=>l.id===i.id)))},300)},200);return()=>clearInterval(r)},[]),a.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:e.map(r=>a.jsx("div",{className:"absolute bg-white rounded-full",style:{left:`${r.left}%`,top:`${r.top}%`,width:`${r.size}px`,height:`${r.size}px`,boxShadow:`0 0 ${r.size*4}px ${r.size}px rgba(255,255,255,0.7)`,animation:"flash 0.25s ease-out forwards"}},r.id))})}function s5(){var E;const e=un(),[t,r]=h.useState(!((E=e.state)!=null&&E.signup)),[n,s]=h.useState(""),[o,i]=h.useState(""),[l,c]=h.useState(""),[u,d]=h.useState(""),[f,p]=h.useState(!1),[m,b]=h.useState(!1),[y,x]=h.useState(!1),[w,g]=h.useState(!1),[v,_]=h.useState(!1),[k,S]=h.useState(!1),[j,C]=h.useState(!1),[A,$]=h.useState(!1),[se,q]=h.useState(!1),ie=Wa();h.useEffect(()=>{new URLSearchParams(e.search).get("reset")==="true"&&(S(!0),g(!1),_(!1),x(!1))},[e.search]),h.useEffect(()=>{$c();const P=new URLSearchParams(e.search).get("reset")==="true";let U=!1;const V=async ee=>{P||U||(U=!0,ie("/app"))},{data:{subscription:oe}}=W.auth.onAuthStateChange((ee,ke)=>{if(ee==="PASSWORD_RECOVERY"){S(!0),g(!1),_(!1),x(!1);return}ke!=null&&ke.user&&setTimeout(()=>{V(ke.user)},0)});return W.auth.getSession().then(({data:{session:ee}})=>{ee!=null&&ee.user&&!P&&ie("/app")}),()=>oe.unsubscribe()},[ie,e.search]);const B=async P=>{var U,V;if(P.preventDefault(),!t&&!se){H.error("Please agree to the Terms and Privacy Policy to continue.");return}p(!0);try{if(t){const{error:oe}=await W.auth.signInWithPassword({email:n,password:o});if(oe){if(C(!0),oe.message.includes("Email not confirmed")){H.error("Please verify your email before signing in. Check your inbox for the confirmation link.");return}throw oe}}else{const oe=$c(),ee=await W.functions.invoke("validate-signup",{body:{email:n,deviceFingerprint:oe}});if(ee.error){H.error("Signup validation failed. Please try again in a moment.");return}if(!((U=ee.data)!=null&&U.allowed)){H.error(((V=ee.data)==null?void 0:V.reason)||"Signup is not allowed at this time.");return}const{error:ke,data:ve}=await W.auth.signUp({email:n,password:o,options:{emailRedirectTo:`${window.location.origin}/app`,data:{display_name:n.split("@")[0]}}});if(ke){if(ke.message.includes("already registered")){H.error("This email is already registered. Please sign in instead."),r(!0);return}throw ke}if(ve!=null&&ve.user){const me=await W.functions.invoke("record-signup",{body:{email:n,deviceFingerprint:oe,userId:ve.user.id}});me.error&&console.error("Failed to record signup:",me.error)}ve!=null&&ve.user&&!ve.session?x(!0):ve!=null&&ve.session&&H.success("Account created! Welcome to RoThumbs.")}}catch(oe){const ee=oe instanceof Error?oe.message:"Something went wrong";H.error(ee)}finally{p(!1)}},de=async()=>{p(!0);try{const{error:P}=await W.auth.resend({type:"signup",email:n,options:{emailRedirectTo:`${window.location.origin}/app`}});if(P)throw P;H.success("Verification email sent! Check your inbox.")}catch(P){const U=P instanceof Error?P.message:"Failed to resend email";H.error(U)}finally{p(!1)}},Q=async P=>{if(P.preventDefault(),!n){H.error("Please enter your email address");return}p(!0);try{const{error:U}=await W.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/auth?reset=true`});if(U)throw U;_(!0)}catch(U){const V=U instanceof Error?U.message:"Failed to send reset email";H.error(V)}finally{p(!1)}},re=async()=>{if(!t&&!se){H.error("Please agree to the Terms and Privacy Policy to continue.");return}b(!0);try{const{error:P}=await W.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/app`}});if(P)throw P}catch(P){const U=P instanceof Error?P.message:"Failed to sign in with Google";H.error(U),b(!1)}},R=async P=>{if(P.preventDefault(),l!==u){H.error("Passwords do not match");return}if(l.length<6){H.error("Password must be at least 6 characters");return}p(!0);try{const{error:U}=await W.auth.updateUser({password:l});if(U)throw U;H.success("Password updated successfully!"),S(!1),c(""),d(""),ie("/app")}catch(U){const V=U instanceof Error?U.message:"Failed to update password";H.error(V)}finally{p(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 hero-gradient relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",style:{backgroundImage:`
            linear-gradient(rgba(255,255,255,0.06) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255,255,255,0.06) 1px, transparent 1px)
          `,backgroundSize:"60px 60px",maskImage:"linear-gradient(to bottom, black 0%, black 50%, transparent 70%)",WebkitMaskImage:"linear-gradient(to bottom, black 0%, black 50%, transparent 70%)"}}),a.jsx(n5,{}),a.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-[100px]"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-[100px]"}),a.jsx("div",{className:"w-full max-w-md relative z-10",children:a.jsxs("div",{className:"glass-card rounded-3xl shadow-2xl p-8 border border-white/20 backdrop-blur-xl font-display",children:[a.jsxs(at,{to:"/",className:"flex items-center justify-center gap-2 mb-6 group",children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-blue-600 shadow-lg shadow-primary/30 group-hover:shadow-primary/50 transition-shadow",children:a.jsx("img",{src:Qs,alt:"RoThumbs",className:"h-6 w-6"})}),a.jsx("span",{className:"font-display text-xl font-bold text-white group-hover:opacity-80 transition-opacity",children:"RoThumbs"})]}),!y&&!v&&!w&&!k&&a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-black text-white",children:t?"Welcome back":"Create your account"}),a.jsx("p",{className:"text-white/70 text-sm mt-1",children:t?"Sign in to RoThumbs":"Get started with RoThumbs for free"})]}),(y||v)&&a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-14 h-14 rounded-full bg-green-500/20 flex items-center justify-center",children:a.jsx(LE,{className:"h-7 w-7 text-green-400"})})}),a.jsx("h1",{className:"text-2xl font-black text-white mb-2",children:"Check your email"}),a.jsx("p",{className:"text-white/70 text-sm font-medium",children:v?a.jsxs(a.Fragment,{children:["We sent a reset link to ",a.jsx("span",{className:"text-white",children:n})]}):a.jsxs(a.Fragment,{children:["We sent a verification link to ",a.jsx("span",{className:"text-white",children:n})]})})]}),w&&!v&&a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-black text-white mb-2",children:"Reset password"}),a.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Enter your email for a reset link"})]}),k&&a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-black text-white mb-2",children:"Set new password"}),a.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Enter your new password below"})]}),(y||v)&&a.jsxs("div",{className:"space-y-3",children:[y&&a.jsx(Z,{type:"button",variant:"outline",size:"lg",className:"w-full h-11 bg-white/10 border-white/20 text-white hover:bg-white/20 font-semibold",onClick:de,disabled:f,children:f?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Resend email"]})}),a.jsxs(Z,{type:"button",size:"lg",className:"w-full h-11 bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white border-0 shadow-lg shadow-primary/30 font-semibold",onClick:()=>{x(!1),_(!1),g(!1),r(!0)},children:[a.jsx(ME,{className:"h-4 w-4 mr-2"}),"Back to sign in"]})]}),w&&!v&&a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:Q,className:"space-y-3",children:[a.jsx(mt,{type:"email",name:"email",inputMode:"email",placeholder:"Enter your email",value:n,onChange:P=>s(P.target.value),autoComplete:"email",className:"h-11 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-primary focus:ring-primary focus:bg-white/15 font-semibold",required:!0}),a.jsx(Z,{type:"submit",size:"lg",className:"w-full h-11 bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white font-semibold border-0 shadow-lg shadow-primary/30",disabled:f,children:f?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):"Send reset link"})]}),a.jsx("button",{type:"button",className:"w-full text-center text-sm text-white/60 hover:text-white mt-4 font-medium",onClick:()=>g(!1),children:" Back to sign in"})]}),k&&a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:R,className:"space-y-3",children:[a.jsx(mt,{type:"password",placeholder:"New password",value:l,onChange:P=>c(P.target.value),autoComplete:"new-password",className:"h-11 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-primary focus:ring-primary focus:bg-white/15 font-semibold",required:!0,minLength:6}),a.jsx(mt,{type:"password",placeholder:"Confirm new password",value:u,onChange:P=>d(P.target.value),autoComplete:"new-password",className:"h-11 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-primary focus:ring-primary focus:bg-white/15 font-semibold",required:!0,minLength:6}),a.jsx(Z,{type:"submit",size:"lg",className:"w-full h-11 bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white font-semibold border-0 shadow-lg shadow-primary/30",disabled:f,children:f?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):"Update password"})]}),a.jsx("button",{type:"button",className:"w-full text-center text-sm text-white/60 hover:text-white mt-4 font-medium",onClick:async()=>{await W.auth.signOut(),S(!1),ie("/auth")},children:" Cancel and sign out"})]}),!y&&!v&&!w&&!k&&a.jsxs(a.Fragment,{children:[a.jsx(Z,{type:"button",size:"lg",variant:"outline",className:"w-full h-11 bg-white hover:bg-white/90 text-gray-800 border-0 font-bold shadow-lg",onClick:re,disabled:m,children:m?a.jsx(ze,{className:"h-5 w-5 animate-spin text-gray-600"}):a.jsxs(a.Fragment,{children:[a.jsx(r5,{className:"h-5 w-5 mr-2"}),"Continue with Google"]})}),a.jsxs("div",{className:"relative my-3",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-white/20"})}),a.jsx("div",{className:"relative flex justify-center text-xs",children:a.jsx("span",{className:"px-3 bg-transparent text-white/50 uppercase tracking-wider",children:"or"})})]}),a.jsxs("form",{onSubmit:B,className:"space-y-3",children:[a.jsx(mt,{type:"email",name:"email",inputMode:"email",placeholder:"Email",value:n,onChange:P=>s(P.target.value),autoComplete:"email",className:"h-11 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-primary focus:ring-primary focus:bg-white/15 font-semibold",required:!0}),a.jsxs("div",{className:"relative",children:[a.jsx(mt,{type:A?"text":"password",placeholder:"Password",value:o,onChange:P=>i(P.target.value),autoComplete:"off","data-lpignore":"true","data-form-type":"other",className:"h-11 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-primary focus:ring-primary focus:bg-white/15 font-semibold pr-10",required:!0,minLength:6}),a.jsx("button",{type:"button",onClick:()=>$(!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:A?a.jsx(HE,{className:"h-4 w-4"}):a.jsx(VE,{className:"h-4 w-4"})})]}),!t&&a.jsxs("div",{className:"flex items-center justify-center gap-2.5 pt-1",children:[a.jsx(H_,{id:"terms",checked:se,onCheckedChange:P=>q(P===!0),className:"h-4 w-4 rounded-none border-white/30 data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),a.jsxs("label",{htmlFor:"terms",className:"text-sm text-white/70 cursor-pointer",children:["I agree to the"," ",a.jsx(at,{to:"/terms",className:"text-white/90 underline underline-offset-2 hover:text-white",children:"Terms of Service"})," ","and"," ",a.jsx(at,{to:"/privacy",className:"text-white/90 underline underline-offset-2 hover:text-white",children:"Privacy Policy"})]})]}),t&&j&&a.jsx("button",{type:"button",className:"text-xs text-white/50 hover:text-primary font-medium",onClick:()=>g(!0),children:"Forgot password?"}),a.jsx(Z,{type:"submit",size:"lg",className:"w-full h-11 bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white font-bold border-0 shadow-lg shadow-primary/30 group gap-2",disabled:f,children:f?a.jsx(ze,{className:"h-4 w-4 animate-spin"}):a.jsxs(a.Fragment,{children:[t?"Sign in":"Create Account",a.jsx(iu,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]}),a.jsx("p",{className:"text-center text-sm text-white/80 mt-4",children:t?a.jsxs(a.Fragment,{children:["New here?"," ",a.jsx("button",{type:"button",onClick:()=>r(!1),className:"text-primary hover:text-primary/80 font-semibold",children:"Create an account"})]}):a.jsxs(a.Fragment,{children:["Already have an account?"," ",a.jsx("button",{type:"button",onClick:()=>r(!0),className:"text-primary hover:text-primary/80 font-semibold",children:"Sign in"})]})})]})]})}),a.jsx("style",{children:`
        @keyframes flash {
          0% { opacity: 0; transform: scale(0.5); }
          50% { opacity: 1; transform: scale(1); }
          100% { opacity: 0; transform: scale(0.5); }
        }
      `})]})}function o5(){return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Va,{}),a.jsxs("main",{className:"container px-4 py-24 max-w-3xl mx-auto",children:[a.jsx("h1",{className:"font-display text-4xl font-bold mb-2 text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"RoThumbs"}),a.jsxs("div",{className:"prose prose-gray dark:prose-invert max-w-none space-y-8 text-muted-foreground",children:[a.jsx("p",{className:"text-sm",children:"Last updated: 25th December 2025"}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"1. Data Controller"}),a.jsxs("ul",{className:"list-none space-y-1 pl-0",children:[a.jsx("li",{children:a.jsx("strong",{children:"Mundo Binarii"})}),a.jsx("li",{children:"mjr. Waleriana ukasiskiego 4, 93-170 d, Poland"}),a.jsx("li",{children:"Email: support@rothumbs.com"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"2. Personal Data We Collect"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"Email address"}),a.jsx("li",{children:"Account information"}),a.jsx("li",{children:"IP address"}),a.jsx("li",{children:"Usage data (credits, generations)"}),a.jsx("li",{children:"Payment status and metadata"})]}),a.jsx("p",{children:"We do not store full payment card details."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"3. Purposes of Processing"}),a.jsx("p",{children:"Personal data is processed to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"provide and operate the Service"}),a.jsx("li",{children:"manage subscriptions and credits"}),a.jsx("li",{children:"prevent abuse and fraud"}),a.jsx("li",{children:"comply with legal obligations"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"4. Legal Bases (GDPR)"}),a.jsx("p",{children:"Processing is based on:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"performance of a contract"}),a.jsx("li",{children:"legal obligations"}),a.jsx("li",{children:"legitimate interests"}),a.jsx("li",{children:"user consent (where applicable)"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"5. Recipients & Roles"}),a.jsx("p",{children:"We use trusted third parties, including:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Stripe"}),"  payment processing (independent controller)"]}),a.jsx("li",{children:"AI image generation service providers"}),a.jsx("li",{children:"Cloud hosting and infrastructure providers"}),a.jsx("li",{children:"Email delivery and analytics services"})]}),a.jsx("p",{children:"All providers except Stripe act as processors on our behalf and are subject to contractual data protection obligations."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"6. International Data Transfers"}),a.jsx("p",{children:"Personal data may be transferred outside the EU/EEA, including to providers located in the United States. Where required, such transfers are safeguarded using Standard Contractual Clauses (SCCs) or equivalent legal mechanisms."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"7. Data Retention"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Account data:"})," retained while the account is active"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Billing records:"})," retained as required by tax and accounting law"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Generated content:"})," retained while the account is active and deleted within 30 days after account termination, unless retention is required by law"]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"8. User Rights"}),a.jsx("p",{children:"You have the right to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"access your personal data"}),a.jsx("li",{children:"rectification"}),a.jsx("li",{children:"deletion"}),a.jsx("li",{children:"restriction of processing"}),a.jsx("li",{children:"data portability"}),a.jsx("li",{children:"objection"}),a.jsx("li",{children:"withdraw consent at any time"})]}),a.jsx("p",{children:"Requests may be sent to support@rothumbs.com."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"9. Supervisory Authority"}),a.jsx("p",{children:"You may lodge a complaint with:"}),a.jsxs("p",{children:[a.jsx("strong",{children:"President of the Personal Data Protection Office (UODO)"}),a.jsx("br",{}),"Poland"]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"10. Cookies & Tracking"}),a.jsx("p",{children:"The Service uses cookies or similar technologies. Non-essential cookies are used only with user consent where required by law. A separate Cookie Policy applies and is available on the website."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"11. Children's Data"}),a.jsx("p",{children:"The Service is not intended for children under 13. If such use is discovered, the account will be terminated and data deleted where required."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"12. Security"}),a.jsx("p",{children:"We apply appropriate technical and organizational measures to protect personal data."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"13. Changes to This Policy"}),a.jsx("p",{children:"This Privacy Policy may be updated periodically."})]})]})]}),a.jsx(qa,{})]})}function i5(){return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Va,{}),a.jsxs("main",{className:"container px-4 py-24 max-w-3xl mx-auto",children:[a.jsx("h1",{className:"font-display text-4xl font-bold mb-2 text-foreground",children:"Terms of Service"}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"RoThumbs"}),a.jsxs("div",{className:"prose prose-gray dark:prose-invert max-w-none space-y-8 text-muted-foreground",children:[a.jsx("p",{className:"text-sm",children:"Last updated: 7th January 2025"}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"1. Company Information"}),a.jsx("p",{children:"This Service is operated by:"}),a.jsxs("ul",{className:"list-none space-y-1 pl-0",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Business name:"})," Mundo Binarii"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Address:"})," mjr. Waleriana ukasiskiego 4, 93-170 d, Poland"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Country:"})," Poland"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Registered in:"})," CEIDG, Poland; REGON: 384106198"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"VAT ID:"})," PL7251465792"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Contact email:"})," support@rothumbs.com"]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"2. Acceptance of Terms"}),a.jsx("p",{children:'By accessing or using RoThumbs (the "Service"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree, you must not use the Service.'})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"3. Description of the Service"}),a.jsx("p",{children:"RoThumbs is an AI-powered software-as-a-service platform that allows users to generate image thumbnails using a credit-based system."}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Credit System"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"1 credit = 1 generation (Basic / HD / 1K)"}),a.jsx("li",{children:"2 credits = 1 generation (2K)"}),a.jsx("li",{children:"4 credits = 1 generation (4K)"})]}),a.jsx("p",{children:"Credits are consumed immediately upon generation and do not expire during an active billing cycle."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"4. Accounts & Age Requirements"}),a.jsx("p",{children:"The Service is intended for users 13 years of age or older."}),a.jsx("p",{children:"For users under the age of 16 within the European Union, parental or legal guardian consent must be obtained in accordance with applicable data protection laws."}),a.jsx("p",{children:"Users aged 1317 confirm that such consent has been obtained."}),a.jsx("p",{children:"Parents or guardians are responsible for the activity of minors using their account."}),a.jsx("p",{children:"The Service is not intended for children under 13."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"5. Subscription Plans, Billing, Currency & Taxes"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"RoThumbs offers monthly and yearly subscription plans."}),a.jsx("li",{children:"Subscriptions automatically renew unless canceled before the renewal date."}),a.jsx("li",{children:"Prices are displayed in USD."}),a.jsx("li",{children:"Final charges may vary due to currency conversion applied by the payment provider."}),a.jsx("li",{children:"For EU consumers, VAT is applied according to the user's country of residence where required by law."}),a.jsx("li",{children:"Payments are processed via Stripe."})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"6. Credits"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"Credits are granted according to the selected subscription plan."}),a.jsx("li",{children:"New credits are added to your account each billing cycle."}),a.jsx("li",{children:"Unused credits roll over and accumulate with newly granted credits."}),a.jsx("li",{children:"Credits are non-transferable and have no cash value."})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"7. Free Plan"}),a.jsx("p",{children:"The Free plan includes:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"3 credits per month"}),a.jsx("li",{children:"Basic quality only"}),a.jsx("li",{children:"16:9 aspect ratio only"})]}),a.jsx("p",{children:"RoThumbs may modify or discontinue the Free plan at any time."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"8. User Content, Prompts & Generated Outputs"}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Definitions"}),a.jsxs("p",{children:[a.jsx("strong",{children:"Prompt"})," means any text, image, or other input submitted by a user to the Service."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Output"})," means any image or other content generated by the Service in response to a Prompt."]}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"User Responsibility & Rights in Prompts"}),a.jsx("p",{children:"Users retain all rights, title, and interest in their Prompts."}),a.jsx("p",{children:"By submitting a Prompt, you represent and warrant that you own the Prompt or otherwise have all necessary rights, licences, and permissions to submit and use it with the Service, and that such submission and use does not infringe, misappropriate, or violate any intellectual property, privacy, or other rights of any third party."}),a.jsx("p",{children:"You agree not to upload or submit content that you do not have the legal right to use."}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Rights in Outputs"}),a.jsx("p",{children:"Subject to compliance with these Terms, RoThumbs grants users a non-exclusive, worldwide, royalty-free licence to use, reproduce, display, modify, and distribute Outputs for lawful purposes."}),a.jsx("p",{children:"Outputs are generated automatically and are not unique. Similar or identical Outputs may be generated for other users."}),a.jsx("p",{children:"Nothing in these Terms transfers ownership of Outputs to the user beyond the licence expressly granted in this section."}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Licence Granted to RoThumbs"}),a.jsx("p",{children:"To the extent necessary to operate the Service, you grant RoThumbs a limited, non-exclusive, royalty-free licence to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"process Prompts and Outputs to provide the Service;"}),a.jsx("li",{children:"store Prompts and Outputs for account functionality, security, and service operation;"}),a.jsx("li",{children:"display Outputs within the Service, including previews; and"}),a.jsx("li",{children:"enforce these Terms, investigate misuse, and comply with legal obligations."})]}),a.jsx("p",{children:"This licence is strictly limited to providing, maintaining, and improving the Service and does not grant RoThumbs ownership of user content."}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"AI Limitations & Similarity of Outputs"}),a.jsx("p",{children:"Due to the nature of artificial intelligence and automated content generation:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"Outputs may resemble, be inspired by, or be similar to existing works;"}),a.jsx("li",{children:"RoThumbs does not guarantee that Outputs are original or free from third-party rights; and"}),a.jsx("li",{children:"RoThumbs does not review Prompts or Outputs for compliance with intellectual property laws."})]}),a.jsx("p",{children:"Users remain solely responsible for ensuring that their use of the Service and any Outputs complies with applicable laws and the rights of third parties."}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"No Legal Advice or Clearance"}),a.jsx("p",{children:"RoThumbs does not provide legal advice and does not guarantee that any Output is suitable for a particular purpose, including commercial use. Users are responsible for obtaining any necessary legal clearances before using Outputs."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"9. Acceptable Use & Content Rules"}),a.jsx("p",{children:"You may not use the Service to generate, request, or distribute content that includes or promotes:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"Sexual or pornographic content"}),a.jsx("li",{children:"Any sexual content involving minors"}),a.jsx("li",{children:"Nudity or explicit imagery"}),a.jsx("li",{children:"Violence, graphic harm, or threats"}),a.jsx("li",{children:"Hate speech, harassment, or discrimination"}),a.jsx("li",{children:"Instructions for illegal activity or wrongdoing"}),a.jsx("li",{children:"Personal data, doxxing, or private individuals"}),a.jsx("li",{children:"Impersonation or real-person likeness (especially minors)"}),a.jsx("li",{children:"Copyrighted characters, logos, or trademarks without having the necessary rights or authorization"}),a.jsx("li",{children:"Attempts to recreate specific protected works or brands"}),a.jsx("li",{children:"Attempts to circumvent safeguards, filters, usage limits, or pricing mechanisms"})]}),a.jsx("p",{children:"RoThumbs may block generations, suspend accounts, or terminate access for violations."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"10. Refunds & Right of Withdrawal (EU Digital Content)"}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Digital Content Notice"}),a.jsx("p",{children:"By completing the purchase, you expressly consent to the immediate delivery of digital content and acknowledge that you lose your right of withdrawal once digital content is delivered."}),a.jsx("p",{children:"Where required by law, this consent is:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"collected explicitly at checkout, and"}),a.jsx("li",{children:"confirmed on a durable medium (such as email confirmation)."})]}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Refund Policy"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"Refunds are available within 14 days of purchase only if no credits have been used"}),a.jsx("li",{children:"No refunds once any credit is used"}),a.jsx("li",{children:"No partial refunds"}),a.jsx("li",{children:"Subscription renewals are non-refundable once processed"})]}),a.jsx("p",{children:"Refund requests must be sent to support@rothumbs.com."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"11. AI Disclaimer"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"Outputs are generated by artificial intelligence."}),a.jsx("li",{children:"Results are not guaranteed to be accurate, unique, or suitable for any purpose."}),a.jsx("li",{children:"RoThumbs does not guarantee acceptance by any platform or service."})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"12. Roblox Disclaimer"}),a.jsx("p",{children:"RoThumbs is not affiliated with, endorsed by, or associated with Roblox Corporation. All trademarks belong to their respective owners."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"13. Service Availability"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:'The Service is provided on an "as is" and "as available" basis.'}),a.jsx("li",{children:"No uptime guarantee or SLA is provided."}),a.jsx("li",{children:"Temporary outages may occur due to maintenance or technical issues."})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"14. Account Security"}),a.jsx("p",{children:"Users are responsible for maintaining the confidentiality of account credentials and all activity under their account."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"15. Limitation of Liability"}),a.jsx("p",{children:"To the maximum extent permitted by law, RoThumbs shall not be liable for indirect or consequential damages."}),a.jsx("p",{children:"Total liability shall not exceed the amount paid by the user in the last 12 months."}),a.jsx("p",{children:"This limitation does not apply to liability resulting from:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"willful misconduct"}),a.jsx("li",{children:"gross negligence"}),a.jsx("li",{children:"personal injury"}),a.jsx("li",{children:"or other liability that cannot be excluded under applicable law"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"16. Termination"}),a.jsx("p",{children:"RoThumbs may suspend or terminate accounts for violations of these Terms without notice or refund."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"17. Consumer Rights"}),a.jsx("p",{children:"Nothing in these Terms limits mandatory consumer rights granted under the laws of the user's country of residence within the European Union."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"18. Governing Law & Jurisdiction"}),a.jsx("p",{children:"These Terms are governed by the laws of Poland. Consumers may also bring claims in the courts of their habitual residence where required by law."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"19. Changes to These Terms"}),a.jsx("p",{children:"RoThumbs may update these Terms from time to time. Material changes will be communicated where required by law. Continued use constitutes acceptance."})]})]})]}),a.jsx(qa,{})]})}var Iu="Switch",[a5,F5]=xr(Iu),[l5,c5]=a5(Iu),K_=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[p,m]=h.useState(null),b=Be(t,v=>m(v)),y=h.useRef(!1),x=p?d||!!p.closest("form"):!0,[w,g]=Pn({prop:s,defaultProp:o??!1,onChange:u,caller:Iu});return a.jsxs(l5,{scope:r,checked:w,disabled:l,children:[a.jsx(Ne.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":Q_(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:ce(e.onClick,v=>{g(_=>!_),x&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),x&&a.jsx(Y_,{control:p,bubbles:!y.current,name:n,value:c,checked:w,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});K_.displayName=Iu;var q_="SwitchThumb",G_=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=c5(q_,r);return a.jsx(Ne.span,{"data-state":Q_(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});G_.displayName=q_;var u5="SwitchBubbleInput",Y_=h.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),l=Be(i,o),c=D_(r),u=bp(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const b=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(b)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y_.displayName=u5;function Q_(e){return e?"checked":"unchecked"}var J_=K_,d5=G_;const xn=h.forwardRef(({className:e,...t},r)=>a.jsx(J_,{className:Se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:a.jsx(d5,{className:Se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xn.displayName=J_.displayName;const X_=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));X_.displayName="Card";const Z_=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));Z_.displayName="CardHeader";const ek=h.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));ek.displayName="CardTitle";const h5=h.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));h5.displayName="CardDescription";const tk=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Se("p-6 pt-0",e),...t}));tk.displayName="CardContent";const f5=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",e),...t}));f5.displayName="CardFooter";const Zi={essential:!0,analytics:!1,marketing:!1,functional:!1},rk="cookie-consent";function im(){const e=localStorage.getItem(rk);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Wo(e){localStorage.setItem(rk,JSON.stringify(e)),nk(e)}function nk(e){e.analytics?console.log("[Cookies] Analytics enabled"):console.log("[Cookies] Analytics disabled"),e.marketing?console.log("[Cookies] Marketing enabled"):console.log("[Cookies] Marketing disabled"),e.functional?console.log("[Cookies] Functional enabled"):console.log("[Cookies] Functional disabled")}function p5(){const e=im();e&&nk(e)}function m5(){const[e,t]=h.useState(Zi);h.useEffect(()=>{const o=im();o&&t(o)},[]);const r=()=>{Wo(e),H.success("Cookie preferences saved")},n=()=>{const o={essential:!0,analytics:!0,marketing:!0,functional:!0};t(o),Wo(o),H.success("All cookies accepted")},s=()=>{t(Zi),Wo(Zi),H.success("Non-essential cookies rejected")};return a.jsxs(X_,{children:[a.jsx(Z_,{children:a.jsx(ek,{children:"Manage Cookie Preferences"})}),a.jsxs(tk,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(mr,{className:"text-base font-medium",children:"Essential Cookies"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Required for the website to function. Cannot be disabled."})]}),a.jsx(xn,{checked:!0,disabled:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(mr,{className:"text-base font-medium",children:"Analytics Cookies"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Help us understand how visitors use our website."})]}),a.jsx(xn,{checked:e.analytics,onCheckedChange:o=>t(i=>({...i,analytics:o}))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(mr,{className:"text-base font-medium",children:"Marketing Cookies"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Used to deliver personalized advertisements."})]}),a.jsx(xn,{checked:e.marketing,onCheckedChange:o=>t(i=>({...i,marketing:o}))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(mr,{className:"text-base font-medium",children:"Functional Cookies"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable enhanced functionality and personalization."})]}),a.jsx(xn,{checked:e.functional,onCheckedChange:o=>t(i=>({...i,functional:o}))})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[a.jsx(Z,{onClick:n,className:"flex-1",children:"Accept all"}),a.jsx(Z,{onClick:s,variant:"outline",className:"flex-1",children:"Reject non-essential"}),a.jsx(Z,{onClick:r,variant:"secondary",className:"flex-1",children:"Save preferences"})]})]})]})}function g5(){return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Va,{}),a.jsxs("main",{className:"container px-4 py-24 max-w-3xl mx-auto",children:[a.jsx("h1",{className:"font-display text-4xl font-bold mb-2 text-foreground",children:"Cookie Policy"}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"RoThumbs"}),a.jsx("div",{className:"mb-12",children:a.jsx(m5,{})}),a.jsxs("div",{className:"prose prose-gray dark:prose-invert max-w-none space-y-8 text-muted-foreground",children:[a.jsx("p",{className:"text-sm",children:"Last updated: 2025-12-25"}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"1. What Are Cookies?"}),a.jsx("p",{children:"Cookies are small text files that are placed on your device (computer, tablet, or mobile) when you visit a website. They are widely used to make websites work more efficiently, provide a better user experience, and give website owners useful information."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"2. How We Use Cookies"}),a.jsx("p",{children:"RoThumbs uses cookies and similar technologies to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"Keep you signed in to your account"}),a.jsx("li",{children:"Remember your preferences and settings"}),a.jsx("li",{children:"Understand how you use our Service"}),a.jsx("li",{children:"Improve and optimize our Service"}),a.jsx("li",{children:"Ensure the security of your account"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"3. Types of Cookies We Use"}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Strictly Necessary Cookies"}),a.jsx("p",{children:"These cookies are essential for the operation of our Service. They enable core functionality such as security, authentication, and session management. You cannot opt out of these cookies as the Service would not function properly without them."}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Authentication cookies:"})," Keep you logged in during your session"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Security cookies:"})," Help protect your account and prevent fraud"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Session cookies:"})," Maintain your session state across page requests"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Functional Cookies"}),a.jsx("p",{children:"These cookies enable enhanced functionality and personalization, such as remembering your preferences. If you do not allow these cookies, some features may not function properly."}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Preference cookies:"})," Remember your settings and choices"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Language cookies:"})," Store your language preferences"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Analytics Cookies"}),a.jsx("p",{children:"These cookies help us understand how visitors interact with our Service by collecting and reporting information anonymously. This helps us improve the Service."}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Usage analytics:"})," Track page views, time spent, and navigation patterns"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Performance analytics:"})," Monitor Service performance and identify issues"]})]}),a.jsx("p",{children:"We only use analytics cookies with your consent where required by law."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"4. Third-Party Cookies"}),a.jsx("p",{children:"Some cookies are placed by third-party services that appear on our pages. We use the following third-party services:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Stripe:"})," For secure payment processing. Stripe may set cookies to prevent fraud and ensure secure transactions. ",a.jsx("a",{href:"https://stripe.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Stripe Privacy Policy"})]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Authentication providers:"})," When you sign in with Google, cookies may be set by Google for authentication purposes. ",a.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Google Privacy Policy"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"5. Your Cookie Choices"}),a.jsx("p",{children:"Under the EU General Data Protection Regulation (GDPR) and the ePrivacy Directive, you have the right to decide whether to accept or reject non-essential cookies."}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Cookie Consent"}),a.jsx("p",{children:"When you first visit our Service, you will be presented with a cookie consent banner that allows you to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"Accept all cookies"}),a.jsx("li",{children:"Reject non-essential cookies"}),a.jsx("li",{children:"Customize your cookie preferences"})]}),a.jsx("p",{children:"You can change your cookie preferences at any time through the cookie settings link in the footer of our website."}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mt-4",children:"Browser Settings"}),a.jsx("p",{children:"You can also control cookies through your browser settings. Most browsers allow you to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:"View what cookies are stored and delete them individually"}),a.jsx("li",{children:"Block third-party cookies"}),a.jsx("li",{children:"Block all cookies"}),a.jsx("li",{children:"Delete all cookies when you close your browser"})]}),a.jsx("p",{children:"Please note that blocking all cookies may affect the functionality of the Service."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"6. Cookie Duration"}),a.jsx("p",{children:'Cookies can be either "session" or "persistent" cookies:'}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Session cookies:"})," Temporary cookies that are deleted when you close your browser"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Persistent cookies:"})," Remain on your device for a set period or until you delete them"]})]}),a.jsx("p",{children:"Our authentication cookies typically persist for up to 30 days or until you log out."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"7. Do Not Track"}),a.jsx("p",{children:'Some browsers have a "Do Not Track" feature that signals to websites that you do not want your online activity tracked. Our Service respects Do Not Track signals where technically feasible.'})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"8. Updates to This Policy"}),a.jsx("p",{children:'We may update this Cookie Policy from time to time to reflect changes in technology, legislation, or our data practices. When we make material changes, we will notify you by updating the "Last updated" date at the top of this policy.'})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"9. Contact Us"}),a.jsx("p",{children:"If you have any questions about our use of cookies, please contact us at:"}),a.jsxs("ul",{className:"list-none space-y-1 pl-0",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Email:"})," support@rothumbs.com"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Address:"})," Mundo Binarii, mjr. Waleriana ukasiskiego 4, suite 258, 93-170 d, Poland"]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"10. Related Policies"}),a.jsx("p",{children:"For more information about how we handle your personal data, please see our:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[a.jsx("li",{children:a.jsx(at,{to:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx(at,{to:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})})]})]})]})]}),a.jsx(qa,{})]})}function y5(){return a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx(Va,{}),a.jsxs("main",{className:"container px-4 py-24 max-w-3xl mx-auto flex-1",children:[a.jsx("h1",{className:"font-display text-4xl font-bold mb-8 text-foreground",children:"Contact Us"}),a.jsxs("div",{className:"prose prose-gray dark:prose-invert max-w-none space-y-8 text-muted-foreground",children:[a.jsx("p",{className:"text-lg",children:"Have questions, feedback, or need support? We'd love to hear from you!"}),a.jsxs("div",{className:"grid gap-6 not-prose",children:[a.jsxs("div",{className:"flex items-start gap-4 p-6 rounded-xl border border-border bg-card",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(t0,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Email Support"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:"For general inquiries and support requests"}),a.jsx("a",{href:"mailto:support@rothumbs.com",className:"text-primary hover:underline font-medium",children:"support@rothumbs.com"})]})]}),a.jsxs("div",{className:"flex items-start gap-4 p-6 rounded-xl border border-border bg-card",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(eC,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Discord Community"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:"Join our community for quick help and updates"}),a.jsx("a",{href:"https://discord.gg/rothumbs",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"Join Discord Server"})]})]})]})]})]}),a.jsx(qa,{})]})}const v5=()=>{const e=un();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};class w5 extends L.Component{constructor(){super(...arguments);vm(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,errorMessage:r instanceof Error?r.message:"Unknown error"}}componentDidCatch(r){console.error("[AppErrorBoundary] Uncaught error:",r)}render(){return this.state.hasError?a.jsx("main",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-6",children:a.jsxs("section",{className:"w-full max-w-lg rounded-2xl border border-border/50 bg-card p-6 shadow-lg",children:[a.jsxs("header",{className:"mb-3",children:[a.jsx("h1",{className:"font-display text-xl font-bold",children:"Something went wrong"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The app hit an unexpected error. Reloading usually fixes it."})]}),a.jsx("div",{className:"rounded-xl bg-muted/40 border border-border/40 p-3 text-sm font-mono text-foreground/90 whitespace-pre-wrap break-words",children:this.state.errorMessage||"Unknown error"}),a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsx(Z,{onClick:()=>window.location.reload(),children:"Reload"}),a.jsx(Z,{variant:"outline",onClick:()=>window.location.href="/",children:"Go Home"})]})]})}):this.props.children}}function x5(){const[e,t]=h.useState(!1),[r,n]=h.useState(!1),[s,o]=h.useState(Zi);h.useEffect(()=>{im()||t(!0)},[]);const i=()=>{Wo({essential:!0,analytics:!0,marketing:!0,functional:!0}),t(!1)},l=()=>{Wo(Zi),t(!1)},c=()=>{Wo(s),n(!1),t(!1)};return e?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"fixed bottom-4 right-4 z-50 max-w-[280px] bg-background border border-border rounded-xl shadow-xl p-4 animate-in slide-in-from-bottom-4 duration-300",children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:"Choose your cookies"}),a.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["We use cookies to enhance your experience."," ",a.jsx("button",{onClick:()=>n(!0),className:"underline hover:text-foreground",children:"Cookie Settings"})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx(Z,{onClick:i,className:"w-full",size:"sm",children:"Accept all"}),a.jsx(Z,{onClick:l,variant:"outline",className:"w-full",size:"sm",children:"Reject non-essential cookies"})]})]}),a.jsx(Bs,{open:r,onOpenChange:n,children:a.jsxs(ls,{className:"sm:max-w-md",children:[a.jsx(cs,{children:a.jsx(us,{children:"Cookie Settings"})}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(mr,{className:"text-base font-medium",children:"Essential Cookies"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Required for the website to function. Cannot be disabled."})]}),a.jsx(xn,{checked:!0,disabled:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(mr,{className:"text-base font-medium",children:"Analytics Cookies"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Help us understand how visitors use our website."})]}),a.jsx(xn,{checked:s.analytics,onCheckedChange:u=>o(d=>({...d,analytics:u}))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(mr,{className:"text-base font-medium",children:"Marketing Cookies"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Used to deliver personalized advertisements."})]}),a.jsx(xn,{checked:s.marketing,onCheckedChange:u=>o(d=>({...d,marketing:u}))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(mr,{className:"text-base font-medium",children:"Functional Cookies"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable enhanced functionality and personalization."})]}),a.jsx(xn,{checked:s.functional,onCheckedChange:u=>o(d=>({...d,functional:u}))})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),a.jsx(Z,{onClick:c,className:"flex-1",children:"Save preferences"})]})]})})]}):null}const b5=5*60*1e3,_5="signup_abuse_checked:";function k5(e){const t=e.created_at?new Date(e.created_at).getTime():NaN;return Number.isFinite(t)?Date.now()-t<b5:!1}function S5(e){var r;const t=(r=e.app_metadata)==null?void 0:r.provider;return t==="google"||t==="github"||t==="discord"}function j5(){const e=h.useRef(new Set);return h.useEffect(()=>{$c();const t=async n=>{var u,d,f,p;if(!(n!=null&&n.id))return;const s=k5(n),o=S5(n);if(!s)return;const i=`${_5}${n.id}`;if(sessionStorage.getItem(i)==="1"||e.current.has(n.id))return;e.current.add(n.id);const l=typeof n.email=="string"?n.email:"",c=$c();console.log(`[SignupAbuseGuard] Checking new account: isOAuth=${o}, provider=${(u=n.app_metadata)==null?void 0:u.provider}`);try{const m=await W.functions.invoke("validate-signup",{body:{email:l,deviceFingerprint:c,userId:n.id}});if(m.error){console.error("[SignupAbuseGuard] Validation error:",m.error),H.error("Signup verification is temporarily unavailable. Please sign in again."),await W.auth.signOut();return}if(!!!((d=m.data)!=null&&d.allowed)){const y=((f=m.data)==null?void 0:f.reason)||"Signup limit exceeded for this device or network.";if(o)try{await new Promise(g=>setTimeout(g,800));const x=await W.functions.invoke("validate-signup",{body:{email:l,deviceFingerprint:c,userId:n.id}});if(!x.error&&!!((p=x.data)!=null&&p.allowed)){await W.functions.invoke("record-signup",{body:{email:l,deviceFingerprint:c,userId:n.id}}),sessionStorage.setItem(i,"1"),console.log("[SignupAbuseGuard] OAuth account validated on retry");return}}catch{}console.log(`[SignupAbuseGuard] Account blocked: ${y}`),await W.functions.invoke("delete-abusive-user",{body:{userId:n.id,reason:y}}),await W.auth.signOut(),H.error(y);return}await W.functions.invoke("record-signup",{body:{email:l,deviceFingerprint:c,userId:n.id}}),sessionStorage.setItem(i,"1"),console.log("[SignupAbuseGuard] Account validated and recorded successfully")}catch(m){console.error("[SignupAbuseGuard] Exception during validation:",m),await W.auth.signOut(),H.error("Account creation couldn't be verified. Please sign in again.")}finally{e.current.delete(n.id)}},{data:{subscription:r}}=W.auth.onAuthStateChange((n,s)=>{n==="SIGNED_IN"&&s!=null&&s.user&&setTimeout(()=>{t(s.user)},0)});return W.auth.getSession().then(({data:{session:n}})=>{n!=null&&n.user&&t(n.user)}),()=>r.unsubscribe()},[]),null}const E5=new IR,C5=()=>a.jsx(DR,{client:E5,children:a.jsxs(uR,{children:[a.jsx(qC,{}),a.jsx(jN,{}),a.jsxs(nP,{children:[a.jsx(j5,{}),a.jsxs(OT,{children:[a.jsx(fn,{path:"/",element:a.jsx($I,{})}),a.jsx(fn,{path:"/app",element:a.jsx(w5,{children:a.jsx(ID,{})})}),a.jsx(fn,{path:"/auth",element:a.jsx(s5,{})}),a.jsx(fn,{path:"/privacy",element:a.jsx(o5,{})}),a.jsx(fn,{path:"/terms",element:a.jsx(i5,{})}),a.jsx(fn,{path:"/cookies",element:a.jsx(g5,{})}),a.jsx(fn,{path:"/contact",element:a.jsx(y5,{})}),a.jsx(fn,{path:"*",element:a.jsx(v5,{})})]}),a.jsx(x5,{})]})]})});p5();jx(document.getElementById("root")).render(a.jsx(L.StrictMode,{children:a.jsx(C5,{})}));
